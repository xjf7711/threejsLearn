!function(a,b){var c=a.make={},d={},e={},f=[],g={};c.Default={path:"./",resPath:"",getImagePath:function(a){return this.path+this.resPath+"res/images/"+(a||"")},register:function(a,b,c){c=c||{},c.name=c.name||a,c.description=c.description||c.name,d[a]&&console.log(a," already exist"),d[a]=b;var h=c.category||"",i=e[h]||{};i[a]=b,e[h]=i,g[a]=c,-1==f.indexOf(h)&&f.push(h)},remove:function(a){if(d[a]){d[a]=b,delete d[a];var h=c.Default.getCategory(a),i=e[h];delete i[a];var j=0;for(var k in i)k&&j++;if(0==j)for(var k=0;k<f.length;k++){var l=f.indexOf(h);l>=0&&f.splice(l,1)}delete g[a]}else console.log(a," not exist")},getCategories:function(){return f},getCreatorsForCategory:function(a){return e[a]},getCreator:function(a){return d[a]},getModelDefaultParameters:function(a){var b=this.getParameters(a);return b.modelDefaultParameters},getDescription:function(a){var b=this.getParameters(a);return b.description},getName:function(a){var b=this.getParameters(a);return b.name},getIcon:function(a){var b=this.getParameters(a);return this.path+b.icon},isAsync:function(a){var b=this.getParameters(a);return b.async},isCombo:function(a){var b=this.getParameters(a);return b.combo},getCategory:function(a){var b=this.getParameters(a);return b.category},getOrder:function(a){var b=this.getParameters(a);return b.order||0},getOtherParameter:function(a,b){var c=this.getParameters(a);return c[b]},registerIcon:function(a,b){var c=this.getParameters(a);if(c)return c.icon=b,c.icon},registerDescription:function(a,b){var c=this.getParameters(a);return c.description=b,c.description},registerName:function(a,b){var c=this.getParameters(a);return c.name=b,c.name},registerOther:function(a,b,c){var d=this.getParameters(a);return d[b]=c,"modelDefaultParameters"===b?(console.log("Can not rewrite modelDefaultParameters"),!1):d[b]},getParameters:function(a){return g[a]||{}},load:function(a,b){var c;if(a instanceof Array){var d={};if(b){var e=function(c,d){var e=a.length;return function(a){c.datas=c.datas||[],c.datas.push(a),c._total===e&&b(c.datas)}(d)};d._total=0;for(var f=0;f<a.length;f++){var g=a[f];this.load(g,function(a){d._total++,e(d,a)})}return null}c=[];for(var f=0;f<a.length;f++){var g=a[f],h=this.load(g);h&&c.push(h)}}else{var i={};"string"==typeof a?i.id=a:i=a,i=this.filterJson(i),b?this._load(i,b):c=this._load(i)}return c},_load:function(a,b){var d=a.id,e=this.getCreator(d);if(!e)return console.log("unknown id: ",d),null;if(!b){var f=e(a);return c.Default._setObjectClientId(f,d),f}e(a,function(a){c.Default._setObjectClientId(a,d),b&&b(a)})},_setObjectClientId:function(a,b){a&&(a instanceof mono.Element||a instanceof twaver.Data)&&a.setClient("id",b)},copyArray:function(a,b,c){if(b=[],a)for(var d,e=0,f=a.length;f>e;e++)d={},this.copyProperties(a[e],d),b.push(d);return b},copyProperties:function(a,d,e){if(a&&d)for(var f in a)e&&e.indexOf(f)>=0||f.startsWith("_")||(d[f]===b&&(d[f]=a[f]),a[f]instanceof Object&&d[f]instanceof Object&&c.Default.copyProperties(a[f],d[f]))},getModelDefaultParametersValues:function(a){if(!a)return null;var c={};for(var d in a)a[d].value!==b&&(c[d]=a[d].value);return c},filterJson:function(a){var b=this.getModelDefaultParameters(a.id);return b=this.getModelDefaultParametersValues(b),this.copyProperties(b,a),a},UNIT_HEIGHT:4.445,EQUIPMENT_WIDTH:45.5,RACK_OFFSET_X:7.25,RACK_OFFSET_Y:6.655,RACK_WIDTH:60,getUnitHeight:function(){return this.UNIT_HEIGHT},getEquipmentWidth:function(){return this.EQUIPMENT_WIDTH},getEquipmentHeight:function(a){return parseInt(a)>0||console.error("method getEquipmentHeight's first argument scale value is zero"),this.UNIT_HEIGHT*a},getRackWidth:function(){return this.RACK_WIDTH},getRackHeight:function(a){return parseInt(a)>0||console.error("method getRackHeight's first argument scale value is zero"),this.RACK_OFFSET_Y+this.UNIT_HEIGHT*parseInt(a)+this.RACK_OFFSET_Y},getDataById:function(a){return null}},c.Default.PARAMETER_TYPE_STRING="string",c.Default.PARAMETER_TYPE_BOOLEAN="boolean",c.Default.PARAMETER_TYPE_COLOR="color",c.Default.PARAMETER_TYPE_INT="int",c.Default.PARAMETER_TYPE_NUMBER="number",c.Default.PARAMETER_PROPERTY_TYPE_FIELD="field",c.Default.PARAMETER_PROPERTY_TYPE_ACCESSOR="accessor",c.Default.PARAMETER_PROPERTY_TYPE_STYLE="style",c.Default.PARAMETER_PROPERTY_TYPE_CLIENT="client",String.prototype.format=function(a){var b=this;if(a){if(a instanceof Array)a.forEach(function(a,c){b=b.replace("{"+c+"}",a)});else{if(!(a instanceof Object))return b.replace("{}",a);for(var c in a)b=b.replace("{"+c+"}",a[c])}}return b},c.Utils3D={positionFloor:"floor-top",_objMap:{},_objObject:{},_envMaps:{envmap1:"envmap1.jpg",envmap2:"envmap2.jpg",envmap3:"envmap3.jpg"},getEnvMap:function(a){var b=c.Default.getImagePath()+c.Default._envMaps[a];return[b,b,b,b,b,b]},getOBjPath:function(){return this.path+"obj/"},createFloorForWall:function(a){var b={type:"twaver.floor",data:a.getClient("data")},c=this.getCreator(b.type);if(c){var d=this.loadData(b);d.setParent(a)}},createCombo:function(a,b){var c=[],d=[],e=[],f=[];!a||a instanceof Array||(a=[a]);for(var g=0;g<a.length;g++){var h=a[g],i=h.op||"+",j=h.style,k=h.client,l=h.position||[0,0,0],m=h.rotation||[0,0,0],n=h.scale||[1,1,1],o=null;if("cube"===h.type&&(o=this.createCube(h)),"cylinder"===h.type&&(o=this.createCylinder(h)),"sphere"===h.type&&(o=this.createSphere(h)),"polygon"===h.type&&(o=this.createPolygon(h)),"torus"===h.type&&(o=this.createTorus(h)),"path"===h.type&&(o=this.createPathCube(h)),"pathNode"===h.type&&(o=this.createPathNode(h)),"shapeNode"===h.type&&(o=this.createShapeNode(h)),o){if(m&&!h.rotationAnchor&&o.setRotation(m[0],m[1],m[2]),h.rotationAnchor){var p=o.getPosition();l=[l[0]+p.x,l[1]+p.y,l[2]+p.z]}o.setPosition(l[0],l[1],l[2]),o.setScale(n[0],n[1],n[2]),j&&o.s(j),k&&o.c(k),h.op?(o.getChildren().size()>0&&(c=c.concat(o.getChildren().toArray())),c.push(o),o.getChildren().size()>0?o.getChildren().forEach(function(){e.push(i)}):c.length>1&&e.push(i),f.push(o.getId())):d.push(o)}}if(c.length>0){var q;return q=b?new mono.ComboNode(c,e,!1,b):new mono.ComboNode(c,e),q.setNames(f),q}return 1==d.length?d[0]:d},setMainObject:function(a){function b(a,b){if(a){var c=a.getBoundingBox(),d=b.getBoundingBox(),e=c.min,f=c.max,g=d.min,h=d.max;(f.x-e.x<h.x-g.x||f.z-e.z<h.z-g.z)&&(a=b)}else a=b;return a}var c=null;if(a instanceof Array){for(var d=0;d<a.length;d++){var e=a[d];e instanceof mono.Entity&&(c=b(c,e))}for(var d=0;d<a.length;d++){var e=a[d];e instanceof mono.Entity&&c!=e&&a[d].setParent(c)}}else c=a;return c&&c.setClient("main",!0),c},createCube:function(a){var b,c=a.width,d=a.height,e=a.depth,f=a.sideColor||"#FFFFFF",g=a.topColor||f,h=a.rotation||[0,0,0],i=a.rotationAnchor,j=a.image,k=a.frontImage;if(b=a.id?new mono.Cube({id:a.id,width:c,height:d,depth:e}):new mono.Cube(c,d,e),b.s({"m.color":f,"m.ambient":f,"left.m.lightmap.image":this.getImagePath("inside_lightmap.jpg"),"right.m.lightmap.image":this.getImagePath("outside_lightmap.jpg"),"front.m.lightmap.image":this.getImagePath("outside_lightmap.jpg"),"back.m.lightmap.image":this.getImagePath("inside_lightmap.jpg"),"top.m.color":g,"top.m.ambient":g,"bottom.m.color":g,"bottom.m.ambient":g,"m.texture.image":j,"front.m.texture.image":k}),i){var l,m;"left"===i&&(l=new mono.Vec3(c/2,0,0),m=new mono.Vec3(0,1,0)),"right"===i&&(l=new mono.Vec3(-c/2,0,0),m=new mono.Vec3(0,1,0)),b.rotateFromAxis(m.clone(),l.clone(),h[1])}else b.setRotation(h[0],h[1],h[2]);return b},createCylinder:function(a){var b=a.radius||60,c=a.topRadius||b,d=a.bottomRadius||b,e=a.height||100,f=a.sideColor||"#FFFFFF",g=new mono.Cylinder(c,d,e);return g.s({"m.normalType":mono.NormalTypeSmooth,"m.type":"phong","m.color":f,"m.ambient":f,"side.m.lightmap.image":this.getImagePath("inside_lightmap.jpg")}),g},createSphere:function(a){var b=a.radius||80,c=a.sideColor||"#F5F5F5",d=new mono.Sphere(b);return d.s({"m.normalType":mono.NormalTypeSmooth,"m.type":"phong","m.color":c,"m.ambient":c,"m.lightmap.image":this.getImagePath("inside_lightmap.jpg")}),d},createPolygon:function(a){var b=a.radius||100,c=a.topRadius||b,d=a.bottomRadius||b,e=a.height||200,f=a.radialSegments||3,g=a.sideColor||"#F5F5F5",h=a.topColor||g,i=a.smooth||!0,j=new mono.Cylinder(c,d,e,f,i);return j.s({"m.normalType":mono.NormalTypeSmooth,"m.type":"phong","m.color":g,"top.m.color":h,"top.m.ambient":h,"bottom.m.color":h,"bottom.m.ambient":h,"m.ambient":g,"side.m.lightmap.image":this.getImagePath("inside_lightmap.jpg")}),j},createTorus:function(a){var b=a.radius||50,c=a.tube||30,d=a.tubularSegments||3,e=a.radialSegments||6,f=a.sideColor||"#F5F5F5",g=new mono.Torus(b,c,d,e);return g.s({"m.normalType":mono.NormalTypeSmooth,"m.type":"phong","m.color":f,"m.ambient":f,"m.lightmap.image":this.getImagePath("outside_lightmap.jpg")}),g},createPathNodePath:function(a){var b;if(a[0]&&a[0]instanceof Array)for(var c=0;c<a.length;c++){var d=a[c];b?"c"===d[0]?b.quadraticCurveTo(d[1],d[2],d[3],d[4],d[5],d[6]):b.lineTo(d[0],d[1],d[2]):(b=new mono.Path,b.moveTo(d[0],d[1],d[2]))}else for(var c=0;c<a.length;c+=3)b?b.lineTo(a[c],a[c+1],a[c+2]):(b=new mono.Path,b.moveTo(a[c],a[c+1],a[c+2]));return b},createPathNode:function(a){var b,c=a.radius,d=a.pathImage,e=a.repeat||new mono.Vec2(1,1),f=a.offset||new mono.Vec2(0,0),g=a.startCap||"plain",h=a.endCap||"plain",i=a.pathWidth||50,j=a.pathHeight||5,k=i/2,l=j/2,m=[{x:k,y:-l},{x:k,y:l},{x:-k,y:l},{x:-k,y:-l}],n=this.createPathNodePath(a.data);return b=i&&j?new mono.PathNode({path:n,shape:m,segments:10,segmentsR:5}):new mono.PathNode({path:n}),b.s({"m.texture.image":d,"m.texture.repeat":e,"m.texture.offset":f}),c&&b.setRadius(c),g&&b.setStartCap(g),h&&b.setEndCap(h),b},createShapeNodePath:function(a){var b;if(a[0]&&a[0]instanceof Array)for(var c=0;c<a.length;c++){var d=a[c];b?"c"===d[0]?b.quadraticCurveTo(d[1],-d[2],0,d[3],-d[4],0):b.lineTo(d[0],-d[1],0):(b=new mono.Path,b.moveTo(d[0],-d[1],0))}else for(var c=0;c<a.length;c+=2)b?b.lineTo(a[c],-a[c+1],0):(b=new mono.Path,b.moveTo(a[c],-a[c+1],0));return b},createShapeNode:function(a){var c=a.repeat||100,d=a.amount||2,e=!0;(null!==a.vertical||a.vertical!=b)&&(e=a.vertical);var f,g=this.createShapeNodePath(a.data);return f=a.id?new mono.ShapeNode({id:a.id,path:g}):new mono.ShapeNode(g),a.curveSegments&&f.setCurveSegments(a.curveSegments),f.setAmount(d),f.setVertical(e),f.setRepeat(c),f},createPathCube:function(a){var b=a.width,c=a.height,d=a.data,e=a.insideColor,f=a.outsideColor,g=a.asideColor,h=a.zsideColor,i=a.topColor,j=a.bottomColor,k=a.insideImage||a.image,l=a.outsideImage||a.image,m=a.repeat||a.height,n=a.closed,o=this.createShapeNodePath(d);n&&o.closePath();var p=new mono.PathCube(o,b,c);return p.s({"outside.m.color":f,"inside.m.type":"basic","inside.m.color":e,"aside.m.color":g||f,"zside.m.color":h||f,"top.m.color":i,"bottom.m.color":j||i,"inside.m.lightmap.image":this.getImagePath("inside_lightmap.jpg"),"outside.m.lightmap.image":this.getImagePath("outside_lightmap.jpg"),"aside.m.lightmap.image":this.getImagePath("outside_lightmap.jpg"),"zside.m.lightmap.image":this.getImagePath("outside_lightmap.jpg"),"inside.m.texture.image":k,"outside.m.texture.image":l}),p.setRepeat(m),p},getPicInfo:function(a,b){var c={};"string"==typeof b&&(b=[b]);for(var d=0;d<b.length;d++){var e=b[d],f=e.substring(0,e.indexOf(".")).toLowerCase();e=a+e,c[f]=e}return c},getRByD:function(a){return a*Math.PI/180},getDByR:function(a){return 180*a/Math.PI},setObject3dCSProps:function(a,b){b.client&&a.c(b.client),b.style&&a.s(b.style)},cloneObjElement:function(a,b){var c=a.rotation||[0,0,0],d=a.scale||[1,1,1],e=a.position||[0,0,0];e[1]=parseFloat(e[1])||0;var f=this._objObject[a.name],g=f.getBoundingBoxWithChildren(),h=(g.max.y-g.min.y)/2,i=f.clonePrefab();if(a.client)for(var j in a.client)i.setClient(j,a.client[j]);i.s(a.s||{}),i.setClient("type",a.name),i.setClient("json",a),i.setScale(d[0],d[1],d[2]),i.setPosition(e[0],e[1]+h*d[1],e[2]),i.setRotation(c[0],c[1],c[2]),b&&b(i)},createObj:function(a,b){var c=this;if(this._objObject[a.name])this.cloneObjElement(a,b);else{if(!this._objMap[a.name]){this._objMap[a.name]=[];var d=a.path&&c.path+a.path||this.getOBjPath(),e=d+a.name+".obj",f=d+a.name+".mtl",g=a.scale||[1,1,1],h=new mono.OBJMTLLoader;h.load(e,f,null,function(b){var d=b.getBoundingBoxWithChildren(),e=d.center();e.multiply(new mono.Vec3(g[0],g[1],g[2])),b.p(-e.x,-e.y,-e.z),b.setScale(g[0],g[1],g[2]),a.unMerged||(b=mono.Utils.mergeElements(b.getDescendants())),c._objObject[a.name]=b;var d=b.getBoundingBox();(d.max.y-d.min.y)/2;c._objMap[a.name].forEach(function(a){c.cloneObjElement(a.json,a.callback)})})}this._objMap[a.name].push({json:a,callback:b})}},generateTextCanvas:function(a,b,c,d,e){function f(a,b,c,d,f){h.globalAlpha=f,h.fillStyle=e||"#5B8505",h.beginPath(),h.moveTo(a,0),h.lineTo(b-a,0),h.arcTo(b,0,b,a,a),h.lineTo(b,c-2*d),h.arcTo(b,c-d,b-a,c-d,a),h.lineTo(b/2+25,c-d),h.lineTo(b/2,c),h.lineTo(b/2-25,c-d),h.lineTo(a,c-d),h.arcTo(0,c-d,0,c-d-30,a),h.lineTo(0,a),h.arcTo(0,0,a,0,a),h.closePath(),h.fill()}var g=document.createElement("canvas"),h=g.getContext("2d");h.font=c||"bold 80px 宋体";var i=[];i=a.indexOf("\n")?a.split("\n"):[a];for(var j=0,k=0;k<i.length;k++)j=0==k?h.measureText(i[k]).width:Math.max(h.measureText(i[k]).width,j);var l={},m=mono.Utils.getMaxTextSize(i,h.font),n=50,o=10;l.width=j+=2*n,l.height=oHeight=4*m.height/3+2*o;var p=mono.Utils.nextPowerOfTwo(j),q=mono.Utils.nextPowerOfTwo(oHeight);g.height=q,g.width=p,h.save(),d&&f(20,j,oHeight,20,0),h.restore(),h.fillStyle=b||"white",h.textBaseline="middle",h.font=c||"bold 80px sans-serif";for(var k=0;k<i.length;k++){var r=i[k];h.fillText(r,n,m.height/2+o)}return g.drawRect=l,g},getPathBoundingBox:function(a){for(var b,c,d,e,f={},g=0;g<a.length;g+=2)b=Math.min(b||a[g],a[g]),c=Math.max(c||a[g],a[g]),d=Math.min(d||-a[g+1],-a[g+1]),e=Math.max(e||-a[g+1],-a[g+1]);return f.centerPoint={x:(b+c)/2,y:(d+e)/2},f.min={x:b,y:d},f.max={x:c,y:e},f.size={x:c-b,y:e-d},f},setPositionY:function(a,b){if("number"==typeof b)a.setPositionY(b);else if(b==c.Default.positionFloor){var d=a.getBoundingBox().size();a.setPositionY(d.y/2)}},playAnimation:function(a,b,c){var d=b.split(":");if("move"===d[0]){var e=d[1];this.animateMove(a,e,c)}if("rotation"===d[0]){var f=d[1],g=d[2],h=parseInt(d[3])||1e3,i=parseInt(d[4]),j=d[5];this.animateRotate(a,f,g,h,i,j,c)}},animateMove:function(a,b,c){var d=a.getBoundingBox().size().multiply(a.getScale()),e=.8,f=new mono.Vec3(0,0,1),g=0;"right"===b&&(f=new mono.Vec3(1,0,0),g=d.x),"left"===b&&(f=new mono.Vec3(-1,0,0),g=d.x),"top"===b&&(f=new mono.Vec3(0,1,0),g=d.y),"bottom"===b&&(f=new mono.Vec3(0,-1,0),g=d.y),"front"===b&&(f=new mono.Vec3(0,0,1),g=d.z),"back"===b&&(f=new mono.Vec3(0,0,-1),g=d.z),g*=e,a.getClient("animated")&&(f=f.negate());var h=a.getPosition().clone();a.setClient("animated",!a.getClient("animated")),new twaver.Animate({from:0,to:1,dur:2e3,easing:"bounceOut",onUpdate:function(b){a.setPosition(h.clone().add(f.clone().multiplyScalar(g*b)))},onDone:function(){c&&c()}}).play()},animateRotate:function(a,c,d,e,f,g,h){g=g||"easeInStrong";var i=a.getBoundingBox().size().multiply(a.getScale()),j=0,k=1;a.getClient("animated")&&(k=-1),a.setClient("animated",!a.getClient("animated"));var l,m;if("left"===c){l=new mono.Vec3(-i.x/2,0,0);var m=new mono.Vec3(0,1,0)}if("right"===c){l=new mono.Vec3(i.x/2,0,0);var m=new mono.Vec3(0,1,0)}if("center-z"===c){l=new mono.Vec3(0,0,0);var m=new mono.Vec3(0,0,1)}var n=new twaver.Animate({from:j,to:k,dur:e,delay:f,easing:g,onUpdate:function(c){this.lastValue===b&&(this.lastValue=0),a.rotateFromAxis(m.clone(),l.clone(),Math.PI/180*-d*(c-this.lastValue)),this.lastValue=c},onDone:function(){delete this.lastValue,h&&h()}});n.play()}};for(var h in c.Utils3D)c.Default[h]=c.Utils3D[h];c.Default.register("twaver.cube",function(a,b){var d=c.Default.createCube(a);return b&&b(d),d},{category:"基本模型",type:"mono.Element",name:"立方体",icon:"model/idc/icons/cube.png",description:"立方体",modelDefaultParameters:{width:{name:"宽",value:100,type:c.Default.PARAMETER_TYPE_NUMBER,propertyType:c.Default.PARAMETER_PROPERTY_TYPE_ACCESSOR},height:{name:"高",value:100,type:c.Default.PARAMETER_TYPE_NUMBER,propertyType:c.Default.PARAMETER_PROPERTY_TYPE_ACCESSOR},depth:{name:"深",value:100,type:c.Default.PARAMETER_TYPE_NUMBER,propertyType:c.Default.PARAMETER_PROPERTY_TYPE_ACCESSOR}}}),c.Default.register("twaver.cylinder",function(a,b){var d=c.Default.createCylinder(a);return b&&b(d),d},{category:"基本模型",type:"mono.Element",name:"圆柱体",icon:"model/idc/icons/cylinder.png",description:"圆柱体",modelDefaultParameters:{topRadius:{name:"顶半径",value:60,type:c.Default.PARAMETER_TYPE_NUMBER,propertyType:c.Default.PARAMETER_PROPERTY_TYPE_ACCESSOR},bottomRadius:{name:"底半径",value:60,type:c.Default.PARAMETER_TYPE_NUMBER,propertyType:c.Default.PARAMETER_PROPERTY_TYPE_ACCESSOR},height:{name:"高",value:100,type:c.Default.PARAMETER_TYPE_NUMBER,propertyType:c.Default.PARAMETER_PROPERTY_TYPE_ACCESSOR}}}),c.Default.register("twaver.sphere",function(a,b){var d=c.Default.createSphere(a);return b&&b(d),d},{category:"基本模型",type:"mono.Element",name:"球体",icon:"model/idc/icons/sphere.png",description:"球体",modelDefaultParameters:{radius:{name:"半径",value:80,type:c.Default.PARAMETER_TYPE_NUMBER,propertyType:c.Default.PARAMETER_PROPERTY_TYPE_ACCESSOR}}}),c.Default.register("twaver.polygon",function(a,b){var d=c.Default.createPolygon(a);return b&&b(d),d},{category:"基本模型",type:"mono.Element",name:"多边形",icon:"model/idc/icons/polygon.png",description:"多边形",modelDefaultParameters:{topRadius:{name:"顶半径",value:100,type:c.Default.PARAMETER_TYPE_NUMBER,propertyType:c.Default.PARAMETER_PROPERTY_TYPE_ACCESSOR},bottomRadius:{name:"底半径",value:100,type:c.Default.PARAMETER_TYPE_NUMBER,propertyType:c.Default.PARAMETER_PROPERTY_TYPE_ACCESSOR},height:{name:"高",value:200,type:c.Default.PARAMETER_TYPE_NUMBER,propertyType:c.Default.PARAMETER_PROPERTY_TYPE_ACCESSOR},radialSegments:{name:"边数",value:3,type:c.Default.PARAMETER_TYPE_NUMBER,propertyType:c.Default.PARAMETER_PROPERTY_TYPE_ACCESSOR}}}),c.Default.register("twaver.torus",function(a,b){var d=c.Default.createTorus(a);return b&&b(d),d},{category:"基本模型",type:"mono.Element",name:"圆环",icon:"model/idc/icons/torus.png",description:"圆环",modelDefaultParameters:{radius:{name:"半径",value:50,type:c.Default.PARAMETER_TYPE_NUMBER,propertyType:c.Default.PARAMETER_PROPERTY_TYPE_ACCESSOR},tube:{name:"内外径差",value:30,type:c.Default.PARAMETER_TYPE_NUMBER,propertyType:c.Default.PARAMETER_PROPERTY_TYPE_ACCESSOR},tubularSegments:{name:"扁平程度",value:3,type:c.Default.PARAMETER_TYPE_NUMBER,propertyType:c.Default.PARAMETER_PROPERTY_TYPE_ACCESSOR},radialSegments:{name:"边数",value:6,type:c.Default.PARAMETER_TYPE_NUMBER,propertyType:c.Default.PARAMETER_PROPERTY_TYPE_ACCESSOR}}}),c.Default.register("twaver.combo",function(a){var b=a.data;if(b&&mono.Utils.isArray(b)){for(var d=null,e=null,f=0;f<b.length;f++)e=c.Default.load(b[f]),d?e.setParent(d):d=e;return d}},{type:"mono.Element",name:"组合模型",description:"组合模型，可以把多个不同的模型组合在一块，组成一个新的模型，传如参数是一个数组"}),c.Default.registerObj=function(a,b,d,e){var f=function(a,e){a.name=b,a.path=d,c.Default.createObj(a,e)};e=e||{},e.async=!0,c.Default.register(a,f,e)},c.Utils2D={create2dShapeNode:function(a){var b=a.position||[0,0,0],d=a.data,e=(a.image,a.objType,a.objectId),f=a.closed,g=new c.Default.ImageShapeNode(e);"innerWall"==a.objType?g=new c.Default.InnerWallShapeNode(e):"floor"==a.objType&&(g=new c.Default.FloorShapeNode(e));var h=c.Default.create2dShapePath(d,b);return g.setSegments(h.segments),g.setPoints(h.points),f&&g.setClient("closed",!0),c.Default.setObject2dCSProps(g,a),g},create2dShapePath:function(a,b){var c=new twaver.List,d=new twaver.List;if(a.length>0)if(c.add("moveto"),a[0]instanceof Array){d.add({x:parseFloat(a[0][0])+parseFloat(b[0]),y:parseFloat(a[0][1])+parseFloat(b[2])});for(var e=1;e<a.length;e++){var f=a[e];"c"==f[0]?(c.add("quadto"),d.add({x:parseFloat(f[1])+parseFloat(b[0]),y:parseFloat(f[2])+parseFloat(b[2])}),d.add({x:parseFloat(f[3])+parseFloat(b[0]),y:parseFloat(f[4])+parseFloat(b[2])})):(c.add("lineto"),d.add({x:parseFloat(f[0])+parseFloat(b[0]),y:parseFloat(f[1])+parseFloat(b[2])}))}}else{d.add({x:parseFloat(a[0])+parseFloat(b[0]),y:parseFloat(a[1])+parseFloat(b[2])});for(var e=2;e<a.length;e+=2)c.add("lineto"),d.add({x:parseFloat(a[e])+parseFloat(b[0]),y:parseFloat(a[e+1])+parseFloat(b[2])})}return{segments:c,points:d}},setObject2dCSProps:function(a,b){var c=b.style,d=b.client;if(c)for(var e in c)a.setStyle(e,c[e]);if(d)for(var e in d)a.setClient(e,d[e])},createBlockObject:function(a,b){var d=a.objectId,e=new c.Default.Block(d);"door"==b?e=new c.Default.Door(d):"window"==b&&(e=new c.Default.Window(d)),a.width&&e.setClient("length",a.width);var f=a.client||{};return e.setClient("edgeIndex",f.edgeIndex||1),e.setClient("offset",f.offset||0),c.Default.setObject2dCSProps(e,a),e},createNode:function(a){var b=a.position||[0,0,0],d=a.rotation||[0,0,0],e=a.width||50,f=a.depth||50,g=a.image,h=a.objectId,i=new twaver.Node(h);return i.setSize(parseFloat(e),parseFloat(f)),i.setCenterLocation({x:parseFloat(b[0]),y:parseFloat(b[2])}),i.setAngle(180*d[1]/Math.PI),b[1]&&i.setClient("positionY",b[1]),g?i.setImageUrl(g):(i.setStyle("body.type","vector"),i.setStyle("vector.shape","rectangle")),i.setStyle("select.style","border"),i.setStyle("select.color","#F07819"),i.setStyle("select.width",.7),i.setStyle("vector.outline.width",1),i.setStyle("vector.outline.color","#BEC9BE"),i.setStyle("label.position","center"),c.Default.setObject2dCSProps(i,a),i},createFollower:function(a){var d=a.location||[0,0],e=a.image,f=a.objectId,g=a.scale||1,h=new twaver.Follower(f);a.size&&(a.width=a.size.width,a.height=a.size.height),a.width!==b&&h.setWidth(a.width*g),a.height!==b&&h.setHeight(a.height*g);var i=a.parentObjectId,j=a.getDataById||c.Default.getDataById,k=j(i);return k&&(h.setHost(k),h.setParent(k),h.setClient("parentObjectId",i)),h.setLocation(parseFloat(d[0]),parseFloat(d[1])),a.centerLocation&&h.setCenterLocation(a.centerLocation[0],a.centerLocation[1]),e?h.setImageUrl(e):(h.setStyle("body.type","vector"),h.setStyle("vector.shape","rectangle"),h.setStyle("vector.fill",!0),h.setStyle("vector.fill.color",a.fillColor)),h.setStyle("select.style","border"),h.setStyle("select.color","#F07819"),h.setStyle("select.width",.7),h.setStyle("vector.outline.color","#BEC9BE"),a.angle&&h.setAngle(a.angle),c.Default.setObject2dCSProps(h,a),h},align:function(a,b){if(b&&a&&!(a.size()<2)){var c=this["_align_"+b];c&&c.call(this,a)}},_align_up:function(a){for(var b=a.get(0).getLocation().y,c=1;c<a.size();c++)b=Math.min(b,a.get(c).getLocation().y);a.forEach(function(a){a.setY(b)})},_align_down:function(a){for(var b=a.get(0).getLocation().y+a.get(0).getSize().height,c=1;c<a.size();c++)b=Math.max(b,a.get(c).getLocation().y+a.get(c).getSize().height);a.forEach(function(a){a.setY(b-a.getSize().height)})},_align_left:function(a){for(var b=a.get(0).getLocation().x,c=1;c<a.size();c++)b=Math.min(b,a.get(c).getLocation().x);a.forEach(function(a){a.setX(b)})},_align_right:function(a){for(var b=a.get(0).getLocation().x+a.get(0).getSize().width,c=1;c<a.size();c++)b=Math.max(b,a.get(c).getLocation().x+a.get(c).getSize().width);a.forEach(function(a){a.setX(b-a.getSize().width)})},_align_center:function(a){for(var b=0,c=0;c<a.size();c++)b+=a.get(c).getCenterLocation().y;var d=b/a.size();a.forEach(function(a){a.setY(d-a.getSize().height/2)})},_align_middle:function(a){for(var b=0,c=0;c<a.size();c++)b+=a.get(c).getCenterLocation().x;var d=b/a.size();a.forEach(function(a){a.setX(d-a.getSize().width/2)})},flow:function(a,b,c){if(b&&a&&!(a.size()<2)){var d=this["_flow_"+b];d&&d.call(this,a,c)}},_flow_hor:function(a,b){this.sort(a,function(a,b){return a.getLocation().y-b.getLocation().y}),this.sort(a,function(a,b){return a.getLocation().x-b.getLocation().x});for(var c=a.get(0),d=1;d<a.size();d++){var e=a.get(d),f=c.getLocation().x,g=c.getSize().width;e.setX(f+g+b),c=e}},_flow_ver:function(a,b){this.sort(a,function(a,b){return a.getLocation().x-b.getLocation().x}),this.sort(a,function(a,b){return a.getLocation().y-b.getLocation().y});for(var c=a.get(0),d=1;d<a.size();d++){var e=a.get(d),f=c.getLocation().y,g=c.getSize().height;e.setY(f+g+b),c=e}},sort:function(a,b){for(var c,d,e,f,g=a.size(),h=0;g>h;h++){c=a.get(h);for(var i=h+1;g>i;i++)d=a.get(i),e=b?b(c,d):0,e>0&&(f=d,d=c,c=f,a.set(h,c),a.set(i,d))}}};for(var h in c.Utils2D)c.Default[h]=c.Utils2D[h];var i=function(a){return a.indexOf("/")>0?a:c.Default.path+"model/idc/images/"+a},j=function(a){return a.indexOf("/")>0?a:"model/idc/icons/"+a},k=function(a){return{width:{name:"宽",value:60,type:"number"},height:{name:"高",value:a||"42U",type:"string"},depth:{name:"深",value:80,type:"number"}}},l=function(a){var b=k(a),d={cutWidth:{name:"内宽",value:45.5,type:"number"},backImage:{name:"背面图片",value:"rack_back_door.png",type:"image"},frameImage:{name:"顶部图片",value:"rack_top.png",type:"image"},sideImage:{name:"侧面图片",value:"rack_side.png",type:"image"},fontDoorImage:{name:"正面门图片",value:"rack_front_door.jpg",type:"image"}};return c.Default.copyProperties(d,b),b},m=function(a,b){var a=parseInt(a),c=i("rack.png");return 100>b?c=i("rack"+a+"u.png"):42==a?c=i("rack-120.png"):47==a&&(c=i("rack47U-120.png")),c};c.Default.register("twaver.idc.rack",function(a,b){var d=a.position||[0,0,0],e=d[0],f=d[1],g=d[2],h=a.rotation||[0,0,0],j=l(),k=a.width||j.width,n=a.cutWidth||j.cutWidth,o=a.height||j.height,p=a.depth||j.depth,q=i(a.backImage||j.backImage),r=i(a.sideImage||j.sideImage),s=i(a.frameImage||j.frameImage),t=c.Default.getRackHeight(o),u=a.frontImage||m(o,k),v=2*c.Default.RACK_OFFSET_Y,w=i(a.fontDoorImage||"rack_front_door.jpg"),x=a.doorBackPic||i("rack_door_back.png"),y=a.doorTransparent||!1,z=new mono.Cube(k,t,p);z.s({"m.color":"#666666","m.ambient":"#ffffff","m.specular":"#e5e5e5","m.type":"phong","m.specularStrength":3,"left.m.texture.image":r,"right.m.texture.image":r,"top.m.texture.image":s,"bottom.m.texture.image":s,"back.m.texture.image":q,"front.m.texture.image":u,"front.m.specularStrength":2});var A=new mono.Cube(n,t-v+1,.7*p);A.s({"m.type":"basic","m.color":"#666666","m.ambient":"#666666","m.specular":"#e5e5e5","m.specularStrength":100,"m.texture.image":i("rack_panel.png"),"m.lightmap.image":c.Default.getImagePath("outside_lightmap.jpg"),"top.m.texture.image":i("head_rack_side.png"),"bottom.m.texture.image":i("head_rack_side.png")}),A.setPosition(0,0,z.getDepth()/2-A.getDepth()/2+2);var B;B=a.objectId?new mono.ComboNode({id:a.objectId,combos:[z,A],operators:["-"]}):new mono.ComboNode([z,A],["-"]);for(var C in a.client)B.setClient(C,a.client[C]);var D=new mono.Cube(k,t,2);return D.s({"m.type":"phong","m.transparent":y,"front.m.texture.image":w,"back.m.texture.image":x,"m.envmap.image":c.Default.getEnvMap("envmap1")}),D.setParent(B),D.setClient("animation","rotation:right:-150:1000:0:bounceOut"),D.setClient("type","rack_door"),D.setClient("inbuilt",!0),D.setPosition(0,0,p/2+1),B.setPosition(e,0,g),c.Default.setPositionY(B,f),B.setClient("type","rack"),B.setRotation(h[0],h[1],h[2]),c.Default.setObject3dCSProps(B,a),b&&b(B),B},{name:"机柜",description:"机柜说明",icon:j("rack.png"),category:"机柜模型",type:"mono.Element",modelDefaultParameters:l()}),c.Default.register("twaver.idc.rack42",function(a,b){var d={id:"twaver.idc.rack",height:"42U"};return c.Default.copyProperties(a,d),c.Default.load(d,b)},{name:"42U机柜",description:"机柜说明",icon:j("rack.png"),category:"机柜模型",type:"mono.Element",modelDefaultParameters:l()}),c.Default.register("twaver.idc.rack43",function(a,b){var d={id:"twaver.idc.rack",height:"43U"};return c.Default.copyProperties(a,d),c.Default.load(d,b)},{name:"43U机柜",description:"机柜说明",icon:j("rack.png"),category:"机柜模型",type:"mono.Element",modelDefaultParameters:l()}),c.Default.register("twaver.idc.rack44",function(a,b){var d={id:"twaver.idc.rack",height:"44U"};return c.Default.copyProperties(a,d),c.Default.load(d,b)},{name:"44U机柜",description:"机柜说明",icon:j("rack.png"),category:"机柜模型",type:"mono.Element",modelDefaultParameters:l()}),c.Default.register("twaver.idc.rack45",function(a,b){var d={id:"twaver.idc.rack",height:"45U"};return c.Default.copyProperties(a,d),c.Default.load(d,b)},{name:"45U机柜",description:"机柜说明",icon:j("rack.png"),category:"机柜模型",type:"mono.Element",modelDefaultParameters:l()}),c.Default.register("twaver.idc.rack46",function(a,b){var d={id:"twaver.idc.rack",height:"46U"};return c.Default.copyProperties(a,d),c.Default.load(d,b)},{name:"46U机柜",description:"机柜说明",icon:j("rack.png"),category:"机柜模型",type:"mono.Element",modelDefaultParameters:l()}),c.Default.register("twaver.idc.rack47",function(a,b){var d={id:"twaver.idc.rack",height:"47U"};return c.Default.copyProperties(a,d),c.Default.load(d,b)},{name:"47U机柜",description:"机柜说明",icon:j("rack.png"),category:"机柜模型",type:"mono.Element",modelDefaultParameters:l()}),c.Default.register("twaver.idc.rack1",function(a,b){var d=a.position||[0,0,0],e=d[0],f=d[1],g=d[2],h=a.width,j=a.height,k=a.depth,l=c.Default.getRackHeight(j),n=a.rotation||[0,0,0],o=i("white.png"),p=2*c.Default.RACK_OFFSET_Y,q=m(j,h),r=new mono.Cube(h,l,k);r.s({"m.type":"phong","m.color":"#557E7A","m.ambient":"#557E7A","m.specularStrength":50,"m.lightmap.image":c.Default.getImagePath("outside_lightmap.jpg"),"m.normalmap.image":c.Default.getImagePath("metal_normalmap.jpg"),"m.specularmap.image":c.Default.getImagePath("outside_lightmap.jpg"),"m.envmap.image":c.Default.getEnvMap("envmap1"),"front.m.normalmap.image":c.Default.getImagePath("outside_lightmap.jpg"),"front.m.texture.image":q,"front.m.texture.repeat":new mono.Vec2(1,1),"front.m.specularmap.image":i("white.png"),"front.m.specularStrength":200,"front.m.envmap.image":[o,o,o,o,o,o]});var s=new mono.Cube(45.5,l-p,.7*k);s.s({"m.type":"basic","m.color":"#888888","m.ambient":"#888888","m.lightmap.image":c.Default.getImagePath("inside_lightmap.jpg"),"left.m.texture.image":i("rack_panel.png"),"right.m.texture.image":i("rack_panel.png"),"back.m.texture.image":i("rack_panel.png")}),s.setPosition(0,0,r.getDepth()/2-s.getDepth()/2+2);var t;t=a.objectId?new mono.ComboNode({id:a.objectId,combos:[r,s],operators:["-"]}):new mono.ComboNode([r,s],["-"]);var u=new mono.Cube(h,l,2);return u.s({"m.type":"phong","m.color":"#A5F1B5","m.ambient":"#A4F4EC","front.m.texture.image":i("rack_front_door.jpg"),"back.m.texture.image":i("rack_door_back.png"),"m.envmap.image":c.Default.getEnvMap("envmap1")}),u.setParent(t),u.setPosition(0,0,k/2+1),u.setClient("type","rack_door"),u.setClient("animation","rotation:right:-150:1000:0:bounceOut"),u.setClient("inbuilt",!0),t.p(e,0,g),t.setRotation(n[0],n[1],n[2]),c.Default.setPositionY(t,f),t.setClient("type","rack"),c.Default.setObject3dCSProps(t,a),b&&b(t),t},{name:"机柜1",description:"机柜说明",icon:j("rack1.png"),category:"机柜模型",type:"mono.Element",modelDefaultParameters:k("47U")}),c.Default.register("twaver.idc.simpleRack",function(a,b){var d=a.position||[0,0,0],e=d[0],f=d[1],g=d[2],h=l(),j=a.width||h.width,k=a.height||h.height,m=a.depth||h.depth;k=getRackHeight(k);var n,o=a.rotation||[0,0,0];return n=a.objectId?new mono.Cube({id:a.objectId,width:j,height:k,depth:m}):new mono.Cube(j,k,m),n.s({"m.type":"phong","m.color":"#666666","m.ambient":"#ffffff","m.specular":"#e5e5e5","m.specularStrength":2,"m.texture.image":i("rack_wrap.jpg")}),n.setWrapMode("six-each"),n.p(e,0,g),n.setRotation(o[0],o[1],o[2]),c.Default.setPositionY(n,f),n.setClient("type","rack"),c.Default.setObject3dCSProps(n,a),b&&b(n),n},{name:"简单机柜",description:"简单机柜说明",icon:j("racks.png"),category:"机柜模型",type:"mono.Element",modelDefaultParameters:k()});var n=function(a){var b=i("head_rack.png");return 220==a&&(b=i("head_rack1.jpg")),b};c.Default.register("twaver.idc.headerRack",function(a,b){var d=a.position||[0,0,0],e=d[0],f=d[1],g=d[2],h=a.width||60,j=a.height||200,k=a.depth||80;j=getRackHeight(j);var l,m=a.rotation||[0,0,0],o=a.image||n(j);return l=a.objectId?new mono.Cube({id:a.objectId,width:h,height:j,depth:k}):new mono.Cube(h,j,k),l.s({"m.type":"phong","m.color":"#ffffff","m.ambient":"#ffffff","m.specular":"#ffffff","m.specularStrength":3,"m.lightmap.image":c.Default.getImagePath("outside_lightmap.jpg"),
"m.specularmap.image":c.Default.getImagePath("outside_lightmap.jpg"),"m.texture.image":i("head_rack_side.png"),"front.m.texture.image":o,"front.m.envmap.image":c.Default.getEnvMap("envmap1"),"m.reflectRatio":.2}),l.p(e,0,g),l.setRotation(m[0],m[1],m[2]),c.Default.setPositionY(l,f),l.setClient("type","header_rack"),c.Default.setObject3dCSProps(l,a),b&&b(l),l},{name:"列头柜",description:"列头柜",icon:j("headerRack.png"),category:"机柜模型",type:"mono.Element",modelDefaultParameters:k()});var o={1:"equipment_front-1U.png",2:"equipment_front-2U.png",3:"equipment_front-3U.png",4:"equipment_front-4U.png",5:"equipment_front-5U.png",6:"equipment_front-6U.png",7:"equipment_front-7U.png",8:"equipment_front-8U.png"},p=function(a){return{width:{value:45,name:"宽"},depth:{value:50,name:"深"},image:{value:o[a],name:"正面贴图",type:"image"}}},q=function(a,b){return{type:"mono.Element",category:"设备",name:a+"U设备",icon:j(b||"server1.png"),description:"设备描述:高度参数是U数",modelDefaultParameters:p(a)}};c.Default.register("twaver.idc.equipment1",function(a,b){var d=a.position||[0,0,0],e=d[0],f=d[1],g=d[2],h=a.width,j=parseInt(a.height||1),k=a.depth,l=4.445*j,m=o,n=a.cut,p=new mono.Cube(h-2,l-1,k);p.s({"m.color":"#666","m.ambient":"#666","m.type":"phong","m.side":mono.DoubleSide,"m.texture.image":i("rack_inside.png"),"m.lightmap.image":c.Default.getImagePath("outside_lightmap.jpg")});var q=new mono.Cube(parseFloat(h)+5,parseFloat(l),1),r=i("server.png");n||(r=i(a.image||m[j])),q.s({"m.type":"phong","m.color":"#333","m.ambient":"#333","m.texture.image":i("rack_inside.png"),"front.m.transparent":!0,"m.side":mono.DoubleSide,"front.m.texture.image":r,"front.m.texture.repeat":new mono.Vec2(1,1),"front.m.color":"#fff","front.m.ambient":"#fff"}),q.p(0,0,p.getDepth()/2+q.getDepth()/2);var s;if(s=a.objectId?new mono.ComboNode({id:a.objectId,combos:[p,q],operators:["+"]}):new mono.ComboNode([p,q],["+"]),a.client)for(var t in a.client)s.setClient(t,a.client[t]);return s.setClient("animation","move:front:1:1000:0:bounceOut"),s.p(e,0,g),c.Default.setPositionY(s,f),c.Default.setObject3dCSProps(s,a),b&&b(s),s},q(1,"server1.png")),c.Default.register("twaver.idc.equipment",function(a){return a.id="twaver.idc.equipment1",a.height=2,c.Default.load(a)},q(2,"server2.png")),c.Default.register("twaver.idc.equipment2",function(a){return a.id="twaver.idc.equipment1",a.height=2,c.Default.load(a)},q(2,"server2.png")),c.Default.register("twaver.idc.equipment3",function(a){return a.id="twaver.idc.equipment1",a.height=3,c.Default.load(a)},q(3,"server3.png")),c.Default.register("twaver.idc.equipment4",function(a){return a.id="twaver.idc.equipment1",a.height=4,c.Default.load(a)},q(4,"server4.png")),c.Default.register("twaver.idc.equipment5",function(a){return a.id="twaver.idc.equipment1",a.height=5,c.Default.load(a)},q(5,"server5.png")),c.Default.register("twaver.idc.equipment6",function(a){return a.id="twaver.idc.equipment1",a.height=6,c.Default.load(a)},q(6,"server6.png")),c.Default.register("twaver.idc.equipment7",function(a){return a.id="twaver.idc.equipment1",a.height=7,c.Default.load(a)},q(7,"server7.png")),c.Default.register("twaver.idc.equipment8",function(a){return a.id="twaver.idc.equipment1",a.height=8,c.Default.load(a)},q(8,"server8.png"));var q=function(a){return{type:"mono.Element",category:"设备",name:a+"U设备",icon:j("server.png"),description:"设备描述:高度参数是U数",modelDefaultParameters:p(a)}};c.Default.register("twaver.idc.equipment8-1",function(a,b){return a.id="twaver.idc.equipment1",a.height=a.height||8,a.cut=!0,c.Default.load(a,b)},{type:"mono.Element",category:"设备",name:"8U机框",icon:j("server8-1.png"),description:"设备描述:高度参数是U数",modelDefaultParameters:p(8)}),c.Default.getCardParameters=function(){return{width:{value:5,name:"宽"},height:{value:50,name:"高"},depth:{value:50,name:"深"},image:{value:"card2.png",name:"贴图",type:"image"}}},c.Default.register("twaver.idc.card",function(a){var b=a.position||[0,0,0],d=b[0],e=b[1],f=b[2],g=a.width,h=a.height,j=a.depth,k=a.rotation||[0,0,0],l=a.color||"white",m=i(a.image||"card2.png"),n=[{type:"cube",width:g,height:h,depth:1,position:[0,0,0],rotation:k,op:"+",style:{"m.color":l,"m.ambient":l,"m.texture.image":i("gray.png"),"front.m.texture.image":m,"back.m.texture.image":m}},{type:"cube",width:1,height:.95*h,depth:j,position:[0,0,-j/2],rotation:k,op:"+",style:{"m.color":l,"m.ambient":l,"m.texture.image":i("gray.png"),"left.m.texture.image":i("card_body.png"),"right.m.texture.image":i("card_body.png"),"left.m.texture.flipX":!0,"m.transparent":!0,"m.lightmap.image":c.Default.getImagePath("outside_lightmap.jpg")}}],o=c.Default.createCombo(n,a.objectId);return o.p(d,e,f),c.Default.setObject3dCSProps(o,a),o},{category:"板卡",type:"mono.Element",name:"板卡",icon:j("card.png"),description:"板卡",modelDefaultParameters:c.Default.getCardParameters()}),c.Default.register("twaver.idc.floor",function(a,b){var d=a.data,e=a.image||i("floor.png"),f=a.repeat||200,g=a.position||[0,0,0],h={type:"shapeNode",data:d,vertical:!0,repeat:f,position:g,client:{type:"floor"},style:{"m.type":"basic","m.texture.image":e}},j=c.Default.createCombo([h]);return c.Default.setObject3dCSProps(j,a),b&&b(j),j}),c.Default.getColumnParameters=function(){return{width:60,height:260,depth:60}},c.Default.register("twaver.idc.column",function(a,b){var d=c.Default.getColumnParameters(),e=a.width||d.width,f=a.height||d.height,g=a.depth||d.depth,h=a.position||[0,0,0],j=a.color||"#E8E8E8",k=a.rotation||[0,0,0],l=a.image,m=new mono.Cube(e,f,g);return m.s({"m.type":"basic","m.color":j,"m.lightmap.image":c.Default.getImagePath("inside_lightmap1.png"),"top.m.lightmap.image":i("white.png"),"top.m.color":"#F7F7F7","m.polygonOffset":!0,"m.polygonOffsetFactor":6,"m.polygonOffsetUnits":3}),m.c({type:"column"}),l&&(m.setStyle("left.m.texture.image",l),m.setStyle("right.m.texture.image",l),m.setStyle("front.m.texture.image",l),m.setStyle("back.m.texture.image",l)),m.p(h[0],0,h[2]),m.setRotation(k[0],k[1],k[2]),c.Default.setPositionY(m,h[1]),c.Default.setObject3dCSProps(m,a),b&&b(m),m});var r=function(a,b,c){var d=0,e={x:a[0],y:a[2]},f=[],c=c||[0,0,0];if(b[0]instanceof Array){for(var g=0;g<b.length;g++)f.push(b[g]);f.push(b[0]);for(var g=0;g<f.length-1;g++){var h={x:f[g][0]+c[0],y:f[g][1]+c[2]},i={x:f[g+1][0]+c[0],y:f[g+1][1]+c[2]};s(e,h,i,10)&&(d=Math.atan((h.y-i.y)/(h.x-i.x)))}}else{for(var g=0;g<b.length;g++)f.push(b[g]);f.push(b[0]),f.push(b[1]);for(var g=0;g<f.length-2;g+=2){var h={x:f[g]+c[0],y:f[g+1]+c[2]},i={x:f[g+2]+c[0],y:f[g+3]+c[2]};s(e,h,i,10)&&(d=Math.atan((h.y-i.y)/(h.x-i.x)))}}return-d},s=function(a,b,c,d){0>d&&(d=0);var e=t(a,b,c);return d>=e&&a.x>=Math.min(b.x,c.x)-d&&a.x<=Math.max(b.x,c.x)+d&&a.y>=Math.min(b.y,c.y)-d&&a.y<=Math.max(b.y,c.y)+d},t=function(a,b,c){if(b.x===c.x)return Math.abs(a.x-b.x);var d=(c.y-b.y)/(c.x-b.x),e=(c.x*b.y-b.x*c.y)/(c.x-b.x);return Math.abs(d*a.x-a.y+e)/Math.sqrt(d*d+1)};c.Default.register("twaver.idc.wall",function(a,b){var d=[],e=a.wallWidth||30,f={type:"path",op:"+",width:e,height:a.height||261,insideColor:a.insideColor||"#EFEFEF",outsideColor:a.outsideColor||"#DCE8E9",asideColor:a.asideColor||"#B8CAD5",zsideColor:a.zsideColor||"#B8CAD5",topColor:a.topColor||"#F7FEFF",bottomColor:a.bottomColor||"#B8CAD5",insideImage:a.insideImage,outsideImage:a.outsideImage||i("wall.png"),repeat:a.repeat||130,position:a.position,data:a.data,closed:a.closed};if(d.push(f),a.children)for(var g=0;g<a.children.length;g++){a.children[g].inbuilt=!0,a.children[g].depth=e+6;var h=r(a.children[g].position,a.data,a.position);a.children[g].rotation=[0,h,0];var j=c.Default.load(a.children[g]);d=d.concat(j)}for(var k=[],l=[],g=0;g<d.length;g++){var m=d[g];m.op?k.push(m):l.push(m)}var n=c.Default.createCombo(k);if(a.style&&n.s(a.style),n.setClient("data",a.data),n.setClient("type","wall"),l.length>0)for(var g=0;g<l.length;g++){var o=l[g],p=c.Default.createCombo(o);p.setParent&&p.setParent(n)}if(c.Default.setObject3dCSProps(n,a),a.showFloor){var q=a.position||[0,0,0],s=c.Default.load({id:"twaver.idc.floor",data:a.data,position:[q[0],-1,q[2]]});s.setParent(n)}return b&&b(n),n}),c.Default.register("twaver.idc.innerWall",function(a,b){var d=[],e=a.wallWidth||20,f={type:"path",op:"+",width:e,height:a.height||260,floorShadow:!0,insideColor:a.insideColor||"#EFEFEF",outsideColor:a.outsideColor||"#EFEFEF",asideColor:a.asideColor||"#B8CAD5",zsideColor:a.zsideColor||"#B8CAD5",topColor:a.topColor||"#F7F7F7",bottomColor:a.bottomColor||"#B8CAD5",insideImage:a.insideImage,outsideImage:a.outsideImage,repeat:a.repeat,position:a.position,data:a.data,style:{"m.polygonOffset":!0,"m.polygonOffsetFactor":6,"m.polygonOffsetUnits":3}};if(d.push(f),a.children)for(var g=0;g<a.children.length;g++){a.children[g].inbuilt=!0,a.children[g].depth=e+6;var h=r(a.children[g].position,a.data,a.position);a.children[g].rotation=[0,h,0];var i=c.Default.load(a.children[g]);d=d.concat(i)}for(var j=[],k=[],g=0;g<d.length;g++){var l=d[g];l.op?j.push(l):k.push(l)}var m=c.Default.createCombo(j);if(a.style&&m.s(a.style),m.setClient("data",a.data),m.setClient("type","inner_wall"),k.length>0)for(var g=0;g<k.length;g++){var n=k[g],o=c.Default.createCombo(n);o.setParent&&o.setParent(m)}return c.Default.setObject3dCSProps(m,a),b&&b(m),m}),c.Default.register("twaver.idc.glassWall",function(a,b){var d=[],e=a.width||20,f=a.insideImage||i("glass_wall.png"),g=a.outsideImage||i("glass_wall.png"),h={type:"path",op:"+",width:e,height:a.height||260,floorShadow:!0,repeat:a.repeat,position:a.position,data:a.data,style:{"m.type":"phong","m.polygonOffset":!0,"m.polygonOffsetFactor":6,"m.polygonOffsetUnits":2,"m.transparent":!0,"inside.m.texture.image":f,"outside.m.texture.image":g,"m.color":"#62F3FF","aside.m.color":"#000000","zside.m.color":"#333333","top.m.color":"#F7F7F7","top.m.ambient":"#E0E0E0","m.specularStrength":100,"m.envmap.image":c.Default.getEnvMap("envmap2"),"m.specularmap.image":i("white.png")}};if(d.push(h),a.children)for(var j=0;j<a.children.length;j++){a.children[j].inbuilt=!0;var k=c.Default.load(a.children[j]);d=d.concat(k)}for(var l=[],m=[],j=0;j<d.length;j++){var n=d[j];n.op?l.push(n):m.push(n)}var o=c.Default.createCombo(l);if(a.style&&o.s(a.style),o.setClient("data",a.data),o.setClient("type","glass_wall"),m.length>0)for(var j=0;j<m.length;j++){var p=m[j],q=c.Default.createCombo(p);q.setParent&&q.setParent(o)}return c.Default.setObject3dCSProps(o,a),b&&b(o),o}),c.Default.register("twaver.idc.window",function(a){var b=a.position||[0,0,0],d=b[0],e=b[1],f=b[2],g=a.rotation||[0,0,0],h=a.width||120,j=a.height||150,k=a.depth||50,l=a.glassDepth||4,m=5,n=45,o=10,p=a.image||i("window.png"),q=(a.transparent,a.platform),r={type:"cube",width:h,height:j,depth:k,rotation:g,position:[d,e+30+j/2,f],op:"-",sideColor:"#EFEFEF",topColor:"#EFEFEF"},s={type:"cube",width:h-.5,height:j-.5,depth:l,rotation:g,position:[d,e+30+j/2,f],op:"+",style:{"m.color":"#F0F0F0","m.ambient":"#F0F0F0","m.type":"phong","m.specularStrength":.1,"m.envmap.image":c.Default.getEnvMap("envmap1"),"m.texture.repeat":new mono.Vec2(1,1),"m.texture.image":p},client:{type:"window"}};0!=a.transparent&&(s.style["front.m.transparent"]=!0,s.style["back.m.transparent"]=!0);var t=[r,s];return q&&t.push({type:"cube",width:h,height:m,depth:n,position:[d,e,f+o],rotation:g,op:"+",sideColor:"#A5BDDD",topColor:"#D6E4EC"}),a.inbuilt?t:c.Default.createCombo(t)}),c.Default.register("twaver.idc.door1",function(a){var d=a.position||[0,0,0],e=d[0],f=d[1],g=d[2],h=a.rotation||[0,0,0],j=a.width||100,k=a.height||180,l=a.depth||26,m=10,n=2,o=a.image||i("door_right.png"),p=!0,q=a.color||"#62F3FF";null!=a.transparent&&a.transparent!=b&&(p=a.transparent);var r=[{type:"cube",width:j,height:k,depth:l,op:"+",position:[e,f+k/2,g],rotation:h,sideColor:"#CDCDCD",topColor:"#CDCDCD",style:{"m.type":"phong","m.specularStrength":50}},{type:"cube",width:j-m,height:k-m/2-n,depth:l+2,op:"-",position:[e,f+n+k/2,g],rotation:h,sideColor:"#FEFEFE",topColor:"#FEFEFE"},{type:"cube",width:j-m-2,height:k-m/2-n-2,depth:2,position:[e,n+1+k/2,g],sideColor:q,topColor:q,rotation:h,style:{"top.m.polygonOffset":!0,"top.m.polygonOffsetFactor":100,"top.m.polygonOffsetUnits":20,"m.type":"phong","m.transparent":p,"front.m.texture.image":o,"back.m.texture.image":o,"front.m.texture.flipX":!0,"m.specularStrength":100,"m.envmap.image":p?c.Default.getEnvMap("envmap2"):null,"m.specularmap.image":i("white.png")},client:{animation:"rotation:left:-80:1000:0:bounceOut",type:"door"}}];return a.inbuilt?r:c.Default.createCombo(r)});var u=function(a){var b=a.position||[0,0,0],d=b[0],e=b[1],f=b[2],g=a.rotation||[0,0,0],h=a.width||205,j=a.height||180,k=a.depth||26,l=10,m=2,n=a.color||"#62F3FF",o=a.acs||!1,p=a.client,q=p&&p.leftImage||i("door_left.png"),r=p&&p.rightImage||i("door_right.png"),s=p&&p.envmap||c.Default.getEnvMap("envmap2"),t=[{type:"cube",width:h,height:j,depth:k,op:"+",position:[d,e+j/2,f],rotation:g,sideColor:"#CDCDCD",topColor:"#CDCDCD",style:{"m.type":"phong","m.specularStrength":50}},{type:"cube",width:h-l,height:j-l/2-m,depth:k+2,op:"-",position:[d,e+m+j/2,f],rotation:g,sideColor:"#FEFEFE",topColor:"#FEFEFE"},{type:"cube",width:(h-l)/2-2,height:j-l/2-m-2,depth:2,position:[d-(h-l)/4+1,e+m+1+j/2,f],sideColor:n,topColor:n,rotation:g,rotationAnchor:"left",style:{"top.m.polygonOffset":!0,"top.m.polygonOffsetFactor":100,"top.m.polygonOffsetUnits":20,"m.type":"phong","m.transparent":!0,"front.m.texture.image":q,"back.m.texture.image":r,"m.specularStrength":100,"m.envmap.image":s,"m.specularmap.image":i("white.png")},client:{animation:"rotation:left:-90:1000:0:bounceOut",type:"door"}},{type:"cube",width:(h-l)/2-2,height:j-l/2-m-2,depth:2,position:[d+(h-l)/4-1,e+m+1+j/2,f],sideColor:n,topColor:n,rotation:g,rotationAnchor:"right",style:{"top.m.polygonOffset":!0,"top.m.polygonOffsetFactor":100,"top.m.polygonOffsetUnits":20,"m.type":"phong","m.transparent":!0,"front.m.texture.image":r,"back.m.texture.image":q,"m.specularStrength":100,"m.envmap.image":s,"m.specularmap.image":i("white.png")},client:{animation:"rotation:right:90:1000:0:bounceOut",type:"door"}}];return o&&t.push({type:"cube",width:11.6,height:11.6,depth:2,rotation:g,rotationAnchor:"left",position:[d+h/2+8,(j-l/2-m-2)/2,f+10],style:{"m.color":"#ffffff","m.ambient":"#ffffff","m.specular":"#FFFFFF","m.type":"phong","m.texture.image":i("rack_inside.png"),"front.m.texture.image":i("acs.jpg")}}),t};c.Default.register("twaver.idc.door",function(a){var b=u(a);return a.inbuilt?b:c.Default.createCombo(b)}),c.Default.register("twaver.idc.area",function(a){var b=a.height||5,d=a.position||[0,0,0],e=a.color||"#abc",f=a.label,g=a.labelColor||"red",h=c.Default.createShapeNodePath(a.data),i=new mono.ShapeNode(h);if(i.s({"m.type":"phong","m.side":"both","m.color":e,"m.ambient":e,"m.transparent":!0,"m.opacity":.8}),i.setAmount(b),i.setVertical(!0),i.setClient("type","area"),i.renderDepth=-100,f){var j=c.Default.getPathBoundingBox(a.data).size,k=i.options.repeat,l=c.Default.generateTextCanvas(f,g,null,!1);i.setStyle("top.m.texture.image",l),i.setStyle("m.texture.anisotropy",8),i.setStyle("m.texture.repeat",new mono.Vec2(1/(j.x/k),1/(j.y/k))),i.setStyle("m.texture.offset",new mono.Vec2(.5,.5))}return i.p(d[0],d[1],d[2]),c.Default.setObject3dCSProps(i,a),i}),c.Default.getAisleParameters=function(){return{rackWidth:60,rackHeight:200,rackDepth:80,rackNumber:20,windowAnimationType:2,doorAnimationType:2}},c.Default.register("twaver.idc.aisle1",function(a){a.isSingle=!0;var b=a.side||"left";return a.side=b,a.id="twaver.idc.aisle",aisle=c.Default.load(a),aisle}),c.Default.register("twaver.idc.aisle",function(a){var b=a.position||[0,0,0],d=b[0],e=b[1],f=b[2],g=a.rotation||[0,0,0],h=a.axis||"x",j=c.Default.getAisleParameters(),k=parseFloat(a.rackNumber||j.rackNumber),l=parseFloat(a.rackWidth||j.rackWidth),m=k/2*l,n=parseFloat(a.rackHeight||j.rackHeight),o=parseFloat(a.rackDepth||j.rackDepth),p=parseFloat(a.aisleDepth||140),q=a.windowAnimationType||j.windowAnimationType,r=a.doorAnimationType||j.doorAnimationType,s=a.isSingle,t=a.side||"left",u=[],v=[],w=2*(o+p/2)-10,x=new mono.Cube(m,n,w);x.s({"m.transparent":!0,"m.opacity":.001}),x.setPosition(0,n/2+1,0);var y=[],z=0,A=0,B=0;s&&(w=o+p/2*2-5,r=a.doorAnimationType||1,"left"==t?(z=-o/2+2.5,A=p/2-2,B=-p/4):(z=o/2-2.5,A=-p/2+2,B=p/4),u.push({type:"cube",width:m+5,height:n,depth:5,op:"+",position:[0,0,A],style:{"m.type":"phong","m.side":"both","m.color":"#62F3FF","m.ambient":"#62F3FF","m.envmap.image":c.Default.getEnvMap("envmap2"),"m.transparent":!0,"m.texture.image":i("skylight01-1.png"),"m.polygonOffset":!0,"m.polygonOffsetFactor":6,"m.polygonOffsetUnits":3}}));for(var C=-1;2>C;C+=2)u.push({type:"cube",width:m+5,height:12,depth:2,op:"+",position:[0,n/2,(p-5)/2*C],style:{"m.type":"phong","m.color":"#666666","m.ambient":"#0c0c0c","m.specular":"#e5e5e5","m.specularStrength":3}});for(var C=-1;2>C;C+=2)u.push({type:"cube",width:10,height:16,depth:w,op:"+",position:[(m/2+5)*C,n/2-3,z],style:{"m.type":"phong","m.color":"#666666","m.ambient":"#0c0c0c","m.specular":"#e5e5e5","m.specularStrength":3}});for(var C=-1;2>C;C+=2){var D="door1",E="move:front:0.8";1==r&&(E="rotation:front:-120:1000:0:bounceOut"),1==C&&(D="door2",1==r&&(E="rotation:front:120:1000:0:bounceOut")),v.push({type:"cube",width:5,height:n-5,depth:p/2,position:[m/2*C,0,p/4],style:{"m.type":"phong","m.color":"#62F3FF","m.ambient":"#62F3FF","m.envmap.image":c.Default.getEnvMap("envmap2"),"left.m.transparent":!0,"left.m.texture.image":i("right-door.png"),"right.m.transparent":!0,"right.m.texture.image":i("left-door.png")},client:{animation:E,"animation-group":D}})}for(var C=-1;2>C;C+=2){var D="door1",E="move:back:0.8";1==r&&(E="rotation:back:120:1000:0:bounceOut"),1==C&&(D="door2",1==r&&(E="rotation:back:-120:1000:0:bounceOut")),v.push({type:"cube",width:5,height:n-5,depth:p/2,position:[m/2*C,0,-p/4],style:{"m.type":"phong","m.color":"#62F3FF","m.ambient":"#62F3FF","m.envmap.image":c.Default.getEnvMap("envmap2"),"left.m.transparent":!0,"left.m.texture.image":i("left-door.png"),"right.m.transparent":!0,"right.m.texture.image":i("right-door.png")},client:{animation:E,"animation-group":D}})}var F={};2==q&&(F={animation:"rotation:center-z:90:1000:0:bounceOut","animation-group":"skylight"});for(var C=0;k/2>C;C++){var G={type:"cube",width:61,height:2,depth:p-4,position:[-61*k/4+30.5+61*C,n/2+6,0],style:{"m.type":"phong","m.color":"#00ECFF","m.ambient":"#00ECFF","m.envmap.image":c.Default.getEnvMap("envmap2"),"m.transparent":!0,"m.texture.image":i("skylight.png")},client:F};v.push(G)}var H=c.Default.createCombo(u);y.push(H);for(var I=c.Default.createCombo(v),C=0;C<I.length;C++)y.push(I[C]);x.setClient("real_channel",y);for(var C=0;C<y.length;C++)y[C].setParent(x);return x.p(d,0,f),c.Default.setPositionY(x,e),x.setDepth(w),x.setClient("type","aisle"),"z"===h?x.setRotation(0,Math.PI/2,0):x.setRotation(g[0],g[1],g[2]),x.getSkyLights=function(){return I},c.Default.setObject3dCSProps(x,a),x}),c.Default.register("twaver.idc.simpleAisle",function(a){var b=a.position||[0,0,0],d=b[0],e=b[1],f=b[2],g=a.rotation||[0,0,0],h=a.axis||"x",j=c.Default.getAisleParameters(),k=parseFloat(a.rackNumber||j.rackNumber),l=parseFloat(a.rackWidth||j.rackWidth)+1,m=k/2*l,n=parseFloat(a.rackHeight||j.rackHeight),o=parseFloat(a.rackDepth||j.rackDepth),p=(a.windowAnimationType||j.windowAnimationType,a.doorAnimationType||j.doorAnimationType),q=a.isSingle,r=a.side||"left",s=2*(o+70)-10,t=new mono.Cube(m,n,s);t.s({"m.transparent":!0,"m.opacity":.001});var u=[],v=0,w=0,x=0;if(q){s=o+140-5,p=a.doorAnimationType||1,"left"==r?(v=-o/2+2.5,w=68,x=o/2):(v=o/2-2.5,w=-68,x=-o/2);var y=new mono.Cube(m+5,n,5);y.p(0,0,w+x),y.s({"m.type":"phong","m.side":"both","m.color":"#62F3FF","m.ambient":"#62F3FF","m.envmap.image":c.Default.getEnvMap("envmap1"),"m.transparent":!0,"m.texture.image":i("skylight01.png"),"m.polygonOffset":!0,"m.polygonOffsetFactor":6,"m.polygonOffsetUnits":3}),u.push(y)}var z=new mono.Cube(m,n,130);z.p(0,0,x),z.s({"m.type":"phong","m.transparent":!0,"m.side":"both","front.m.opacity":0,"back.m.opacity":0,"bottom.m.opacity":0,"left.m.color":"#62F3FF","left.m.ambient":"#62F3FF","left.m.texture.image":i("door.png"),"left.m.envmap.image":c.Default.getEnvMap("envmap1"),"right.m.color":"#62F3FF","right.m.ambient":"#62F3FF","right.m.texture.image":i("door.png"),"right.m.envmap.image":c.Default.getEnvMap("envmap1"),"top.m.color":"#62F3FF","top.m.ambient":"#62F3FF","top.m.texture.image":i("skylight01.png"),"top.m.envmap.image":c.Default.getEnvMap("envmap1")}),u.push(z);for(var A=0;A<u.length;A++)u[A].setParent(t);return t.p(d,0,f),c.Default.setPositionY(t,e),t.setDepth(s),t.setClient("type","aisle"),"z"===h?t.setRotation(0,Math.PI/2,0):t.setRotation(g[0],g[1],g[2]),t}),c.Default.getAirConditionParameters=function(){return{width:100,height:200,depth:80}},c.Default.register("twaver.idc.airCondition",function(a,b){var d=a.position||[0,0,0],e=d[0],f=d[1],g=d[2],h=c.Default.getAirConditionParameters(),j=a.width||h.width,k=a.height||h.height,l=a.depth||h.depth,m=a.rotation||[0,0,0],n=new mono.Cube(j,k,l);return n.s({"m.type":"phong","m.color":"#557E7A","m.specular":"#ffffff","m.specularStrength":3,"m.specularmap.image":c.Default.getImagePath("outside_lightmap.jpg"),"m.texture.image":i("air-condition-side.jpg"),"front.m.texture.image":i("air-condition-front.jpg"),"top.m.texture.image":i("air-condition-top.jpg"),"front.m.envmap.image":c.Default.getEnvMap("envmap1"),"m.reflectRatio":.2}),n.setPosition(e,0,g),n.setRotation(m[0],m[1],m[2]),c.Default.setPositionY(n,f),c.Default.setObject3dCSProps(n,a),b&&b(n),n},{name:"空调",description:"空调说明",icon:j("airCondition.png"),category:"机柜模型",type:"mono.Element",modelDefaultParameters:c.Default.getAirConditionParameters()}),c.Default.register("twaver.idc.airCondition1",function(a,b){var d,e=a.position||[0,0,0],f=e[0],g=e[1],h=e[2],j=a.width||188,k=a.height||174,l=a.depth||75,m=a.rotation||[0,0,0],n=a.color||"#FFFFFF";return d=a.objectId?new mono.Cube({id:a.objectId,width:j,height:k,depth:l}):new mono.Cube(j,k,l),d.s({"m.type":"phong","m.color":n,"m.ambient":n,"m.specular":"#FFFFFF","m.texture.image":i("air-condition1-side.jpg"),"front.m.texture.image":i("air-condition1-front.png"),"back.m.texture.image":i("air-condition1-back.jpg"),"top.m.texture.image":i("air-condition1-top.jpg"),"front.m.envmap.image":c.Default.getEnvMap("envmap3"),"m.reflectRatio":.5}),d.p(f,0,h),d.setRotation(m[0],m[1],m[2]),c.Default.setPositionY(d,g),d.setClient("type","airCondition"),c.Default.setObject3dCSProps(d,a),b&&b(d),d}),c.Default.register("twaver.idc.airCondition2",function(a){return a.id="twaver.idc.airCondition1",a.color="#A4F4EC",c.Default.load(a)},{name:"空调",description:"空调说明",icon:j("airCondition.png"),category:"机柜模型",type:"mono.Element",modelDefaultParameters:c.Default.getAirConditionParameters()}),c.Default.getSwitchgearParameters=function(){return{width:60,height:180,depth:60}},c.Default.register("twaver.idc.switchgear",function(a,b){var d,e=a.position||[0,0,0],f=e[0],g=e[1],h=e[2],j=c.Default.getSwitchgearParameters(),k=a.width||j.width,l=a.height||j.height,m=a.depth||j.depth,n=a.rotation||[0,0,0];return d=a.objectId?new mono.Cube({id:a.objectId,width:k,height:l,depth:m}):new mono.Cube(k,l,m),d.s({"m.type":"phong","m.color":"#666666","m.ambient":"#ffffff","m.specular":"#e5e5e5","m.specularStrength":2,"m.texture.image":i("switch_wrap.jpg"),"m.envmap.image":c.Default.getEnvMap("envmap1"),"m.reflectRatio":.2}),d.setWrapMode("six-each"),d.p(f,0,h),d.setRotation(n[0],n[1],n[2]),c.Default.setPositionY(d,g),d.setClient("type","switchgear"),c.Default.setObject3dCSProps(d,a),b&&b(d),d},{name:"开关柜",description:"开关柜说明",icon:j("airCondition.png"),category:"机柜模型",type:"mono.Element",modelDefaultParameters:c.Default.getSwitchgearParameters()}),c.Default.getPdcParameters=function(){return{width:60,height:180,depth:60}},c.Default.register("twaver.idc.pdc",function(a,b){var d,e=a.position||[0,0,0],f=e[0],g=e[1],h=e[2],j=c.Default.getPdcParameters(),k=a.width||j.width,l=a.height||j.height,m=a.depth||j.depth,n=a.rotation||[0,0,0];return d=a.objectId?new mono.Cube({id:a.objectId,width:k,height:l,depth:m}):new mono.Cube(k,l,m),d.s({"m.type":"phong","m.color":"#666666","m.ambient":"#ffffff","m.specular":"#e5e5e5","m.specularStrength":2,"m.texture.image":i("pdc_wrap.jpg"),"m.envmap.image":c.Default.getEnvMap("envmap1"),"m.reflectRatio":.2}),d.setWrapMode("six-each"),d.p(f,0,h),d.setRotation(n[0],n[1],n[2]),c.Default.setPositionY(d,g),d.setClient("type","pdc"),c.Default.setObject3dCSProps(d,a),b&&b(d),d},{name:"配电柜",description:"配电柜说明",icon:j("airCondition.png"),category:"机柜模型",type:"mono.Element",modelDefaultParameters:c.Default.getPdcParameters()}),c.Default.getUpsParameters=function(){return{width:80,height:200,depth:60}},c.Default.register("twaver.idc.ups",function(a,b){var d=a.position||[0,0,0],e=d[0],f=d[1],g=d[2],h=c.Default.getUpsParameters(),j=a.width||h.width,k=a.height||h.height,l=a.depth||h.depth,m=a.rotation||[0,0,0],n=new mono.Cube(j,k,l);return n.s({"m.type":"phong","m.specular":"#ffffff","m.specularStrength":3,"m.specularmap.image":c.Default.getImagePath("outside_lightmap.jpg"),"m.texture.image":i("ups-side.jpg"),"top.m.texture.image":i("ups-top.jpg"),"front.m.texture.image":i("ups-front.jpg"),"front.m.envmap.image":c.Default.getEnvMap("envmap1"),"m.reflectRatio":.2}),n.setPosition(e,0,g),c.Default.setPositionY(n,f),n.setRotation(m[0],m[1],m[2]),c.Default.setObject3dCSProps(n,a),b&&b(n),n},{name:"UPS",description:"ups说明",icon:j("ups.png"),category:"机柜模型",type:"mono.Element",modelDefaultParameters:c.Default.getUpsParameters()}),c.Default.getBatteryParameters=function(){return{width:150,height:80,depth:60}},c.Default.register("twaver.idc.battery",function(a,b){var d=a.position||[0,0,0],e=d[0],f=d[1],g=d[2],h=c.Default.getBatteryParameters(),j=a.width||h.width,k=a.height||h.height,l=a.depth||h.depth,m=new mono.Cube(j,k,l);return m.s({"m.type":"phong","m.specular":"#ffffff","m.specularStrength":3,"m.transparent":!0,"m.specularmap.image":c.Default.getImagePath("outside_lightmap.jpg"),"m.texture.image":i("battery-side.png"),"front.m.texture.image":i("battery-front.png"),"back.m.texture.image":i("battery-front.png"),"top.m.texture.image":i("battery-top.jpg"),"front.m.envmap.image":c.Default.getEnvMap("envmap1"),"m.reflectRatio":.2}),m.setPosition(e,0,g),c.Default.setPositionY(m,f),c.Default.setObject3dCSProps(m,a),b&&b(m),m},{name:"蓄电池",description:"蓄电池说明",icon:j("battery.png"),category:"机柜模型",type:"mono.Element",modelDefaultParameters:c.Default.getBatteryParameters()}),c.Default.getAlternatorParameters=function(){return{width:200,height:107,depth:85}},c.Default.register("twaver.idc.alternator",function(a,b){var d=a.position||[0,0,0],e=d[0],f=d[1],g=d[2],h=c.Default.getAlternatorParameters(),j=a.width||h.width,k=a.height||h.height,l=a.depth||h.depth,m=new mono.Cube(j,k,l);return m.s({"m.type":"phong","m.specular":"#ffffff","m.specularStrength":3,"m.specularmap.image":c.Default.getImagePath("outside_lightmap.jpg"),"m.texture.image":i("alternator-side.jpg"),"front.m.texture.image":i("alternator-front.jpg"),"back.m.texture.image":i("alternator-front.jpg"),"top.m.texture.image":i("alternator-top.jpg"),"bottom.m.texture.image":i("alternator-top.jpg")}),m.setPosition(e,0,g),c.Default.setPositionY(m,f),c.Default.setObject3dCSProps(m,a),b&&b(m),m}),c.Default.register("twaver.idc.camera",function(a){var b=a.position||[0,0,0],c=a.rotation||[0,0,0],d=b[0],e=b[1],f=b[2],g=new mono.Cylinder(8,8,30);g.s({"m.type":"phong","m.texture.image":i("bbb.png"),"top.m.texture.image":i("camera.png"),"bottom.m.texture.image":i("eee.png")}),g.setRotationX(Math.PI/3*2);var h=new mono.Cylinder(12,12,40),j=new mono.Cylinder(10,10,40),k=new mono.Cube(20,40,20),l=new mono.ComboNode([h,k,j],["+","-"]);l.s({"m.type":"phong","m.color":"#333","m.ambient":"#333"}),l.setRotationX(Math.PI/3*2);var m=new mono.Path;m.moveTo(0,0,0),m.lineTo(0,-20,0),m.lineTo(0,-22,-1),m.lineTo(0,-24,-24),m.lineTo(0,-24,-40);var n=new mono.PathNode(m,10,4,10,"round","round");n.s({"m.type":"phong","m.color":"#333","m.ambient":"#333"});var o=new mono.ComboNode([g,l,n],["+","+"]);return o.p(d,e,f),o.setRotation(c[0],c[1],c[2]),o}),c.Default.register("twaver.idc.camera1",function(a){var b=a.position||[0,0,0],d=a.rotation||[0,0,0],e=b[0],f=b[1],g=b[2],h=new mono.Sphere(10);h.s({"m.type":"phong","m.color":"#ADADAD","m.ambient":"#ADADAD","m.envmap.image":c.Default.getEnvMap("envmap1")});var i=new mono.Path;i.moveTo(0,0),i.lineTo(0,8);var j=new mono.PathNode(i,20,3,20,"plain","round");j.s({"m.type":"phong","m.color":"#DFDAD0","m.ambient":"#DFDAD0"}),j.setPositionY(12),j.setParent(h),i=new mono.Path,i.moveTo(0,0),i.lineTo(0,.5);var k=new mono.PathNode(i,20,12,20,"plain","round");k.s({"m.type":"phong","m.color":"#DFDAD0","m.ambient":"#DFDAD0","m.specularStrength":20}),k.setScaleY(1.7),k.setParent(h);var i=new mono.Path;i.moveTo(0,0,0),i.lineTo(0,14,0),i.curveTo(0,15,0,-1,15,0),i.lineTo(-10,15,0),i.curveTo(-12,15,0,-15,13,0);var l=new mono.PathNode(i,10,2,10,"plain","plain");return l.s({"m.type":"phong","m.color":"#DFDAD0","m.ambient":"#DFDAD0"}),l.setPosition(0,12,0),l.setParent(h),h.setPosition(e,f,g),h.setRotation(d[0],d[1],d[2]),h}),c.Default.getAcsParameters=function(){return{width:11.6,height:11.6,depth:2}},c.Default.register("twaver.idc.ACS",function(a){var b=a.position||[0,0,0],d=b[0],e=b[1],f=b[2],g=c.Default.getAcsParameters(),h=a.width||g.width,j=a.height||g.height,k=a.depth||g.depth;a.rotation||[0,0,0];return{type:"cube",width:h,height:j,depth:k,position:[d,e,f],style:{"m.color":"#ffffff","m.ambient":"#ffffff","m.specular":"#FFFFFF","m.type":"phong","m.texture.image":i("rack_inside.png"),"front.m.texture.image":i("acs.jpg")}}}),c.Default.registerObj("twaver.idc.fadianji","fadianji1","./model/idc/obj/"),c.Default.registerObj("twaver.idc.yangan","yangan","./model/idc/obj/"),c.Default.registerObj("twaver.idc.changuanqi","wendu","./model/idc/obj/"),c.Default.registerObj("twaver.idc.shuangjian","shuangjian","./model/idc/obj/"),c.Default.registerObj("twaver.idc.shuijin","shuijin","./model/idc/obj/"),function(a,b){c.Default.register("twaver.wh.storageRack",function(a){for(var b=a.height||200,d=a.width||150,e=a.depth||50,f=a.position||[0,0,0],g=a.level||4,h=a.levelGap||50,i=a.offset||20,j=[],k=[[-d/2,0,-e/2],[-d/2,0,e/2],[d/2,0,-e/2],[d/2,0,e/2]],l=0;l<k.length;l++)j.push({type:"cube",op:"+",width:4,depth:4,height:b,sideColor:"#243D84",position:k[l]});for(var m=[[-d/2,0,0],[-d/2,(b-40)/2,0],[-d/2,-(b-40)/2,0],[d/2,0,0],[d/2,(b-40)/2,0],[d/2,-(b-40)/2,0]],l=0;l<m.length;l++)j.push({type:"cube",op:"+",width:2,depth:e,height:2,sideColor:"#243D84",position:m[l]});for(var n=[[d/2,(b-40)/4,0],[d/2,-(b-40)/4,0],[-d/2,(b-40)/4,0],[-d/2,-(b-40)/4,0]],o=Math.sqrt(e*e+(b-40)/2*(b-40)/2),p=Math.atan2((b-40)/2,e),l=0;l<n.length;l++)j.push({type:"cube",op:"+",width:2,depth:o,height:2,sideColor:"#243D84",rotation:[l%2==0?p:-p,0,0],position:n[l]});for(var l=0;g>l;l++)j.push({type:"cube",op:"+",width:d,height:2,depth:2,sideColor:"#D73E27",position:[0,i+h*l-b/2,e/2]});for(var l=0;g>l;l++)j.push({type:"cube",op:"+",width:d,height:2,depth:2,sideColor:"#D73E27",position:[0,i+h*l-b/2,-e/2]});var q=c.Default.createCombo(j);return q.p(f[0],0,f[2]),c.Default.setPositionY(q,f[1]),q}),c.Default.register("twaver.wh.ware",function(a){var b=a.width||40,d=a.depth||50,e=a.height||40,f=a.position||[0,0,0],g=a.color||"orange",h={width:b,depth:d,height:e,sideColor:g,position:f};return c.Default.createCube(h)})}(a),function(a,b){var d=function(a){return c.Default.path+"model/park/images/"+a},e=function(a,b,e,f,g,h){var i;if(c.Default._treeInstance)i=c.Default._treeInstance.clonePrefab();else{var j=100,k=80,l=d("tree.png"),m=[],n=new mono.Cylinder(1,5,k,10,1,!1,!1);n.s({"m.type":"phong","m.color":"#411212","m.ambient":"#411212","m.texture.repeat":new mono.Vec2(10,4),"m.specularmap.image":c.Default.getImagePath("metal_normalmap.jpg"),"m.normalmap.image":c.Default.getImagePath("metal_normalmap.jpg")});for(var o=5,p=0;o>p;p++){var q=new mono.Cube(j,k,.01);q.s({"m.transparent":!0,"front.m.visible":!0,"front.m.texture.image":l,
"back.m.visible":!0,"back.m.texture.image":l}),q.setSelectable(!1),q.setEditable(!1),q.setParent(n),q.setRotationY(Math.PI*p/o),m.push(q)}c.Default._treeInstance=new mono.ComboNode(m),c.Default._treeInstance.setClient("tree.original.y",n.getHeight()/2*g),i=c.Default._treeInstance}return c.Default.setPositionY(i,b),i.setPosition(a,i.getClient("tree.original.y")+i.getPositionY(),e),i.setScale(f,g,h),i},f=function(a,b,e,f,g,h){var i=[{type:"cube",width:a,height:b,depth:e,op:"+",position:[0,0,0],style:{"m.color":"#E0E0E0","m.ambient":"#E0E0E0","m.specular":"#ADADAD","m.specularStrength":50,"m.type":"phong","m.texture.image":g}},{type:"cube",width:a-.5,height:2,depth:e-.5,op:"-",position:[0,b/2-1,0],style:{"m.color":"#E0E0E0","m.ambient":"#E0E0E0","m.specular":"#FFFFFF","m.type":"phong","m.texture.image":d("ding02.png")}}];if(h){var j=h.cutWidth,k=h.cutDepth,l=h.cutposition,m=h.cutPics,n=h.cutX,o=n?l[0]-.5:l[0]+.5;i=i.concat([{type:"cube",width:j,height:b,depth:k,op:"+",position:[o,0,l[2]-.5],style:{"m.color":"#ffffff","m.ambient":"#ffffff","m.specular":"#FFFFFF","m.type":"phong","m.texture.image":d("ding01.png")}},{type:"cube",width:j,height:b,depth:k,op:"-",position:l,style:{"m.color":"#ffffff","m.ambient":"#ffffff","m.specular":"#FFFFFF","m.type":"phong","m.texture.image":m}}])}var p=c.Default.createCombo(i);return"number"==typeof f[1]?p.p(f[0],f[1],f[2]):p.p(f[0],0,f[2]),p},g=function(a,b){var c=new mono.Cube(a+5,.1,b+5);return c.s({"m.texture.image":d("shuinidi.jpg")}),c.p(0,.5,0),c};c.Default.register("twaver.park.tree",function(a,b){var c=a.scale||[2,2,2],d=c[0],f=c[1],g=c[2],h=(a.delay||!0,a.position||[0,0,0]),i=h[0],j=h[1],k=h[2],l=e(i,j,k,d,f,g);return b&&b(l),l}),c.Default.register("twaver.park.fountain",function(a){var b=a.radius||16,e=new mono.Cube(2*b,.1,2*b);e.s({"m.transparent":!0,"m.opacity":.001});var f=[{type:"cylinder",radius:16,height:2,op:"+",position:[0,0,0],style:{"m.texture.image":d("cizhuan.png")}},{type:"cylinder",radius:15,height:2,op:"-",position:[0,0,0],style:{"m.texture.image":d("cizhuan.png")}},{type:"cylinder",radius:15,height:1,op:"+",position:[0,0,0],style:{"m.texture.image":d("shui.png")}},{type:"cylinder",radius:6,height:2,op:"+",position:[0,1,0],style:{"m.texture.image":d("cizhuan.png")}},{type:"cylinder",radius:5,height:2,op:"-",position:[0,1,0],style:{"m.texture.image":d("cizhuan.png")}},{type:"cylinder",radius:5,height:1,op:"+",position:[0,2,0],style:{"m.texture.image":d("shui.png")}},{type:"cylinder",radius:1,height:3,op:"+",position:[0,3,0],style:{"m.texture.image":d("cizhuan.png")}},{type:"cylinder",topRadius:1.85,bottomRadius:.01,height:2,op:"+",position:[0,5.5,0],style:{"m.texture.image":d("cizhuan.png"),"top.m.texture.image":d("shui.png")}}],g=c.Default.createCombo(f);return g.setParent(e),e}),c.Default.register("twaver.park.fountain1",function(a){var b=a.width||20.8,e=a.height||1,f=a.depth||9,g=a.position||[0,0,0],h=[{type:"cube",width:b,height:e,depth:f,op:"+",style:{"m.color":"#E0E0E0","m.ambient":"#E0E0E0"}},{type:"cube",width:b-2,height:.5,depth:f-2,position:[0,.5,0],op:"-",style:{"m.texture.image":d("cizhuan.png"),"bottom.m.texture.image":d("shui.png")}},{type:"cube",width:.6*b,height:e,depth:.6*f,op:"+",position:[0,1,0],style:{"m.color":"#E0E0E0","m.ambient":"#E0E0E0"}},{type:"cube",width:.6*(b-2),height:.5,depth:.6*(f-2),position:[0,1.5,0],op:"-",style:{"m.texture.image":d("cizhuan.png"),"bottom.m.texture.image":d("shui.png")}},{type:"cube",width:.1*b,height:1.5,depth:.1*f,op:"+",position:[0,1.5,0],style:{"m.color":"#E0E0E0","m.ambient":"#E0E0E0","top.m.texture.image":d("shui.png")}}],i=c.Default.createCombo(h);return i.p(g[0],g[1],g[2]),i}),c.Default.register("twaver.park.parterre",function(a){for(var b=a.width||26.75,e=(a.height||1,a.depth||4.8),f=a.position||[0,0,0],g=[{type:"pathNode",pathWidth:4,pathHeight:5,data:[[-b/2,0,0],[b/2,0,0]],op:"+",style:{"m.type":"phong","m.color":"#ADADAD","m.ambient":"#ADADAD"}},{type:"cube",width:b+e,height:e/2,depth:e,position:[0,2,0],op:"-",style:{"m.color":"#E0E0E0","m.ambient":"#E0E0E0","m.texture.repeat":new mono.Vec2(10,2),"m.texture.image":d("hua04.png")}},{type:"cube",width:b+e,height:e/2,depth:e,position:[0,1-e/2,0],op:"-",style:{"m.color":"#E0E0E0","m.ambient":"#E0E0E0"}}],h=c.Default.createCombo(g),i=[[-12,1,0],[-4,1,0],[4,1,0],[12,1,0]],j=0;j<i.length;j++){var k={id:"twaver.park.tree",scale:[.03,.03,.03],position:i[j]},l=c.Default.load(k);l.setParent(h)}return h.p(f[0],f[1],f[2]),h}),c.Default.register("twaver.park.floor",function(a){var b=a.width||350,e=a.depth||350,f=new mono.Cube(b,.1,e);f.s({"m.transparent":!0,"m.opacity":.001});for(var g=[{type:"cube",width:b,height:.2,depth:e,position:[0,-1,0],style:{"m.color":"#ffffff","m.ambient":"#ffffff","m.specular":"#FFFFFF","m.type":"phong","top.m.texture.image":d("caodi.jpg"),"top.m.texture.repeat":new mono.Vec2(5,5)},client:{type:"floor"}},{type:"pathNode",pathWidth:24,pathHeight:2,pathImage:d("way.png"),repeat:new mono.Vec2(60,2),offset:new mono.Vec2(0,.75),position:[0,0,0],scale:[1,.01,1],data:[[140,0,-100],[140,0,100],["c",140,0,140,100,0,140],[-100,0,140],["c",-140,0,140,-140,0,100],[-140,0,-100],["c",-140,0,-140,-100,0,-140],[100,0,-140],["c",140,0,-140,140,0,-100]]},{type:"cube",width:31.16,depth:53.6,height:.1,position:[0,1,100],style:{"m.texture.image":d("b1.png"),"m.texture.repeat":new mono.Vec2(10,20)}}],h=c.Default.createCombo(g),i=0;i<h.length;i++)h[i].setParent(f);return f}),c.Default.register("twaver.park.building1",function(a){var b=a.width||15,e=a.height||12,h=a.depth||70,i=a.position||[0,0,0],j=[d("qm06-2.png"),d("qm01-1.png"),d("ding01.png"),d("ding01.png"),d("qm01-3.png"),d("qm01-3.png")],k=f(b,e,h,i,j),l=g(b,h);l.p(0,-e/2,0),l.setParent(k);var m=new mono.Cube(5,2,50);return m.s({"m.texture.image":d("qm01-5.png"),"top.m.texture.image":d("qm01-4.png")}),m.p(-b/2+5,e/2,-h/2+30),m.setParent(k),c.Default.setPositionY(k,i[1]),k}),c.Default.register("twaver.park.building2",function(a){var b=a.width||50,e=a.height||18,h=a.depth||12,i=a.position||[0,0,0],j=[d("qm02-2.png"),d("qm02-2.png"),d("ding01.png"),d("ding01.png"),d("qm02-1.png"),d("qm02-1.png")],k=f(b,e,h,i,j),l=g(b,h);l.p(0,-e/2,0),l.setParent(k);var m=[d("qm02-4.png"),d("qm02-4.png"),d("ding01.png"),d("ding01.png"),d("qm02-4.png"),d("qm02-4.png")],n=f(3,3,3,[-b/4,e/2-2,-h/2+3],m);n.setParent(k);var o=f(3,3,3,[b/4,e/2-2,-h/2+3],m);o.setParent(k);var p=f(5,5,5,[b/2-5,e/2-2,h/2-5],m);return p.setParent(k),k.setClient("type","building"),c.Default.setPositionY(k,i[1]),k}),c.Default.register("twaver.park.building3",function(a){var b=a.width||30,e=a.height||9,h=a.depth||15,i=a.position||[0,0,0],j=[d("qm.png"),d("qm.png"),d("ding01.png"),d("ding01.png"),d("qm03-1.png"),d("qm03-1.png")],k=f(b,e,h,i,j),l=g(b,h);return l.p(0,-e/2,0),l.setParent(k),k.setClient("type","building"),c.Default.setPositionY(k,i[1]),k}),c.Default.register("twaver.park.building4",function(a){var b=a.width||30,e=a.height||30,h=a.depth||15,i=a.position||[0,0,0],j=[d("qm04-1.png"),d("qm04-1.png"),d("ding01.png"),d("ding01.png"),d("qm04-2.png"),d("qm04-3.png")],k=f(b,e,h,i,j),l=g(b,h);l.p(0,-e/2,0),l.setParent(k);var m=[d("qm.png"),d("qm.png"),d("ding01.png"),d("ding01.png"),d("qm.png"),d("qm.png")],n=f(6,3,3,[-b/2+5,e/2-1,h/2-5],m);n.setParent(k);var o=f(4,3,4,[0,e/2-1,-h/2+5],m);o.setParent(k);var p=[d("qm.png"),d("qm.png"),d("qm.png"),d("qm.png"),d("qm.png"),d("qm.png")],q=f(6,3,6,[b/2-4,e/2-1,-h/2+5],p);return q.setParent(k),k.setClient("type","building"),c.Default.setPositionY(k,i[1]),k}),c.Default.register("twaver.park.building5",function(a){var b=70,e=60,h=50,i=a.position||[0,0,0],j=[d("qm05-1.png"),d("qm05-1.png"),d("ding01.png"),d("ding01.png"),d("qm05-2.png"),d("qm05-2.png")],k=f(b,e,h,i,j),l=g(b+10,h+10);l.p(0,-e/2,0),l.setParent(k);var m=[d("qm.png"),d("qm.png"),d("ding01.png"),d("ding01.png"),d("qm.png"),d("qm.png")],n=f(10,5,10,[b/2-10,e/2,-h/2+10],m);n.setParent(k);var o=f(20,5,20,[-b/2+20,e/2,0],m);o.setParent(k);var p=8.5,q=[{type:"cube",width:16,height:1,depth:6,op:"+",position:[0,p,0],style:{"m.texture.image":d("qm.png")}},{type:"cube",width:1,height:p,depth:1,position:[7.5,p/2,2.5],op:"+",style:{"m.texture.image":d("qm.png")}},{type:"cube",width:1,height:p,depth:1,position:[-7.5,p/2,2.5],op:"+",style:{"m.texture.image":d("qm.png")}},{type:"cube",width:1,height:p,depth:1,position:[7.5,p/2,-2.5],op:"+",style:{"m.texture.image":d("qm.png")}},{type:"cube",width:1,height:p,depth:1,position:[-7.5,p/2,-2.5],op:"+",style:{"m.texture.image":d("qm.png")}},{type:"cube",width:.5,height:p,depth:.5,position:[5.5,p/2,2.5],op:"+",style:{"m.texture.image":d("qm.png")}},{type:"cube",width:.5,height:p,depth:.5,position:[-5.5,p/2,2.5],op:"+",style:{"m.texture.image":d("qm.png")}}],r=c.Default.createCombo(q);return r.p(16,-e/2,h/2+3),r.setParent(k),k.setClient("type","building"),c.Default.setPositionY(k,i[1]),k}),c.Default.register("twaver.park.building6",function(a){var b=a.width||60.11,e=a.height||18,h=a.depth||17.81,i=a.position||[0,0,0],j=[d("qm06-4.png"),d("qm06-3.png"),d("ding01.png"),d("ding01.png"),d("qm06-2.png"),d("qm06-2.png")],k=b-47,l=h/2,m=[-b/2+k/2,0,h/2-l/2],n=[d("qm06-4.png"),d("qm06-4.png"),null,null,d("qm06-1.png"),d("qm06-1.png")],o={cutWidth:k,cutDepth:l,cutposition:m,cutPics:n},p=f(b,e,h,i,j,o),q=g(b,h);q.p(0,-e/2,0),q.setParent(p);var r=[d("qm06-4.png"),d("qm06-4.png"),d("ding01.png"),d("ding01.png"),d("qm06-4.png"),d("qm06-4.png")],s=f(6,3,6,[b/2-6,e/2-2,-h/2+7],r);s.setParent(p);var t=f(6,3,6,[-6,e/2-2,-h/2+7],r);return t.setParent(p),c.Default.setPositionY(p,i[1]),p}),c.Default.register("twaver.park.building7",function(a){var b=a.width||49.72,e=a.height||18,g=a.depth||34.77,h=a.position||[0,0,0],i=[d("qm07-3.png"),d("qm07-3.png"),d("ding01.png"),d("ding01.png"),d("qm07-1.png"),d("qm07-1.png")],j=b-15,k=g-14,l=[-b/2+j/2,0,g/2-k/2],m=[d("qm07-5.png"),d("qm07-5.png"),null,null,d("qm07-4.png"),d("qm07-4.png")],n={cutWidth:j,cutDepth:k,cutposition:l,cutPics:m},o=f(b,e,g,h,i,n),p=[d("qm.png"),d("qm.png"),d("ding01.png"),d("ding01.png"),d("qm.png"),d("qm.png")],q=f(6,3,6,[b/2-6,e/2,-g/2+7],p);return q.setParent(o),c.Default.setPositionY(o,h[1]),o}),c.Default.register("twaver.park.building8",function(a){var b=a.width||69.86,e=a.height||40,g=a.depth||49.61,h=a.position||[0,0,0],i=[d("qm08-5.png"),d("qm08-5.png"),d("ding01.png"),d("ding01.png"),d("qm08-4.jpg"),d("qm08-1.png")],j=b-20,k=g-21,l=[b/2-j/2,0,g/2-k/2],m=[d("qm08-5.png"),d("qm08-5.png"),null,null,d("qm08-1.png"),d("qm08-1.png")],n={cutWidth:j,cutDepth:k,cutposition:l,cutX:!0,cutPics:m},o=f(b,e,g,h,i,n),p=[d("qm08-6.png"),d("qm08-6.png"),d("ding01.png"),d("ding01.png"),d("qm08-6.png"),d("qm08-6.png")],q=f(6,3,6,[-b/2+8,e/2-1,-g/2+7],p);q.setParent(o);var r=f(3,3,6,[b/2-6,e/2-1,-g/2+7],p);return r.setParent(o),o.setClient("type","building"),c.Default.setPositionY(o,h[1]),o}),c.Default.register("twaver.park.park",function(a){var b=[],d=[[-110,0,115],[-100,0,115],[-84,0,115],[-74,0,115],[-64,0,115],[-54,0,115],[-44,0,115],[-34,0,115],[-24,0,115],[74,0,115],[64,0,115],[54,0,115],[44,0,115],[34,0,115],[24,0,115],[13,0,22],[13,0,14],[13,0,-22],[13,0,-14],[22,0,22],[22,0,14],[22,0,5],[22,0,-22],[22,0,-14],[22,0,-5],[-13,0,22],[-13,0,14],[-13,0,-22],[-13,0,-14],[-22,0,22],[-22,0,14],[-22,0,5],[-22,0,-22],[-22,0,-14],[-22,0,-5],[-115,0,-115],[-105,0,-115],[-95,0,-115],[-85,0,-115],[-75,0,-115],[-65,0,-115],[-55,0,-115],[55,0,-115],[65,0,-115],[75,0,-115],[85,0,-115],[95,0,-115],[105,0,-115],[115,0,-115],[40,0,-30],[48,0,-30],[56,0,-30],[64,0,-30],[80,0,-30],[88,0,-30],[-42,0,22],[-42,0,14],[-42,0,8],[-42,0,-22],[-42,0,-14],[-42,0,-8]];b.push({id:"twaver.park.floor"});for(var e=0;e<d.length;e++){var f=d[e];b.push({id:"twaver.park.tree",scale:[.04,.04,.04],position:f})}return b=b.concat([{id:"twaver.park.fountain"},{id:"twaver.park.fountain1",position:[-105,.5,105]}]),c.Default.load({id:"twaver.combo",data:b})})}(a);var i=function(a){return a.indexOf("/")>0?a:c.Default.path+"model/idc/images/"+a};c.Default.ImageShapeNode=function(){c.Default.ImageShapeNode.superClass.constructor.apply(this,arguments),this.setClient("shapenode.closed",!0),this.setClient("focusColor","green"),this.setClient("resizeBorderWidth",10),this.setClient("resizeBorderLength",18),this.setClient("resizeBorderGap",10),this.setClient("resizeBorderColor","yellow"),this.setClient("size",{x:0,y:300,z:10}),this.setClient("fill",!0),this.setClient("imageSrc","floor.png"),this.setStyle("vector.outline.color","#333333"),this.setStyle("vector.outline.width",10),this.setStyle("vector.fill.color","rgba(184,211,240,0.5)"),this.setStyle("shapenode.closed",!0),this.setStyle("select.style","none"),this.setClient("repeat",1e3),this.setClient("dimLeadLength",35),this.setClient("dimLineOffset",.7),this.setClient("dimLineWidth",1),this.setClient("dimColor","#F07819"),this.setClient("dimTextGap",5),this.setClient("dimTextFont","12px Arial"),this.setClient("dimArrowWidth",8),this.setClient("dimArrowHeight",3),this.setClient("coordTextColor","white"),this.setClient("coordTextFont","12px Arial"),this.setClient("coordTextOffsetX",0),this.setClient("coordTextOffsetY",20),this.setClient("coordTextAlign","center"),this.setClient("coordTextBaseline","middle"),this.setClient("coordTextBackground","rgba(240,120,25,0.7)"),this.setClient("decimalNumber",0)},twaver.Util.ext("make.Default.ImageShapeNode",twaver.ShapeNode,{getCanvasUIClass:function(){return c.Default.ImageShapeNodeUI},getElementUIClass:function(){return c.Default.ImageShapeNodeUI},getVectorUIClass:function(){return c.Default.ImageShapeNodeUI},onChildRemoved:function(a,b){this.refreshChilden()},onChildAdded:function(a,b){this.refreshChilden()},onPropertyChanged:function(a){c.Default.ImageShapeNode.superClass.onPropertyChanged.call(this,a),"points"===a.property&&this.refreshChilden()},checkBlockOnEdge:function(a){var b=!1;return this.getChildren().forEach(function(c){c.getClient("edgeIndex")===a&&(b=!0)}),b},refreshChilden:function(){this.getChildren().forEach(function(a){a.refresh()})},isPointOnPoints:function(a){for(var b=this.getPoints(),c=0;c<b.size();c++)if(_twaver.math.getDistance(a,b.get(c))<=10)return!0;return!1},getPointIndex:function(a){var b=this.getPoints();if(b.size()<2)return-1;for(var c=0;c<b.size();c++)if(_twaver.math.getDistance(a,b.get(c))<=10)return-1;for(var d,e=b.get(0),c=1;c<b.size();c++){if(d=b.get(c),this.isPointOnLine(a,e,d,10))return c-1;e=d}return e=b.get(0),this.isPointOnLine(a,e,d,10)?b.size()-1:-1},isPointOnLine:function(a,b,c,d){0>d&&(d=0);var e=this.getDistanceFromPointToLine(a,b,c);return d>=e&&a.x>=Math.min(b.x,c.x)-d&&a.x<=Math.max(b.x,c.x)+d&&a.y>=Math.min(b.y,c.y)-d&&a.y<=Math.max(b.y,c.y)+d},getDistanceFromPointToLine:function(a,b,c){if(b.x===c.x)return Math.abs(a.x-b.x);var d=(c.y-b.y)/(c.x-b.x),e=(c.x*b.y-b.x*c.y)/(c.x-b.x);return Math.abs(d*a.x-a.y+e)/Math.sqrt(d*d+1)},setOffsetYofPoints:function(a){this.offsetY=a},setOffsetXofPoints:function(a){this.offsetX=a},getOffsetYofPoints:function(){return this.offsetY||0},getOffsetXofPoints:function(){return this.offsetX||0},setNegatedYInterval:function(a){this.negatedYInterval=a},getNegatedYInterval:function(){return this.negatedYInterval}}),c.Default.ImageShapeNodeUI=function(a,b){c.Default.ImageShapeNodeUI.superClass.constructor.apply(this,arguments)},twaver.Util.ext("make.Default.ImageShapeNodeUI",twaver.vector.ShapeNodeUI,{drawDefaultBody:function(a){var b=this._element;if(b._points&&!(b._points.size()<1)){var c=this._getZoomPoints(),d=b._segments,e=b.getStyle("vector.outline.width"),f=b.getStyle("vector.outline.pattern"),g=b.getStyle("vector.outline.width"),h=b.getStyle("vector.outline.color"),j=b.getClient("shapenode.closed"),k=twaver.Util.getRect(c),l=a;e>0&&twaver.Util.grow(k,e,e);var m,n=this._network.isSelected(this._element),o=this._element.getClient("resizeBorderWidth"),p=this._element.getClient("resizeBorderLength"),q=this._element.getClient("resizeBorderGap"),r=this._element.getClient("resizeBorderColor");n&&(m=_twaver.clone(k)),l=this.setShadow(this,l),l.beginPath();var s=i(b.getClient("imageSrc"));if(s){var t=twaver.Util.getImageAsset(s);t?l.fillStyle=l.createPattern(t.getImage(),"repeat"):twaver.Util.registerImageByUrl(s,s)}l.lineWidth=g,l.strokeStyle=h,_twaver.g.drawLinePoints(l,c,f,d,j),b.getClient("fill")&&l.fill(),l.stroke();var u=b.getClient("focusIndex");if(u>=0){var v=c.get(u),w=c.get(u===c.size()-1?0:u+1);l.beginPath(),l.strokeStyle=b.getClient("focusColor"),l.moveTo(v.x,v.y),l.lineTo(w.x,w.y),l.stroke()}if(n){l.lineWidth=o+2,l.strokeStyle="black",l.beginPath(),this._borderLines=[];var x,y,z;x={x:m.x-q,y:m.y-q},y={x:x.x,y:x.y+p},z={x:x.x+p,y:x.y},this._addBorderLine(l,x,y,z),x={x:m.x+m.width+q,y:m.y-q},y={x:x.x-p,y:x.y},z={x:x.x,y:x.y+p},this._addBorderLine(l,x,y,z),x={x:m.x+m.width+q,y:m.y+m.height+q},y={x:x.x,y:x.y-p},z={x:x.x-p,y:x.y},this._addBorderLine(l,x,y,z),x={x:m.x-q,y:m.y+m.height+q},y={x:x.x+p,y:x.y},z={x:x.x,y:x.y-p},this._addBorderLine(l,x,y,z),l.stroke(),l.beginPath(),l.lineWidth=o,l.strokeStyle=r,p-=1,x={x:m.x-q,y:m.y-q},y={x:x.x,y:x.y+p},z={x:x.x+p,y:x.y},l.moveTo(y.x,y.y),l.lineTo(x.x,x.y),l.lineTo(z.x,z.y),x={x:m.x+m.width+q,y:m.y-q},y={x:x.x-p,y:x.y},z={x:x.x,y:x.y+p},l.moveTo(y.x,y.y),l.lineTo(x.x,x.y),l.lineTo(z.x,z.y),x={x:m.x+m.width+q,y:m.y+m.height+q},y={x:x.x,y:x.y-p},z={x:x.x-p,y:x.y},l.moveTo(y.x,y.y),l.lineTo(x.x,x.y),l.lineTo(z.x,z.y),x={x:m.x-q,y:m.y+m.height+q},y={x:x.x+p,y:x.y},z={x:x.x,y:x.y-p},l.moveTo(y.x,y.y),l.lineTo(x.x,x.y),l.lineTo(z.x,z.y),l.stroke()}n&&(this.drawCoord(l),this.drawDim(l))}},validateBodyBounds:function(){c.Default.ImageShapeNodeUI.superClass.validateBodyBounds.call(this);var a=this._element;if(a._points&&!(a._points.size()<1)){var b=this._getZoomPoints();if(!(b.size()<2)){var d=a.getStyle("vector.outline.width"),e=this.getPathRect("vector",!0);d>0&&twaver.Util.grow(e,d,d);var f=this._network.isSelected(this._element),g=this._element.getClient("resizeBorderWidth"),h=this._element.getClient("resizeBorderGap");f&&twaver.Util.grow(e,(g+h)/this._network.getZoom()*2+2,(g+h)/this._network.getZoom()*2+2),this.addBodyBounds(e)}}},_addBorderLine:function(a,b,c,d){this._borderLines.push({point1:c,point2:b}),this._borderLines.push({point1:b,point2:d}),a.moveTo(c.x,c.y),a.lineTo(b.x,b.y),a.lineTo(d.x,d.y)},isPointOnBorderLine:function(a){if(!this._borderLines)return null;for(var b=this._element.getClient("resizeBorderWidth"),c=0;c<this._borderLines.length;c++){var d=this._borderLines[c];if(this._element.isPointOnLine(a,d.point1,d.point2,b))return Math.floor(c/2)}return null},drawDim:function(a){function b(a,b,e){if(0!=e){var f=_twaver.math.getCenterPoint(a,b),g=angle1=_twaver.math.getAngle(a,b);b.x<a.x&&(g=Math.PI+g);var h=e.toFixed(2),k=d.measureText(h).width,l=_twaver.math.createMatrix(g,a.x,a.y),n=l.transform({x:a.x,y:a.y-i}),q=l.transform({x:a.x,y:a.y-i*j});l=_twaver.math.createMatrix(g,b.x,b.y);var r=l.transform({x:b.x,y:b.y-i}),s=l.transform({x:b.x,y:b.y-i*j}),t=c.getPointBetween(q,s,.5-(k/2+m)/e),u=c.getPointBetween(q,s,.5+(k/2+m)/e),v=c.getPointBetween(q,s,o/e);l=_twaver.math.createMatrix(g,v.x,v.y);var w=l.transform({x:v.x,y:v.y-p}),x=l.transform({x:v.x,y:v.y+p}),y=c.getPointBetween(q,s,1-o/e);l=_twaver.math.createMatrix(g,y.x,y.y);var z=l.transform({x:y.x,y:y.y-p}),A=l.transform({x:y.x,y:y.y+p});d.beginPath(),d.moveTo(a.x,a.y),d.lineTo(n.x,n.y),d.moveTo(b.x,b.y),d.lineTo(r.x,r.y),d.moveTo(q.x,q.y),d.lineTo(t.x,t.y),d.moveTo(u.x,u.y),d.lineTo(s.x,s.y),d.moveTo(q.x,q.y),d.lineTo(w.x,w.y),d.moveTo(q.x,q.y),d.lineTo(x.x,x.y),d.moveTo(s.x,s.y),d.lineTo(z.x,z.y),d.moveTo(s.x,s.y),d.lineTo(A.x,A.y),d.stroke(),d.save(),f={x:(q.x+s.x)/2,y:(q.y+s.y)/2},d.translate(f.x,f.y),d.rotate(angle1),d.translate(-f.x,-f.y),d.fillText(h,f.x,f.y),d.restore()}}var c=this,d=a,e=this._element,f=this._getZoomPoints(),g=e.getPoints();if(f&&!(f.size()<2)&&this._network.isSelected(e)){var h=this.getBodyRect(),i=e.getClient("dimLeadLength"),j=e.getClient("dimLineOffset"),k=e.getClient("dimLineWidth"),l=e.getClient("dimColor"),m=e.getClient("dimTextGap"),n=e.getClient("dimTextFont"),o=e.getClient("dimArrowWidth"),p=e.getClient("dimArrowHeight"),q={x:h.x-i,y:h.y-i,width:h.width+2*i,height:h.height+2*i};this.isClockwise()&&(i=-i),this.addBodyBounds(q),d=this.setShadow(this,d),d.strokeStyle=l,d.lineWidth=k,d.fillStyle=l,d.font=n,d.textAlign="center",d.textBaseline="middle";for(var r=f.get(0),s=g.get(0),t=1,u=f.size();u>t;t++){var v=f.get(t),w=g.get(t),x=_twaver.math.getDistance(s,w);s=w,b(r,v,x),r=v}if(u>2){var x=_twaver.math.getDistance(s,g.get(0));b(r,f.get(0),x)}}},getPointBetween:function(a,b,c){return{x:a.x+(b.x-a.x)*c,y:a.y+(b.y-a.y)*c}},isClockwise:function(a){var b=this._element,a=b.getPoints();if(!a||a.size()<2)return!0;for(var c=0,d=a.size(),e=0;d>e;e++){var f=a.get(e),g=a.get(e+1===d?0:e+1);c+=(g.x-f.x)*(g.y+f.y)}return c>0},drawCoord:function(a){var b=a,c=this._element,d=this._getZoomPoints(),e=c.getPoints();if(d&&e){var f=this.getBodyRect(),g=c.getClient("coordTextColor"),h=c.getClient("coordTextFont"),i=c.getClient("coordTextOffsetX"),j=c.getClient("coordTextOffsetY"),k=c.getClient("coordTextAlign"),l=c.getClient("coordTextBaseline"),m=c.getClient("coordTextBackground"),n=c.getClient("decimalNumber"),o={x:f.x-100,y:f.y-50,width:f.width+200,height:f.height+100};this.addBodyBounds(o),b=this.setShadow(this,b),b.save(),b.font=h;for(var p=0,q=d.size();q>p;p++){var r=d.get(p),s=e.get(p),t="("+(r.x+c.getOffsetXofPoints()).toFixed(n)+", "+(r.y*(c.getNegatedYInterval()?-1:1)+c.getOffsetYofPoints()).toFixed(n)+")";s&&(t="("+(s.x+c.getOffsetXofPoints()).toFixed(n)+", "+(s.y*(c.getNegatedYInterval()?-1:1)+c.getOffsetYofPoints()).toFixed(n)+")");var u=_twaver.g.getTextSize(b.font,t);b.fillStyle=m,b.fillRect(r.x-u.width/2+i,r.y-u.height/2+j,u.width,u.height),b.fillStyle=g,b.textAlign=k,b.textBaseline=l,b.fillText(t,r.x,r.y+j)}b.restore()}}}),c.Default.InnerWallShapeNode=function(){c.Default.InnerWallShapeNode.superClass.constructor.apply(this,arguments),this.setClient("imageSrc","room.png"),this.setStyle("vector.outline.color","#333333"),this.setStyle("vector.outline.width",5),this.setClient("shapenode.closed",!1),this.setClient("focusColor","green"),this.setClient("resizeBorderWidth",10),this.setClient("resizeBorderLength",25),this.setClient("resizeBorderGap",10),this.setClient("resizeBorderColor","yellow"),this.setClient("size",{x:0,y:230,z:4}),this.setClient("repeat",{row:1,column:1})},twaver.Util.ext("make.Default.InnerWallShapeNode",c.Default.ImageShapeNode,{}),c.Default.FloorShapeNode=function(){c.Default.FloorShapeNode.superClass.constructor.apply(this,arguments),this.setClient("imageSrc","floor.png"),this.setStyle("vector.outline.color","#FFFFFF"),this.setStyle("vector.outline.width",0),this.setClient("shapenode.closed",!0),this.setClient("focusColor","blue"),this.setClient("repeat",100),this.setClient("size",{x:0,y:0,z:.1})},twaver.Util.ext("make.Default.FloorShapeNode",c.Default.ImageShapeNode,{}),c.Default.Block=function(){c.Default.Block.superClass.constructor.apply(this,arguments),this.setClient("length",90),this.setClient("edgeIndex",-1),this.setClient("offset",.5),this.setClient("gap",0),this.setClient("angle",0),this.setClient("focus",!1),this.setStyle("vector.outline.width",2),this.setStyle("vector.outline.color","gray"),this.setStyle("vector.fill.color","white"),this.setSize(0,0),this.setClient("fullWidth",!1),this.setClient("horizontalFlip",!1),this.setImage("image_block"),this.setClient("height",this.blockHeight),this.setClient("positionY",this.positionY)},twaver.Util.ext("make.Default.Block",twaver.Node,{onPropertyChanged:function(a){c.Default.Block.superClass.onPropertyChanged.call(this,a),!this.getParent()||"C:length"!==a.property&&"C:edgeIndex"!==a.property&&"C:offset"!==a.property&&"C:gap"!==a.property||this.refresh()},refresh:function(){var a=this.getParent(),b=this.getClient("edgeIndex"),c=this.getClient("offset"),d=a.getPoints();if(d&&b>=0&&b<d.size()){var e=d.get(b),f=d.get(b===d.size()-1?0:b+1),g=f.x-e.x,h=f.y-e.y,i={x:e.x+g*c,y:e.y+h*c},j=this.getAngle(g,h),k=this.getStyle("vector.outline.width"),l=this.getClient("gap"),m=this.getClient("length")/2+k/2,n=a.getStyle("vector.outline.width")/2+k/2+l,o=twaver.Util.getRect([twaver.Util.transformPoint(i,j,-m,-n).point,twaver.Util.transformPoint(i,j,m,-n).point,twaver.Util.transformPoint(i,j,m,n).point,twaver.Util.transformPoint(i,j,-m,n).point]);this.setSize(o.width,o.height),this.setCenterLocation(i),this.setClient("angle",j),this.setClient("leftPoint",twaver.Util.transformPoint(i,j,-m,0).point),this.setClient("rightPoint",twaver.Util.transformPoint(i,j,m,0).point)}},getAngle:function(a,b){return 0===a?0===b?0:b>0?Math.PI/2:-Math.PI/2:Math.atan(b/a)},getEdgeIndex:function(){return this.getClient("edgeIndex")},isDoor:function(){return this instanceof c.Default.Door},isWindow:function(){return this instanceof c.Default.Window},isCutoff:function(){return this instanceof c.Default.Cutoff},getBlockWidth:function(){return Math.abs(this.getClient("length"))},getBlockHeight:function(){return Math.abs(this.getClient("height"))},getBlockDepth:function(){return Math.abs(this.getClient("depth"))},getBlockPicture:function(){return this.getClient("picture")},getBlockPositionY:function(){return Math.abs(this.getClient("positionY"))}}),c.Default.Door=function(){c.Default.Door.superClass.constructor.apply(this,arguments),this.setClient("positionY",0),this.setClient("length",205)},twaver.Util.ext("make.Default.Door",c.Default.Block,{}),c.Default.Window=function(){c.Default.Window.superClass.constructor.apply(this,arguments),this.setClient("positionY",100),this.setClient("length",120)},twaver.Util.ext("make.Default.Window",c.Default.Block,{}),c.Default.Cutoff=function(){c.Default.Cutoff.superClass.constructor.apply(this,arguments),this.setClient("positionY",100)},twaver.Util.ext("make.Default.Cutoff",c.Default.Block,{}),twaver.Util.registerImage("image_block",{rotate:'<%=getClient("angle")*180/Math.PI%>',diameter:function(a,b){var c=10,d=a.getParent();return d&&(c=d.getStyle("vector.outline.width")+2*a.getClient("gap")),c},v:[{shape:"rect",rect:function(a,b){var c=a.getClient("length");c&&(c=Math.abs(c));var d=a.getParent(),e=10;d&&(e=d.getStyle("vector.outline.width")+2*a.getClient("gap"));var f=this.diameter(a,b);return c>f&&(c-=f),e=e,[-c/2,-e/2,c,e]},lineWidth:'<%=getStyle("vector.outline.width")%>',lineColor:'<%if(getClient("focus")){return "green"}else{return getStyle("vector.outline.color")}%>',fill:'<%=getStyle("vector.fill.color")%>'},{shape:"line",x1:function(a,b){if(a instanceof c.Default.Window||a instanceof c.Default.Door){var d=a.getClient("length");d&&(d=Math.abs(d));var e=this.diameter(a,b);return d>e&&(d-=e),-d/2}return 0},y1:0,x2:function(a,b){if(a instanceof c.Default.Window||a instanceof c.Default.Door){var d=a.getClient("length");d&&(d=Math.abs(d));var e=this.diameter(a,b);return d>e&&(d-=e),d/2}return 0},y2:0,lineWidth:'<%=getStyle("vector.outline.width")%>',lineColor:'<%if(getClient("focus")){return "green"}else{return getStyle("vector.outline.color")}%>',lineDash:function(a){return a instanceof c.Default.Door?[10,2]:void 0}},{shape:"circle",cx:function(a,b){var c=a.getClient("length");c&&(c=Math.abs(c));var d=this.diameter(a,b);return c>d&&(c-=d),-c/2},cy:0,r:function(a,b){if(null==b||!b.getSelectionModel().contains(a))return 0;var c=a.getParent(),d=10;return c&&(d=c.getStyle("vector.outline.width")+2*a.getClient("gap")),d=d,d/2},lineWidth:1,fill:"yellow",stroke:"black"},{shape:"circle",cx:function(a,b){var c=a.getClient("length");c&&(c=Math.abs(c));var d=this.diameter(a,b);return c>d&&(c-=d),c/2},cy:0,r:function(a,b){if(null==b||!b.getSelectionModel().contains(a))return 0;var c=a.getParent(),d=10;return c&&(d=c.getStyle("vector.outline.width")+2*a.getClient("gap")),d=d,d/2},lineWidth:1,fill:"yellow",stroke:"black"}]});var j=function(a){return a.indexOf("/")>0?a:c.Default.path+"model/idc/icons/"+a},i=function(a){return a.indexOf("/")>0?a:c.Default.path+"model/idc/images/"+a},v=function(a){return a.indexOf("/")>0?a:a.length>4&&a.lastIndexOf(".svg")==a.length-4?c.Default.path+"model/idc/svg/"+a:c.Default.path+"model/idc/svg/"+a+".svg"},w=function(a,b,c,d,e,f,g,h){return{name:a||"外墙",description:b||"外墙说明",icon:j(c||"column.png"),category:d||"默认模型",categoryNumber:e||10,order:f||10,type:h||"twaver.Node",modelDefaultParameters:g}};c.Default.register("twaver.idc.wall.2d",function(a){var b={objType:"wall",client:{data:a.data,type:"wall"}};c.Default.copyProperties(a,b);var d=c.Default.create2dShapeNode(b),e=a.children;return e&&e.forEach(function(a){var b=c.Default.load(a);b.setParent(d)}),d},w("外墙","外墙说明","wall.png","2d房间模型",10,10)),c.Default.register("twaver.idc.innerWall.2d",function(a){var b={objType:"innerWall",client:{data:a.data,type:"innerWall"}};c.Default.copyProperties(a,b);var d=c.Default.create2dShapeNode(b),e=a.children;return e&&e.forEach(function(a){var b=c.Default.load(a);b.setParent(d)}),d},w("内墙","内墙说明","innerWall.png","2d房间模型",10,20)),c.Default.register("twaver.idc.floor.2d",function(a){var b={objType:"floor",client:{data:a.data,type:"floor"}};c.Default.copyProperties(a,b);var d=c.Default.create2dShapeNode(b);return d},w("地板","地板说明","column.png","2d房间模型",10,20)),c.Default.register("twaver.idc.door.2d",function(a){var b={client:{type:"door",bid:a.bid}};c.Default.copyProperties(a,b);var d=c.Default.createBlockObject(b,"door");return d},w("门","门说明","door.png","2d房间模型",10,30)),c.Default.register("twaver.idc.window.2d",function(a){var b={client:{type:"window",bid:a.bid}};c.Default.copyProperties(a,b);var d=c.Default.createBlockObject(b,"window");return d},w("窗户","窗户说明","window.png","2d房间模型",10,40)),c.Default.register("twaver.idc.column.2d",function(a){var b={client:{type:"column",bid:a.bid},style:{"vector.fill.color":"#BDBCBC"}};c.Default.copyProperties(a,b);var d=c.Default.createNode(b);return d},w("柱子","柱子说明","column.png","2d房间模型",10,40));var x=function(){return{bid:{name:"业务ID",value:null,type:"string"}}},y=function(){var a=x(),b={positionY:{name:"离地高度",value:200,type:"number"}};return c.Default.copyProperties(b,a),a};c.Default.register("twaver.idc.rack.2d",function(a){var b={image:a.image||v("racktop"),width:a.width||60,depth:a.depth||80,client:{type:"rack"}};c.Default.copyProperties(a,b);var d=c.Default.createNode(b);return d},w("机柜","机柜说明","rack.png","2d机柜模型",20,0,x()));for(var z=42;47>=z;z++)c.Default.register("twaver.idc.rack"+z+".2d",function(a){return a.id="twaver.idc.rack.2d",c.Default.load(a)},w(z+"U机柜","机柜说明","rack.png","2d机柜模型",20,10+10*(z-42),x()));c.Default.register("twaver.idc.headerRack.2d",function(a){return a.id="twaver.idc.rack.2d",a.image=a.image||v("headerracktop"),c.Default.load(a)},w("列头柜","机柜说明","headerRack.png","2d机柜模型",20,30,x())),c.Default.register("twaver.idc.airCondition.2d",function(a){return a.id="twaver.idc.rack.2d",a.width=100,a.depth=80,a.client=a.client||{},a.client.type="airCondition",c.Default.load(a)},w("空调","机柜说明","airCondition.png","2d机柜模型",20,30)),c.Default.register("twaver.idc.model.2d",function(a){var b={image:a.image||v("upstop"),width:a.width||80,depth:a.depth||60,client:{type:"model"}};c.Default.copyProperties(a,b);var d=c.Default.createNode(b);return d}),c.Default.register("twaver.idc.ups.2d",function(a){a.id="twaver.idc.model.2d",a.image=a.image||v("upstop"),a.width=a.width||80,a.depth=a.depth||60;var b=c.Default.load(a);return b},w("ups","机柜说明","ups.png","2d机柜模型",20,30)),c.Default.register("twaver.idc.battery.2d",function(a){a.id="twaver.idc.model.2d",a.image=a.image||v("batterytop"),a.width=a.width||150,a.depth=a.depth||60;var b=c.Default.load(a);return b},w("蓄电池","机柜说明","battery.png","2d机柜模型",20,30)),c.Default.register("twaver.idc.yangan.2d",function(a){a.id="twaver.idc.model.2d",a.image=a.image||v("yangan"),a.width=33.51,a.depth=33.51;var b=c.Default.load(a);return b},w("烟感","烟感说明","yangan.png","2d环境模型",20,30,y())),c.Default.register("twaver.idc.changuanqi.2d",function(a){a.id="twaver.idc.model.2d",a.image=a.image||v("wendu"),a.width=a.width||5.14,a.depth=a.depth||10.52;var b=c.Default.load(a);
return b},w("传感器","传感器说明","wendu.png","2d环境模型",20,30,y())),c.Default.register("twaver.idc.shuangjian.2d",function(a){a.id="twaver.idc.model.2d",a.image=a.image||v("shuangjian"),a.width=a.width||9.21,a.depth=a.depth||15.92;var b=c.Default.load(a);return b},w("双鉴","双鉴说明","shuangjian.png","2d环境模型",20,30,y())),c.Default.register("twaver.idc.shuijin.2d",function(a){a.id="twaver.idc.model.2d",a.image=a.image||v("shuijin"),a.width=a.width||31.98,a.depth=a.depth||31.98;var b=c.Default.load(a);return b},w("水浸","水浸说明","shuijin.png","2d环境模型",20,30,y()));for(var A=function(a){var b="twaver.idc.rack{}.front".format(a),d="{}U机柜".format(a),e="rack.png".format(a),f="rack{}U.svg".format(a),g=c.Default.RACK_OFFSET_X,h=c.Default.RACK_OFFSET_Y,i=c.Default.RACK_WIDTH,k=c.Default.getRackHeight(a);c.Default.register(b,function(d){return c.Default.copyProperties({image:v(f),width:i,height:k,client:{id:b,host:!0,childrenSize:a,offsetX:g,offsetY:h}},d),c.Default.createFollower(d)},{name:d,category:"机柜",icon:j(e),offsetX:g,offsetY:h,host:!0})},z=42;47>=z;z++)A(z);for(var B=function(a){return{image:v("u-0"+a),width:c.Default.getEquipmentWidth(),height:c.Default.getEquipmentHeight(a),client:{size:a,loc:-1,category:"server",host:!1,panel:"twaver.idc.equipment.newPanel"}}},C=function(a){return{name:a+"U设备",modelDefaultParameters:{loc:{name:"位置",value:0,type:c.Default.PARAMETER_TYPE_INT,propertyType:c.Default.PARAMETER_PROPERTY_TYPE_CLIENT},panel:{name:"面板",value:"twaver.idc.equipment.newPanel",type:c.Default.PARAMETER_TYPE_STRING,propertyType:c.Default.PARAMETER_PROPERTY_TYPE_CLIENT}},category:"设备2D",icon:j("server"+a+".png"),host:!1}},D=function(a){c.Default.register("twaver.idc.equipment"+a+".front",function(b){return c.Default.copyProperties(B(a),b),c.Default.createFollower(b)},C(a))},E=1;8>=E;E++)D(E);c.Default.register("twaver.idc.network.panel",function(a){return c.Default.copyProperties({width:10*c.Default.getEquipmentWidth(),height:10*c.Default.getEquipmentHeight(1),fillColor:"#444444",client:{category:"networkDevice-panel",host:!0,id:"twaver.idc.network.panel",resizeable:!0,editable:!0}},a),c.Default.createFollower(a)},{name:"设备",modelDefaultParameters:{width:{name:"宽度",value:b,type:c.Default.PARAMETER_TYPE_INT,propertyType:c.Default.PARAMETER_PROPERTY_TYPE_ACCESSOR},height:{name:"高度",value:b,type:c.Default.PARAMETER_TYPE_INT,propertyType:c.Default.PARAMETER_PROPERTY_TYPE_ACCESSOR},angle:{name:"角度",value:b,type:c.Default.PARAMETER_TYPE_NUMBER,propertyType:c.Default.PARAMETER_PROPERTY_TYPE_ACCESSOR}},category:"设备面板",icon:j("networkDevicePanel.jpg"),host:!0});for(var F=function(a){return{image:v(a+"u"),width:10*c.Default.getEquipmentWidth(),height:10*c.Default.getEquipmentHeight(a),client:{size:a,category:"device-panel",host:!0}}},G=function(a){return{name:a+"U设备",category:"设备面板",icon:j(""+a+"u.png"),host:!0}},H=function(a){var b="twaver.idc.equipment"+a+".panel";c.Default.register(b,function(d){return c.Default.copyProperties(F(a,d.scale),d),d.client.id=b,c.Default.createFollower(d)},G(a))},E=1;8>=E;E++)H(E);var I=function(a,b){return{image:v(a),width:b.width,height:b.height,client:{category:"device-panel-comp",host:!1}}},J=function(a){return{name:a.label,modelDefaultParameters:{width:{name:"宽度",value:b,type:c.Default.PARAMETER_TYPE_NUMBER,propertyType:c.Default.PARAMETER_PROPERTY_TYPE_ACCESSOR},height:{name:"高度",value:b,type:c.Default.PARAMETER_TYPE_NUMBER,propertyType:c.Default.PARAMETER_PROPERTY_TYPE_ACCESSOR},x:{name:"位置X",value:b,type:c.Default.PARAMETER_TYPE_NUMBER,propertyType:c.Default.PARAMETER_PROPERTY_TYPE_ACCESSOR},y:{name:"位置Y",value:b,type:c.Default.PARAMETER_TYPE_NUMBER,propertyType:c.Default.PARAMETER_PROPERTY_TYPE_ACCESSOR},angle:{name:"角度",value:b,type:c.Default.PARAMETER_TYPE_NUMBER,propertyType:c.Default.PARAMETER_PROPERTY_TYPE_ACCESSOR}},category:"面板部件",icon:j(M+".png")}},K=function(a,b){var d="twaver.idc."+a+".panel";c.Default.register(d,function(e){e.scale||(e.scale=1),c.Default.copyProperties(I(a,b),e),e.client.id=d;var f=c.Default.createFollower(e);return f},J(b))},L={DP:{label:"DP",width:16.91,height:6.3},AV:{label:"AV",width:30.04,height:8},"DVI-24-1":{label:"DVI-24-1",width:35.07,height:7.8},HDMI:{label:"HDMI",width:13.91,height:5.17},"DVI-24-5":{label:"DVI-24-5",width:35.07,height:7.8},MicroHDMI:{label:"MicroHDMI",width:5.91,height:2.88},VGA:{label:"VGA",width:24.62,height:7.94},"ball-black":{label:"ball-black",width:5,height:5},"ball-green":{label:"ball-green",width:5,height:5},"ball-yellow":{label:"ball-yellow",width:5,height:5},"ball-red":{label:"ball-red",width:5,height:5},"button-power":{label:"button-power",width:17.92,height:17.92},ground:{label:"ground",width:12,height:12},idc15:{label:"idc15",width:39.1,height:12.55},idc25:{label:"idc25",width:53.1,height:12.55},dell:{label:"dell",width:17.92,height:17.92},SCART:{label:"SCART",width:23.71,height:8.39},USB:{label:"USB",width:12,height:4.6},idc37:{label:"idc37",width:69.5,height:12.55},jack3:{label:"jack3",width:26,height:20.49},led:{label:"led",width:12.35,height:3.53},logo_HBC:{label:"logo_HBC",width:18,height:4.52},logo_cisco01:{label:"logo_cisco01",width:13,height:6.85},miniHDMI:{label:"miniHDMI",width:10.41,height:2.41},logo_cisco02:{label:"logo_cisco02",width:21,height:11.85},mini_USB:{label:"mini_USB",width:6.82,height:3.11},port38:{label:"port38",width:33.6,height:6.95},idc9:{label:"idc9",width:30.8,height:12.55},logo_HUAWEI:{label:"logo_HUAWEI",width:25,height:5.89},port_1394_4pin:{label:"port_1394_4pin",width:6,height:3.78},port_13w3:{label:"port_13w3",width:54.59,height:15.5},port_5din:{label:"port_5din",width:15,height:15},mirco_usb:{label:"mirco_usb",width:7.18,height:1.94},port_1394_6pin:{label:"port_1394_6pin",width:11.22,height:5.15},port_4din:{label:"port_4din",width:15,height:15},port_6din:{label:"port_6din",width:15,height:15},port_bnc:{label:"port_bnc",width:18.19,height:15},port_8din:{label:"port_8din",width:15,height:15},port_card34:{label:"port_card34",width:35.36,height:5.2},port_card54:{label:"port_card54",width:54,height:5.2},port_db9:{label:"port_db9",width:18,height:9.28},"ps2-mouse":{label:"ps2-mouse",width:10,height:10},port_db25:{label:"port_db25",width:38,height:8.29},"ps2-keyboard":{label:"ps2-keyboard",width:10,height:10},rj11:{label:"rj11",width:9.26,height:10.9},radiator:{label:"radiator",width:31.65,height:31.68},"radiator-2":{label:"radiator-2",width:78,height:16.33},rj4502:{label:"rj4502",width:13.06,height:9.55},port_db36:{label:"port_db36",width:50,height:13.28},rj4503:{label:"rj4503",width:13.78,height:9.55},"screw-black":{label:"screw-black",width:9,height:9},rj4504:{label:"rj4504",width:18,height:12.6},"screw-gray":{label:"screw-gray",width:12,height:12},"usb-printer":{label:"usb-printer",width:8.12,height:10.05},warn:{label:"warn",width:14,height:14},ypbpr:{label:"ypbpr",width:28.66,height:16.96},rj4501:{label:"rj4501",width:13.77,height:9.55}};for(var M in L)K(M,L[M]);c.Default.register("twaver.idc.panel.loader",function(a){var b=a.data||[{id:"twaver.idc.network.panel",objectId:"24A7DE926193431D90760528BF5B464F",location:[0,0],width:45.5,height:4.445,client:{},host:!0},{parentObjectId:"24A7DE926193431D90760528BF5B464F",id:"twaver.idc._pwr_btn.panel",objectId:"018D7848E216445E91172C7F2EA4F407",angle:0,width:1.5,height:1.5,location:[1.4064233766885876,1.3889156227705233],client:{}},{parentObjectId:"24A7DE926193431D90760528BF5B464F",id:"twaver.idc._logo_dell.panel",objectId:"FBC7106A6D5944B58452BE2CB08AE9F1",angle:0,width:3,height:3,location:[41.51514632750824,.6833467703115066],client:{}},{parentObjectId:"24A7DE926193431D90760528BF5B464F",id:"twaver.idc._led.panel",objectId:"887A0BC9F76344A1BD7FF9EA578EE6BE",angle:45,width:.5,height:.2,location:[4.455078172008388,.7250848778307304],client:{}},{parentObjectId:"24A7DE926193431D90760528BF5B464F",id:"twaver.idc.serialPort.panel",objectId:"A9AB6BE6C59243CB809149D55F9E320D",angle:0,width:3.01,height:1.505,location:[7.882887242160796,.45520266255598046],client:{}},{parentObjectId:"24A7DE926193431D90760528BF5B464F",id:"twaver.idc.parallelPort.panel",objectId:"7F6599434111456F88D3EE949A115C02",angle:0,width:4.5056,height:.924,location:[7.282482423435634,2.819320009914199],client:{}},{parentObjectId:"24A7DE926193431D90760528BF5B464F",id:"twaver.idc.ethernetInterfaceUp.panel",objectId:"769CDB7636C34BA5813EA40D1F8E0ECA",angle:0,width:1.6,height:1.33,location:[17.000350878008188,.6091451943845065],client:{bid:"port1",name:"1"}},{parentObjectId:"24A7DE926193431D90760528BF5B464F",id:"twaver.idc.ethernetInterfaceDown.panel",objectId:"795BF8483F6F48F3A9B0DCBD2F3A6CA5",angle:0,width:1.6,height:1.33,location:[16.984787455528824,2.560171515443437],client:{bid:"port22",name:"22"}},{parentObjectId:"24A7DE926193431D90760528BF5B464F",id:"twaver.idc.ethernetInterfaceUp.panel",objectId:"137C4D76C3D24DE98472C545DCF25CAE",angle:0,width:1.6,height:1.33,location:[19.10035087800819,.6091451943845065],client:{bid:"port2",name:"2"}},{parentObjectId:"24A7DE926193431D90760528BF5B464F",id:"twaver.idc.ethernetInterfaceUp.panel",objectId:"870B0B0ECDE64053A5C1FBB40D86959B",angle:0,width:1.6,height:1.33,location:[21.200350878008187,.6091451943845065],client:{bid:"port3",name:"3"}},{parentObjectId:"24A7DE926193431D90760528BF5B464F",id:"twaver.idc.ethernetInterfaceUp.panel",objectId:"D0B847469F2A4BC08844536BBEC0FCF1",angle:0,width:1.6,height:1.33,location:[23.30035087800819,.6091451943845065],client:{bid:"port4",name:"4"}},{parentObjectId:"24A7DE926193431D90760528BF5B464F",id:"twaver.idc.ethernetInterfaceUp.panel",objectId:"9A050C65D02C4E2183F2AB6163C77E31",angle:0,width:1.6,height:1.33,location:[25.40035087800819,.6091451943845065],client:{bid:"port5",name:"5"}},{parentObjectId:"24A7DE926193431D90760528BF5B464F",id:"twaver.idc.ethernetInterfaceUp.panel",objectId:"37B25A662C71438886B8E92FCFD33942",angle:0,width:1.6,height:1.33,location:[27.50035087800819,.6091451943845065],client:{bid:"port6",name:"6"}},{parentObjectId:"24A7DE926193431D90760528BF5B464F",id:"twaver.idc.ethernetInterfaceUp.panel",objectId:"AAA307A88AA64A698BE9844DE3770746",angle:0,width:1.6,height:1.33,location:[29.600350878008193,.6091451943845065],client:{bid:"port7",name:"7"}},{parentObjectId:"24A7DE926193431D90760528BF5B464F",id:"twaver.idc.ethernetInterfaceUp.panel",objectId:"86E1A43E4301426F8ED48B6E0D4E4F69",angle:0,width:1.6,height:1.33,location:[31.70035087800819,.6091451943845065],client:{bid:"port8",name:"8"}},{parentObjectId:"24A7DE926193431D90760528BF5B464F",id:"twaver.idc.ethernetInterfaceUp.panel",objectId:"30714941A56F459A8DF87E7623403EEB",angle:0,width:1.6,height:1.33,location:[33.80035087800819,.6091451943845065],client:{bid:"port9",name:"9"}},{parentObjectId:"24A7DE926193431D90760528BF5B464F",id:"twaver.idc.ethernetInterfaceDown.panel",objectId:"BA92CAC922A54E5984D02BE58813D6E8",angle:0,width:1.6,height:1.33,location:[19.084787455528826,2.560171515443437],client:{bid:"port21",name:"21"}},{parentObjectId:"24A7DE926193431D90760528BF5B464F",id:"twaver.idc.ethernetInterfaceDown.panel",objectId:"B20E09A0CA5C4B028DA3FEB2DAAD29A2",angle:0,width:1.6,height:1.33,location:[21.184787455528827,2.560171515443437],client:{bid:"port20",name:"20"}},{parentObjectId:"24A7DE926193431D90760528BF5B464F",id:"twaver.idc.ethernetInterfaceDown.panel",objectId:"8D64FEEE00D14A41ACEC1AC0A7EB28BA",angle:0,width:1.6,height:1.33,location:[23.284787455528825,2.560171515443437],client:{bid:"port19",name:"19"}},{parentObjectId:"24A7DE926193431D90760528BF5B464F",id:"twaver.idc.ethernetInterfaceDown.panel",objectId:"B5CAA32A4637492583D5A44CE69FB1D6",angle:0,width:1.6,height:1.33,location:[25.384787455528826,2.560171515443437],client:{bid:"port18",name:"18"}},{parentObjectId:"24A7DE926193431D90760528BF5B464F",id:"twaver.idc.ethernetInterfaceDown.panel",objectId:"DD51ACC4A82543B19D1C1041E567BCF0",angle:0,width:1.6,height:1.33,location:[27.484787455528828,2.560171515443437],client:{bid:"port17",name:"17"}},{parentObjectId:"24A7DE926193431D90760528BF5B464F",id:"twaver.idc.ethernetInterfaceDown.panel",objectId:"D42E3F449CC9449285B9AFD6FE0355E1",angle:0,width:1.6,height:1.33,location:[29.58478745552883,2.560171515443437],client:{bid:"port16",name:"16"}},{parentObjectId:"24A7DE926193431D90760528BF5B464F",id:"twaver.idc.ethernetInterfaceDown.panel",objectId:"0097042F553B41F384B8E45721A1E47A",angle:0,width:1.6,height:1.33,location:[31.684787455528827,2.560171515443437],client:{bid:"port15",name:"15"}},{parentObjectId:"24A7DE926193431D90760528BF5B464F",id:"twaver.idc.ethernetInterfaceDown.panel",objectId:"A5781E1E7ECA4963864B6171FA65FA2A",angle:0,width:1.6,height:1.33,location:[33.78478745552883,2.560171515443437],client:{bid:"port14",name:"14"}},{parentObjectId:"24A7DE926193431D90760528BF5B464F",id:"twaver.idc.ethernetInterfaceDown.panel",objectId:"236A038102F84EF389E17D90DF91BDF0",angle:0,width:1.6,height:1.33,location:[35.88478745552883,2.560171515443437],client:{bid:"port13",name:"13"}},{parentObjectId:"24A7DE926193431D90760528BF5B464F",id:"twaver.idc.ethernetInterfaceDown.panel",objectId:"8C9A0E87243341F785E8442288E3B5F3",angle:0,width:1.6,height:1.33,location:[37.98478745552883,2.560171515443437],client:{bid:"port12",name:"12"}},{parentObjectId:"24A7DE926193431D90760528BF5B464F",id:"twaver.idc.ethernetInterfaceDown.panel",objectId:"6E6D3C149C324F06B2D38890A61DC359",angle:0,width:1.6,height:1.33,location:[14.884787455528826,2.560171515443437],client:{bid:"port23",name:"23"}},{parentObjectId:"24A7DE926193431D90760528BF5B464F",id:"twaver.idc.ethernetInterfaceUp.panel",objectId:"0895D7DF0E7E445B82FFBF8305B14990",angle:0,width:1.6,height:1.33,location:[14.900350878008188,.6091451943845065],client:{bid:"port0",name:"0"}},{parentObjectId:"24A7DE926193431D90760528BF5B464F",id:"twaver.idc.ethernetInterfaceUp.panel",objectId:"CA3E2F9F1C784AA98D902A77918F2C8D",angle:0,width:1.6,height:1.33,location:[35.90035087800819,.6091451943845065],client:{bid:"port10",name:"10"}},{parentObjectId:"24A7DE926193431D90760528BF5B464F",id:"twaver.idc.ethernetInterfaceUp.panel",objectId:"FBF07305D809496C99364F5D3357C430",angle:0,width:1.6,height:1.33,location:[38.00035087800819,.6091451943845065],client:{bid:"port11",name:"11"}},{parentObjectId:"24A7DE926193431D90760528BF5B464F",id:"twaver.idc._led.panel",objectId:"FB7EC21F72ED4EA1A5EEC9109FC37CD6",angle:45,width:.5,height:.2,location:[4.455078172008388,1.2250848778307304],client:{}},{parentObjectId:"24A7DE926193431D90760528BF5B464F",id:"twaver.idc._led.panel",objectId:"AB91E51B9D11466E8BF9B30B278645F9",angle:45,width:.5,height:.2,location:[4.455078172008388,1.7250848778307304],client:{}},{parentObjectId:"24A7DE926193431D90760528BF5B464F",id:"twaver.idc._led.panel",objectId:"90C62E7DE02749789766D59D36851219",angle:45,width:.5,height:.2,location:[4.455078172008388,2.2250848778307306],client:{}},{parentObjectId:"24A7DE926193431D90760528BF5B464F",id:"twaver.idc._led.panel",objectId:"1D250236087044608E7AC72424FE8961",angle:45,width:.5,height:.2,location:[4.455078172008388,2.7250848778307306],client:{}},{parentObjectId:"24A7DE926193431D90760528BF5B464F",id:"twaver.idc._led.panel",objectId:"1D368F82930B412E97BAD03138D5013D",angle:45,width:.5,height:.2,location:[4.455078172008388,3.22508487783073],client:{}}],d=a.scale||20,e=a.x||0,f=a.y||0;b.forEach(function(a){a.scale=d,a.location[0]=a.location[0]*d+e,a.location[1]=a.location[1]*d+f});for(var g=c.Default.load(b),h=g[0],i=1;i<g.length;i++)g[i].setMovable(!1),g[i].setHost(h),g[i].setParent(h),h.addChild(g[i]);return h})}(window);