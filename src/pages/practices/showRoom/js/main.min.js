!(function t(e, n, i) {
  function r(a, s) {
    if (!n[a]) {
      if (!e[a]) {
        var c = typeof require === 'function' && require
        if (!s && c) return c(a, !0)
        if (o) return o(a, !0)
        var u = new Error("Cannot find module '" + a + "'")
        throw ((u.code = 'MODULE_NOT_FOUND'), u)
      }
      var l = (n[a] = { exports: {}})
      e[a][0].call(
        l.exports,
        function(t) {
          var n = e[a][1][t]
          return r(n || t)
        },
        l,
        l.exports,
        t,
        e,
        n,
        i
      )
    }
    return n[a].exports
  }
  for (
    var o = typeof require === 'function' && require, a = 0;
    a < i.length;
    a++
  ) { r(i[a])}
  return r
})(
  {
    1: [
      function(t, e, n) {
        function i(t) {
          var e = (window.WIDTH = window.innerWidth),
            n = (window.HEIGHT = window.innerHeight)
          this.setSize(e, n)
        }
        function r(t) {
          var e, n
          'undefined' !== typeof document.hidden
            ? ((e = 'hidden'), (n = 'visibilitychange'))
            : typeof document.mozHidden !== 'undefined'
              ? ((e = 'mozHidden'), (n = 'mozvisibilitychange'))
              : typeof document.msHidden !== 'undefined'
                ? ((e = 'msHidden'), (n = 'msvisibilitychange'))
                : typeof document.webkitHidden !== 'undefined' &&
                  ((e = 'webkitHidden'), (n = 'webkitvisibilitychange')),
          'undefined' !== typeof document.addEventListener &&
              document.addEventListener(
                n,
                function() {
                  document[e]
                    ? t.onLeaveTab()
                    : setTimeout(t.onFocusTab.bind(t), 50)
                },
                !1
              )
        }
        function o(t) {}
        var a = t('3'),
          s = t('5'),
          c = t('2'),
          u = function(t) {
            if (
              ((t = void 0 !== t ? t : {}),
                (this.renderer = new THREE.WebGLRenderer({
                  alpha: !0,
                  antialias: !0,
                  canvas: t.canvas || document.querySelector('canvas'),
                  preserveDrawingBuffer:
                  void 0 !== t.preserveDrawingBuffer
                    ? t.preserveDrawingBuffer
                    : void 0
                })),
                (THREE.Extensions = this.renderer.extensions),
                (this.config = {
                  fps: void 0 !== t.fps ? t.fps : !1,
                  profiling: void 0 !== t.profiling ? t.profiling : !1,
                  logCalls: void 0 !== t.logCalls ? t.logCalls : !1
                }),
                t && t.maxPixelRatio)
            ) { var e =
                window.devicePixelRatio > t.maxPixelRatio
                  ? t.maxPixelRatio
                  : window.devicePixelRatio}
            else var e = window.devicePixelRatio
            window.isMobile && (e = e > 1.5 ? 1.5 : e),
            this.renderer.setPixelRatio(e),
            this.setSize(
              t.width || window.innerWidth,
              t.height || window.innerHeight
            ),
            void 0 !== t.autoClear && (this.renderer.autoClear = t.autoClear),
            void 0 !== t.clearColor &&
                this.renderer.setClearColor(t.clearColor),
            (void 0 !== t.supportsTextureLod &&
                t.supportsTextureLod !== !0) ||
                THREE.Extensions.get('EXT_shader_texture_lod'),
            (this.clock = new THREE.Clock()),
            (this.paused = !1),
            (this.scenes = []),
            (this.scene = null),
            (window.onresize = i.bind(this)),
            window.addEventListener('keyup', o.bind(this)),
            this.renderer.domElement.addEventListener('mousemove', function(
              t
            ) {
              (window.mouseX = (t.pageX / WIDTH) * 2 - 1),
              (window.mouseY = 1 - (t.pageY / HEIGHT) * 2)
            }),
            this.config.fps &&
                ((this.fpsCounter = new c()),
                  (this.counter = document.createElement('div')),
                  document.querySelectorAll('body')[0].appendChild(this.counter),
                  this.counter.setAttribute(
                    'style',
                    'position:absolute;top:20px;left:100px;color:#ff00ff;display:block !important;z-index:999999;'
                  )),
            r(this)
          };
        (u.prototype = {
          render: function(t) {
            this.renderScene(this.scene, this.camera)
          },
          renderScene: function(t, e) {
            this.renderer.render(t, e)
          },
          update: function(t) {
            this.camera &&
              (this.camera.updateMatrixWorld(!0),
                this.camera.matrixWorldInverse.getInverse(
                  this.camera.matrixWorld
                )),
            _.each(
              this.scenes,
              function(e) {
                this.updateCustomMaterials(e),
                e.update &&
                      (e.updateMatrixWorld(!0), e.update(this.renderer, t))
              },
              this
            )
          },
          updateCustomMaterials: function(t, e) {
            _.each(
              t.materials,
              function(t) {
                t.pbr && t.refreshUniforms(e || this.camera)
              },
              this
            )
          },
          doUpdate: (function() {
            var t = { delta: 0, elapsed: 0 }
            return function() {
              if (
                ((t.delta = this.clock.getDelta()),
                  (t.elapsed = this.clock.getElapsedTime()),
                  !this.paused)
              ) {
                this.requestAnimationFrame(this.doUpdate.bind(this))
                var e =
                  void 0 !== window.performance &&
                  void 0 !== window.performance.now
                    ? window.performance.now()
                    : Date.now()
                TWEEN.update(e),
                s.updateTimers(t),
                this.config.profiling && console.time('update'),
                this.update(t),
                this.config.profiling && console.timeEnd('update'),
                this.render(t),
                this.started || (this.started = !0),
                this.config.fps &&
                    this.fpsCounter.update(
                      t,
                      function(t) {
                        this.counter.textContent = t + ' FPS'
                      }.bind(this)
                    )
              }
            }
          })(),
          start: function() {
            this.doUpdate()
          },
          pause: function() {
            this.paused ||
              (this.clock.stop(),
                (this.paused = !0),
                this.config.fps && (this.counter.textContent += ' (paused)'))
          },
          resume: function() {
            this.paused &&
              (this.clock.start(),
                (this.paused = !1),
                this.started && this.doUpdate())
          },
          onLeaveTab: function() {
            this.paused || (this.pause(), (this.shouldResume = !0))
          },
          onFocusTab: function() {
            this.shouldResume && (this.resume(), (this.shouldResume = !1))
          },
          setAspectRatio: function(t) {
            this.camera &&
              ((this.camera.aspect = t), this.camera.updateProjectionMatrix())
          },
          setSize: function(t, e) {
            this.started && this.setAspectRatio(t / e),
            this.renderer.setSize(t, e)
          },
          requestAnimationFrame: function(t) {
            requestAnimationFrame(t)
          }
        }),
        u.mixin(a),
        (e.exports = u)
      },
      { 2: 2, 3: 3, 5: 5 }
    ],
    2: [
      function(t, e, n) {
        var i = function() {
          (this.frames = 0), (this.fps = 0), (this.lastTime = 0)
        };
        (i.prototype = {
          update: function(t, e) {
            var t = 1e3 * t.elapsed
            this.frames++,
            t > this.lastTime + 1e3 &&
                ((this.fps = Math.round(
                  (1e3 * this.frames) / (t - this.lastTime)
                )),
                  e(this.fps),
                  (this.lastTime = t),
                  (this.frames = 0))
          }
        }),
        (e.exports = i)
      },
      {}
    ],
    3: [
      function(t, e, n) {
        var i = {
            on: function(t, e, n) {
              if (!s(this, 'on', t, [e, n]) || !e) return this
              this._events || (this._events = {})
              var i = this._events[t] || (this._events[t] = [])
              return i.push({ callback: e, context: n, ctx: n || this }), this
            },
            once: function(t, e, n) {
              if (!s(this, 'once', t, [e, n]) || !e) return this
              var i = this,
                r = _.once(function() {
                  i.off(t, r), e.apply(this, arguments)
                })
              return (r._callback = e), this.on(t, r, n)
            },
            off: function(t, e, n) {
              var i, r, o, a, c, u, l, h
              if (!this._events || !s(this, 'off', t, [e, n])) return this
              if (!t && !e && !n) return (this._events = void 0), this
              for (
                a = t ? [t] : _.keys(this._events), c = 0, u = a.length;
                u > c;
                c++
              ) {
if (((t = a[c]), (o = this._events[t]))) {
                if (((this._events[t] = i = []), e || n))
                  for (l = 0, h = o.length; h > l; l++)
                    (r = o[l]),
                    ((e &&
                          e !== r.callback &&
                          e !== r.callback._callback) ||
                          (n && n !== r.context)) &&
                          i.push(r)
                  i.length || delete this._events[t]
                }}
              return this
            },
            trigger: function(t) {
              if (!this._events) return this
              var e = a.call(arguments, 1)
              if (!s(this, 'trigger', t, e)) return this
              var n = this._events[t],
                i = this._events.all
              return n && c(n, e), i && c(i, arguments), this
            },
            stopListening: function(t, e, n) {
              var i = this._listeningTo
              if (!i) return this
              var r = !e && !n
              n || typeof e !== 'object' || (n = this),
              t && ((i = {})[t._listenId] = t)
              for (var o in i) {
(t = i[o]),
                t.off(e, n, this),
                (r || _.isEmpty(t._events)) && delete this._listeningTo[o]}
              return this
            }
          },
          r = /\s+/,
          o = [],
          a = o.slice,
          s = function(t, e, n, i) {
            if (!n) return !0
            if (typeof n === 'object') {
              for (var o in n) t[e].apply(t, [o, n[o]].concat(i))
              return !1
            }
            if (r.test(n)) {
              for (var a = n.split(r), s = 0, c = a.length; c > s; s++) { t[e].apply(t, [a[s]].concat(i))}
              return !1
            }
            return !0
          },
          c = function(t, e) {
            var n,
              i = -1,
              r = t.length,
              o = e[0],
              a = e[1],
              s = e[2]
            switch (e.length) {
              case 0:
                for (; ++i < r;) (n = t[i]).callback.call(n.ctx)
                return
              case 1:
                for (; ++i < r;) (n = t[i]).callback.call(n.ctx, o)
                return
              case 2:
                for (; ++i < r;) (n = t[i]).callback.call(n.ctx, o, a)
                return
              case 3:
                for (; ++i < r;) (n = t[i]).callback.call(n.ctx, o, a, s)
                return
              default:
                for (; ++i < r;) (n = t[i]).callback.apply(n.ctx, e)
                return
            }
          },
          u = { listenTo: 'on', listenToOnce: 'once' }
        _.each(u, function(t, e) {
          i[e] = function(e, n, i) {
            var r = this._listeningTo || (this._listeningTo = {}),
              o = e._listenId || (e._listenId = _.uniqueId('l'))
            return (
              (r[o] = e),
              i || typeof n !== 'object' || (i = this),
              e[t](n, i, this),
              this
            )
          }
        }),
        (e.exports = i)
      },
      {}
    ],
    4: [
      function(t, e, n) {
        var i = function(t) {
          (t = _.extend(
            {},
            {
              duration: 1e3,
              repeat: !1,
              onStart: function() {},
              onEnd: function() {}
            },
            t
          )),
          (this.duration = t.duration),
          (this.repeat = t.repeat),
          (this.startCallback = t.onStart),
          (this.endCallback = t.onEnd),
          this.reset()
        }
        i.inherit(Object, {
          reset: function() {
            return (
              (this.started = !1),
              (this.paused = !1),
              (this.ended = !1),
              (this.elapsedTime = 0),
              this
            )
          },
          start: function() {
            return this.started || this.ended
              ? this
              : ((this.started = !0), this.startCallback(), this)
          },
          stop: function() {
            return this.started ? this.reset() : this
          },
          pause: function() {
            return (this.paused = !0), this
          },
          resume: function() {
            return (this.paused = !1), this
          },
          update: function(t) {
            return !this.started || this.paused || this.ended
              ? this
              : ((this.elapsedTime += 1e3 * t.delta),
                this.elapsedTime > this.duration &&
                  (this.endCallback(), (this.ended = !0)),
                this)
          }
        }),
        (e.exports = i)
      },
      {}
    ],
    5: [
      function(t, e, n) {
        var i = t('4'),
          r = { _timers: {}};
        (r.createTimer = function(t) {
          var e = _.uniqueId('timer_'),
            n = new i(t)
          return (n.id = e), (r._timers[e] = n), n
        }),
        (r.delay = function(t, e, n) {
          var i = r
            .createTimer({
              duration: t,
              onEnd: function() {
                e.call(n), delete r._timers[this.id]
              }
            })
            .start()
          return i
        }),
        (r.updateTimers = function(t) {
          _.each(r._timers, function(e) {
            e.update(t)
          })
        }),
        (r.clearTimers = function() {
          _.each(r._timers, function(t) {
            t.onEnd = null
          }),
          (r._timers = {})
        }),
        (e.exports = r)
      },
      { 4: 4 }
    ],
    6: [
      function(t, e, n) {
        !(function() {
          function t(t) {
            (this.object = t),
            (this.target = new THREE.Vector3()),
            (this.minDistance = 0),
            (this.maxDistance = 1 / 0),
            (this.minZoom = 0),
            (this.maxZoom = 1 / 0),
            (this.minPolarAngle = 0),
            (this.maxPolarAngle = Math.PI),
            (this.minAzimuthAngle = -(1 / 0)),
            (this.maxAzimuthAngle = 1 / 0),
            (this.enableDamping = !1),
            (this.dampingFactor = 0.25)
            var e,
              n,
              i = this,
              r = 1e-6,
              o = 0,
              a = 0,
              s = 1,
              c = new THREE.Vector3(),
              u = !1;
            (this.getPolarAngle = function() {
              return n
            }),
            (this.getAzimuthalAngle = function() {
              return e
            }),
            (this.rotateLeft = function(t) {
              a -= t
            }),
            (this.rotateUp = function(t) {
              o -= t
            }),
            (this.panLeft = (function() {
              var t = new THREE.Vector3()
              return function(e) {
                var n = this.object.matrix.elements
                t.set(n[0], n[1], n[2]), t.multiplyScalar(-e), c.add(t)
              };
            })()),
            (this.panUp = (function() {
              var t = new THREE.Vector3()
              return function(e) {
                var n = this.object.matrix.elements
                t.set(n[4], n[5], n[6]), t.multiplyScalar(e), c.add(t)
              };
            })()),
            (this.pan = function(t, e, n, r) {
              if (i.object instanceof THREE.PerspectiveCamera) {
                var o = i.object.position,
                  a = o.clone().sub(i.target),
                  s = a.length();
                (s *= Math.tan(((i.object.fov / 2) * Math.PI) / 180)),
                i.panLeft((2 * t * s) / r),
                i.panUp((2 * e * s) / r)
              } else
                {i.object instanceof THREE.OrthographicCamera
                  ? (i.panLeft((t * (i.object.right - i.object.left)) / n),
                    i.panUp((e * (i.object.top - i.object.bottom)) / r))
                  : console.warn(
                    "WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."
                  );}
            }),
            (this.dollyIn = function(t) {
              i.object instanceof THREE.PerspectiveCamera
                ? (s /= t)
                : i.object instanceof THREE.OrthographicCamera
                  ? ((i.object.zoom = Math.max(
                    this.minZoom,
                    Math.min(this.maxZoom, this.object.zoom * t)
                  )),
                    i.object.updateProjectionMatrix(),
                    (u = !0))
                  : console.warn(
                    'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.'
                  )
            }),
            (this.dollyOut = function(t) {
              i.object instanceof THREE.PerspectiveCamera
                ? (s *= t)
                : i.object instanceof THREE.OrthographicCamera
                  ? ((i.object.zoom = Math.max(
                    this.minZoom,
                    Math.min(this.maxZoom, this.object.zoom / t)
                  )),
                    i.object.updateProjectionMatrix(),
                    (u = !0))
                  : console.warn(
                    'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.'
                  )
            }),
            (this.update = (function() {
              var i = new THREE.Vector3(),
                l = new THREE.Quaternion().setFromUnitVectors(
                  t.up,
                  new THREE.Vector3(0, 1, 0)
                ),
                h = l.clone().inverse(),
                f = new THREE.Vector3(),
                p = new THREE.Quaternion()
              return function() {
                var t = this.object.position
                i.copy(t).sub(this.target),
                i.applyQuaternion(l),
                (e = Math.atan2(i.x, i.z)),
                (n = Math.atan2(Math.sqrt(i.x * i.x + i.z * i.z), i.y)),
                (e += a),
                (n += o),
                (this.object.theta = e = Math.max(
                  this.minAzimuthAngle,
                  Math.min(this.maxAzimuthAngle, e)
                )),
                (n = Math.max(
                  this.minPolarAngle,
                  Math.min(this.maxPolarAngle, n)
                )),
                (this.object.phi = n = Math.max(
                  r,
                  Math.min(Math.PI - r, n)
                ))
                var d = i.length() * s
                return (
                  (d = Math.max(
                    this.minDistance,
                    Math.min(this.maxDistance, d)
                  )),
                  this.target.add(c),
                  (i.x = d * Math.sin(n) * Math.sin(e)),
                  (i.y = d * Math.cos(n)),
                  (i.z = d * Math.sin(n) * Math.cos(e)),
                  i.applyQuaternion(h),
                  t.copy(this.target).add(i),
                  this.object.lookAt(this.target),
                  this.enableDamping === !0
                    ? ((a *= 1 - this.dampingFactor),
                      (o *= 1 - this.dampingFactor))
                    : ((a = 0), (o = 0)),
                  (s = 1),
                  c.set(0, 0, 0),
                  u ||
                    f.distanceToSquared(this.object.position) > r ||
                    8 * (1 - p.dot(this.object.quaternion)) > r
                    ? (f.copy(this.object.position),
                      p.copy(this.object.quaternion),
                      (u = !1),
                      !0)
                    : !1
                )
              };
            })())
          }
          function n(t) {
            var e = t.clientX == i && t.clientY == r
            return (i = t.clientX), (r = t.clientY), e
          }
          var i,
            r,
            o = function(e, o) {
              function a(t, e) {
                var n =
                  _.domElement === document ? _.domElement.body : _.domElement
                y.pan(t, e, n.clientWidth, n.clientHeight)
              }
              function s() {
                return ((2 * Math.PI) / 60 / 60) * _.autoRotateSpeed
              }
              function c() {
                return Math.pow(0.95, _.zoomSpeed)
              }
              function u(t) {
                if (_.enabled !== !1) {
                  if (
                    ((i = t.clientX),
                      (r = t.clientY),
                      t.preventDefault(),
                      t.button === _.mouseButtons.ORBIT)
                  ) {
                    if (_.enableRotate === !1) return;
                    (C = O.ROTATE), E.set(t.clientX, t.clientY)
                  } else if (t.button === _.mouseButtons.ZOOM) {
                    if (_.enableZoom === !1) return;
                    (C = O.DOLLY), M.set(t.clientX, t.clientY)
                  } else if (t.button === _.mouseButtons.PAN) {
                    if (_.enablePan === !1) return;
                    (C = O.PAN), x.set(t.clientX, t.clientY)
                  }
                  C !== O.NONE &&
                    (document.addEventListener('mousemove', l, !1),
                      document.addEventListener('mouseup', h, !1),
                      _.dispatchEvent(k)),
                  _.onMouseDown()
                }
              }
              function l(t) {
                if (_.enabled !== !1 && !n(t)) {
                  t.preventDefault()
                  var e =
                    _.domElement === document
                      ? _.domElement.body
                      : _.domElement
                  if (C === O.ROTATE) {
                    if (_.enableRotate === !1) return;
                    (_.isRotating = !0),
                    b.set(t.clientX, t.clientY),
                    w.subVectors(b, E),
                    y.rotateLeft(
                      ((2 * Math.PI * w.x) / e.clientWidth) * _.rotateSpeed
                    ),
                    y.rotateUp(
                      ((2 * Math.PI * w.y) / e.clientHeight) * _.rotateSpeed
                    ),
                    E.copy(b)
                  } else if (C === O.DOLLY) {
                    if (_.enableZoom === !1) return
                    S.set(t.clientX, t.clientY),
                    P.subVectors(S, M),
                    P.y > 0 ? y.dollyIn(c()) : P.y < 0 && y.dollyOut(c()),
                    M.copy(S)
                  } else if (C === O.PAN) {
                    if (_.enablePan === !1) return
                    T.set(t.clientX, t.clientY),
                    R.subVectors(T, x),
                    a(R.x, R.y),
                    x.copy(T)
                  }
                  C !== O.NONE && _.update(), _.onMouseMove()
                }
              }
              function h() {
                _.enabled !== !1 &&
                  (document.removeEventListener('mousemove', l, !1),
                    document.removeEventListener('mouseup', h, !1),
                    _.dispatchEvent(j),
                    (C = O.NONE),
                    (_.isRotating = !1),
                    _.onMouseUp())
              }
              function f(t) {
                if (_.enabled !== !1 && _.enableZoom !== !1 && C === O.NONE) {
                  t.preventDefault(), t.stopPropagation()
                  var e = 0
                  void 0 !== t.wheelDelta
                    ? (e = t.wheelDelta)
                    : void 0 !== t.detail && (e = -t.detail),
                  e > 0 ? y.dollyOut(c()) : e < 0 && y.dollyIn(c()),
                  _.update(),
                  _.dispatchEvent(k),
                  _.dispatchEvent(j)
                }
              }
              function p(t) {
                if (
                  _.enabled !== !1 &&
                  _.enableKeys !== !1 &&
                  _.enablePan !== !1
                ) {
switch (t.keyCode) {
                  case _.keys.UP:
                    a(0, _.keyPanSpeed), _.update()
                      break;
                  case _.keys.BOTTOM:
                    a(0, -_.keyPanSpeed), _.update()
                      break;
                  case _.keys.LEFT:
                    a(_.keyPanSpeed, 0), _.update()
                      break;
                  case _.keys.RIGHT:
                    a(-_.keyPanSpeed, 0), _.update()
                  }}
              }
              function d(t) {
                if (_.enabled !== !1) {
                  switch (t.touches.length) {
                    case 1:
                      if (_.enableRotate === !1) return;
                      (C = O.TOUCH_ROTATE),
                      E.set(t.touches[0].pageX, t.touches[0].pageY)
                      break
                    case 2:
                      if (_.enableZoom === !1) return
                      C = O.TOUCH_DOLLY
                      var e = t.touches[0].pageX - t.touches[1].pageX,
                        n = t.touches[0].pageY - t.touches[1].pageY,
                        i = Math.sqrt(e * e + n * n)
                      M.set(0, i)
                      break
                    case 3:
                      if (_.enablePan === !1) return;
                      (C = O.TOUCH_PAN),
                      x.set(t.touches[0].pageX, t.touches[0].pageY)
                      break
                    default:
                      C = O.NONE
                  }
                  C !== O.NONE && _.dispatchEvent(k)
                }
              }
              function m(t) {
                if (_.enabled !== !1) {
                  t.preventDefault(), t.stopPropagation()
                  var e =
                    _.domElement === document
                      ? _.domElement.body
                      : _.domElement
                  switch (t.touches.length) {
                    case 1:
                      if (_.enableRotate === !1) return
                      if (C !== O.TOUCH_ROTATE) return;
                      (_.isRotating = !0),
                      b.set(t.touches[0].pageX, t.touches[0].pageY),
                      w.subVectors(b, E),
                      y.rotateLeft(
                        ((2 * Math.PI * w.x) / e.clientWidth) * _.rotateSpeed
                      ),
                      y.rotateUp(
                        ((2 * Math.PI * w.y) / e.clientHeight) * _.rotateSpeed
                      ),
                      E.copy(b),
                      _.update()
                      break
                    case 2:
                      if (_.enableZoom === !1) return
                      if (C !== O.TOUCH_DOLLY) return
                      var n = t.touches[0].pageX - t.touches[1].pageX,
                        i = t.touches[0].pageY - t.touches[1].pageY,
                        r = Math.sqrt(n * n + i * i)
                      S.set(0, r),
                      P.subVectors(S, M),
                      P.y > 0 ? y.dollyOut(c()) : P.y < 0 && y.dollyIn(c()),
                      M.copy(S),
                      _.update()
                      break
                    case 3:
                      if (_.enablePan === !1) return
                      if (C !== O.TOUCH_PAN) return
                      T.set(t.touches[0].pageX, t.touches[0].pageY),
                      R.subVectors(T, x),
                      a(R.x, R.y),
                      x.copy(T),
                      _.update()
                      break
                    default:
                      C = O.NONE
                  }
                }
              }
              function v() {
                _.enabled !== !1 &&
                  (_.dispatchEvent(j), (C = O.NONE), (_.isRotating = !1))
              }
              function g(t) {
                t.preventDefault()
              }
              var y = new t(e);
              (this.domElement = void 0 !== o ? o : document),
              Object.defineProperty(this, 'constraint', {
                get: function() {
                  return y
                }
              }),
              (this.getPolarAngle = function() {
                return y.getPolarAngle()
              }),
              (this.getAzimuthalAngle = function() {
                return y.getAzimuthalAngle()
              }),
              (this.enabled = !0),
              (this.center = this.target),
              (this.enableZoom = !0),
              (this.zoomSpeed = 1),
              (this.enableRotate = !0),
              (this.rotateSpeed = 1),
              (this.enablePan = !0),
              (this.keyPanSpeed = 7),
              (this.autoRotate = !1),
              (this.autoRotateSpeed = 2),
              (this.enableKeys = !0),
              (this.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 }),
              (this.mouseButtons = {
                ORBIT: THREE.MOUSE.LEFT,
                ZOOM: THREE.MOUSE.MIDDLE,
                PAN: THREE.MOUSE.RIGHT
              })
              var _ = this,
                E = new THREE.Vector2(),
                b = new THREE.Vector2(),
                w = new THREE.Vector2(),
                x = new THREE.Vector2(),
                T = new THREE.Vector2(),
                R = new THREE.Vector2(),
                M = new THREE.Vector2(),
                S = new THREE.Vector2(),
                P = new THREE.Vector2(),
                O = {
                  NONE: -1,
                  ROTATE: 0,
                  DOLLY: 1,
                  PAN: 2,
                  TOUCH_ROTATE: 3,
                  TOUCH_DOLLY: 4,
                  TOUCH_PAN: 5
                },
                C = O.NONE;
              (this.target0 = this.target.clone()),
              (this.position0 = this.object.position.clone()),
              (this.zoom0 = this.object.zoom)
              var A = { type: 'change' },
                k = { type: 'start' },
                j = { type: 'end' };
              (this.update = function() {
                this.autoRotate && C === O.NONE && y.rotateLeft(s()),
                y.update() === !0 && this.dispatchEvent(A)
              }),
              (this.reset = function() {
                (C = O.NONE),
                this.target.copy(this.target0),
                this.object.position.copy(this.position0),
                (this.object.zoom = this.zoom0),
                this.object.updateProjectionMatrix(),
                this.dispatchEvent(A),
                this.update()
              }),
              (this.dispose = function() {
                this.domElement.removeEventListener('contextmenu', g, !1),
                this.domElement.removeEventListener('mousedown', u, !1),
                this.domElement.removeEventListener('mousewheel', f, !1),
                this.domElement.removeEventListener(
                  'MozMousePixelScroll',
                  f,
                  !1
                ),
                this.domElement.removeEventListener('touchstart', d, !1),
                this.domElement.removeEventListener('touchend', v, !1),
                this.domElement.removeEventListener('touchmove', m, !1),
                document.removeEventListener('mousemove', l, !1),
                document.removeEventListener('mouseup', h, !1),
                window.removeEventListener('keydown', p, !1)
              }),
              this.domElement.addEventListener('contextmenu', g, !1),
              this.domElement.addEventListener('mousedown', u, !1),
              this.domElement.addEventListener('mousewheel', f, !1),
              this.domElement.addEventListener('MozMousePixelScroll', f, !1),
              this.domElement.addEventListener('touchstart', d, !1),
              this.domElement.addEventListener('touchend', v, !1),
              this.domElement.addEventListener('touchmove', m, !1),
              window.addEventListener('keydown', p, !1),
              this.update()
            };
          (o.prototype = Object.create(THREE.EventDispatcher.prototype)),
          (o.prototype.constructor = o),
          (o.prototype.onMouseDown = function() {}),
          (o.prototype.onMouseMove = function() {}),
          (o.prototype.onMouseUp = function() {}),
          Object.defineProperties(o.prototype, {
            object: {
              get: function() {
                return this.constraint.object
              }
            },
            target: {
              get: function() {
                return this.constraint.target
              },
              set: function(t) {
                console.warn(
                  'OrbitControls: target is now immutable. Use target.set() instead.'
                ),
                this.constraint.target.copy(t)
              }
            },
            minDistance: {
              get: function() {
                return this.constraint.minDistance
              },
              set: function(t) {
                this.constraint.minDistance = t
              }
            },
            maxDistance: {
              get: function() {
                return this.constraint.maxDistance
              },
              set: function(t) {
                this.constraint.maxDistance = t
              }
            },
            minZoom: {
              get: function() {
                return this.constraint.minZoom
              },
              set: function(t) {
                this.constraint.minZoom = t
              }
            },
            maxZoom: {
              get: function() {
                return this.constraint.maxZoom
              },
              set: function(t) {
                this.constraint.maxZoom = t
              }
            },
            minPolarAngle: {
              get: function() {
                return this.constraint.minPolarAngle
              },
              set: function(t) {
                this.constraint.minPolarAngle = t
              }
            },
            maxPolarAngle: {
              get: function() {
                return this.constraint.maxPolarAngle
              },
              set: function(t) {
                this.constraint.maxPolarAngle = t
              }
            },
            minAzimuthAngle: {
              get: function() {
                return this.constraint.minAzimuthAngle
              },
              set: function(t) {
                this.constraint.minAzimuthAngle = t
              }
            },
            maxAzimuthAngle: {
              get: function() {
                return this.constraint.maxAzimuthAngle
              },
              set: function(t) {
                this.constraint.maxAzimuthAngle = t
              }
            },
            enableDamping: {
              get: function() {
                return this.constraint.enableDamping
              },
              set: function(t) {
                this.constraint.enableDamping = t
              }
            },
            dampingFactor: {
              get: function() {
                return this.constraint.dampingFactor
              },
              set: function(t) {
                this.constraint.dampingFactor = t
              }
            },
            noZoom: {
              get: function() {
                return (
                  console.warn(
                    'OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.'
                  ),
                  !this.enableZoom
                )
              },
              set: function(t) {
                console.warn(
                  'OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.'
                ),
                (this.enableZoom = !t)
              }
            },
            noRotate: {
              get: function() {
                return (
                  console.warn(
                    'OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.'
                  ),
                  !this.enableRotate
                )
              },
              set: function(t) {
                console.warn(
                  'OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.'
                ),
                (this.enableRotate = !t)
              }
            },
            noPan: {
              get: function() {
                return (
                  console.warn(
                    'OrbitControls: .noPan has been deprecated. Use .enablePan instead.'
                  ),
                  !this.enablePan
                )
              },
              set: function(t) {
                console.warn(
                  'OrbitControls: .noPan has been deprecated. Use .enablePan instead.'
                ),
                (this.enablePan = !t)
              }
            },
            noKeys: {
              get: function() {
                return (
                  console.warn(
                    'OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.'
                  ),
                  !this.enableKeys
                )
              },
              set: function(t) {
                console.warn(
                  'OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.'
                ),
                (this.enableKeys = !t)
              }
            },
            staticMoving: {
              get: function() {
                return (
                  console.warn(
                    'OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.'
                  ),
                  !this.constraint.enableDamping
                )
              },
              set: function(t) {
                console.warn(
                  'OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.'
                ),
                (this.constraint.enableDamping = !t)
              }
            },
            dynamicDampingFactor: {
              get: function() {
                return (
                  console.warn(
                    'OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.'
                  ),
                  this.constraint.dampingFactor
                )
              },
              set: function(t) {
                console.warn(
                  'OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.'
                ),
                (this.constraint.dampingFactor = t)
              }
            }
          }),
          (e.exports = o)
        })()
      },
      {}
    ],
    7: [
      function(t, e, n) {
        var i = function(t, e) {
          function n(t) {
            (r = t),
            t.length > 0 ? (i = t[0]) : e && e('VR input not available.')
          }
          var i,
            r,
            o = this,
            a = new THREE.Matrix4(),
            s = null,
            c = new THREE.Vector3().setFromMatrixPosition(t.matrixWorld),
            u = t.quaternion.clone(),
            l = new THREE.Vector3(),
            h = new THREE.Quaternion(),
            f = new THREE.Vector3()
          'VRFrameData' in window && (s = new VRFrameData()),
          navigator.getVRDisplays &&
              navigator
                .getVRDisplays()
                .then(n)
                ['catch'](function() {
                  console.warn('THREE.VRControls: Unable to get VR Displays')
                }),
          (this.scale = 1),
          (this.standing = !1),
          (this.userHeight = 1.6),
          (this.getVRDisplay = function() {
            return i
          }),
          (this.setVRDisplay = function(t) {
            i = t
          }),
          (this.getVRDisplays = function() {
            return (
              console.warn(
                'THREE.VRControls: getVRDisplays() is being deprecated.'
              ),
              r
            )
          }),
          (this.getStandingMatrix = function() {
            return a
          }),
          (this.setPosition = function(t) {
            c.setFromMatrixPosition(t.matrixWorld),
            s.pose.position &&
                  (f.set(
                    s.pose.position[0],
                    s.pose.position[1],
                    s.pose.position[2]
                  ),
                    c.sub(f))
          }),
          (this.getPosition = function() {
            return c
          }),
          (this.setOrientation = function(t) {
            u.copy(t.quaternion)
          }),
          (this.getOrientation = function(t) {
            return u
          }),
          (this.hasInput = function() {
            return s !== null
          }),
          (this.update = function() {
            if (i) {
              var e
              i.getFrameData
                ? (i.getFrameData(s), (e = s.pose))
                : i.getPose && (e = i.getPose()),
              e.orientation !== null &&
                    (h.fromArray(e.orientation),
                      t.quaternion.multiplyQuaternions(u, h).normalize()),
              e.position !== null
                ? (l.fromArray(e.position),
                  l.applyQuaternion(u),
                  t.position.addVectors(c, l))
                : t.position.set(0, 0, 0),
              this.standing &&
                    (i.stageParameters
                      ? (t.updateMatrix(),
                        a.fromArray(
                          i.stageParameters.sittingToStandingTransform
                        ),
                        t.applyMatrix(a))
                      : t.position.setY(t.position.y + this.userHeight)),
              t.position.multiplyScalar(o.scale)
            }
          }),
          (this.resetPose = function() {
            i && i.resetPose()
          }),
          (this.resetSensor = function() {
            console.warn(
              'THREE.VRControls: .resetSensor() is now .resetPose().'
            ),
            this.resetPose()
          }),
          (this.zeroSensor = function() {
            console.warn(
              'THREE.VRControls: .zeroSensor() is now .resetPose().'
            ),
            this.resetPose()
          }),
          (this.dispose = function() {
            i = null
          })
        }
        e.exports = i
      },
      {}
    ],
    8: [
      function(t, e, n) {
        var i = function() {
          THREE.Mesh.call(
            this,
            new THREE.SphereGeometry(0.005, 25, 25),
            new THREE.MeshBasicMaterial({
              color: 16777215,
              opacity: 1,
              transparent: !0,
              depthTest: !1
            })
          ),
          (this.position.z = -0.5),
          (this.tween = new TWEEN.Tween()),
          (this.values = { opacity: 1, scale: 1 })
        }
        i.inherit(THREE.Mesh, {
          fadeIn: function() {
            if (this.faded) {
              var t = this.values
              this.tween
                .reset(t)
                .to({ opacity: 1, scale: 1 }, 750)
                .easing(TWEEN.Easing.Cubic.InOut)
                .onUpdate(
                  function() {
                    (this.material.opacity = t.opacity),
                    this.scale.set(t.scale, t.scale, t.scale)
                  }.bind(this)
                )
                .start(),
              (this.faded = !1)
            }
          },
          fadeOut: function() {
            if (!this.faded) {
              var t = this.values
              this.tween
                .reset(t)
                .to({ opacity: 0, scale: 0.7 }, 400)
                .easing(TWEEN.Easing.Cubic.InOut)
                .onUpdate(
                  function() {
                    (this.material.opacity = t.opacity),
                    this.scale.set(t.scale, t.scale, t.scale)
                  }.bind(this)
                )
                .start(),
              (this.faded = !0)
            }
          }
        }),
        (e.exports = i)
      },
      {}
    ],
    9: [
      function(t, e, n) {
        function i(t, e, n) {
          for (
            var i = t * t, r = 2 * t * t, o = 3 * t * t, a = 0, s = 0;
            i > s;
            s++
          ) {
(n[a++] = e[s]),
            (n[a++] = e[s + i]),
            (n[a++] = e[s + r]),
            (n[a++] = e[s + o])}
        }
        var r = function(t, e, n) {
          (this.manager = void 0 !== n ? n : THREE.DefaultLoadingManager),
          (this._size = t),
          (this._interleaved = e)
        };
        (r.prototype = Object.create(THREE.CompressedTextureLoader.prototype)),
        (r.prototype._parser = function(t) {
          for (
            var e = [], n = Math.log2(this._size), r = 0, o = 0;
            n >= o;
            o++
          ) {
            var a = Math.pow(2, n - o),
              s = a * a * 4
            if (r >= t.byteLength) break
            for (var c = 0; c < 6; c++) {
              if ((e[c] || (e[c] = []), this._interleaved)) {
                var u = new Uint8Array(t, r, s),
                  l = new Uint8Array(s)
                i(a, u, l)
              } else var l = new Uint8Array(t, r, s)
              e[c].push({ data: l, width: a, height: a }), (r += s)
            }
          }
          return {
            isCubemap: !0,
            mipmaps: _.flatten(e),
            mipmapCount: n + 1,
            width: this._size,
            height: this._size,
            format: THREE.RGBAFormat,
            minFilter: THREE.LinearMipMapLinearFilter,
            magFilter: THREE.LinearFilter,
            wrapS: THREE.ClampToEdgeWrapping,
            wrapT: THREE.ClampToEdgeWrapping,
            type: THREE.UnsignedByteType
          }
        }),
        (Math.log2 =
            Math.log2 ||
            function(t) {
              return Math.log(t) * Math.LOG2E
            }),
        (e.exports = r)
      },
      {}
    ],
    10: [
      function(t, e, n) {
        var i = function(t) {
          THREE.XHRLoader.call(this),
          this.setResponseType('arraybuffer'),
          (this.manager = void 0 !== t ? t : THREE.DefaultLoadingManager)
        };
        (i.prototype = Object.create(THREE.XHRLoader.prototype)),
        (e.exports = i)
      },
      {}
    ],
    11: [
      function(t, e, n) {
        function i(t, e, n) {
          for (
            var i = t * t, r = 2 * t * t, o = 3 * t * t, a = 0, s = 0;
            i > s;
            s++
          ) {
(n[a++] = e[s]),
            (n[a++] = e[s + i]),
            (n[a++] = e[s + r]),
            (n[a++] = e[s + o])}
        }
        var r = function(t, e, n) {
          (this.manager = void 0 !== n ? n : THREE.DefaultLoadingManager),
          (this._size = t),
          (this._interleaving = e)
        };
        (r.prototype = Object.create(THREE.BinaryTextureLoader.prototype)),
        (r.prototype._parser = function(t) {
          var e,
            n = this._size
          if (this._interleaving) {
            var r = n * n * 4,
              o = new Uint8Array(t);
            (e = new Uint8Array(r)), i(n, o, e)
          } else e = new Uint8Array(t)
          return {
            width: n,
            height: n,
            data: e,
            format: THREE.RGBAFormat,
            minFilter: THREE.LinearFilter,
            magFilter: THREE.LinearFilter,
            wrapS: THREE.ClampToEdgeWrapping,
            wrapT: THREE.ClampToEdgeWrapping,
            type: THREE.UnsignedByteType
          }
        }),
        (e.exports = r)
      },
      {}
    ],
    12: [
      function(t, e, n) {
        function i(t) {
          var e = t.slice(0, 27),
            n = 1 / (2 * Math.sqrt(Math.PI)),
            i = -(0.5 * Math.sqrt(3 / Math.PI)),
            r = -i,
            o = i,
            a = 0.5 * Math.sqrt(15 / Math.PI),
            s = -a,
            c = 0.25 * Math.sqrt(5 / Math.PI),
            u = s,
            l = 0.25 * Math.sqrt(15 / Math.PI),
            h = [
              n,
              n,
              n,
              i,
              i,
              i,
              r,
              r,
              r,
              o,
              o,
              o,
              a,
              a,
              a,
              s,
              s,
              s,
              c,
              c,
              c,
              u,
              u,
              u,
              l,
              l,
              l
            ]
          return h.map(function(t, n) {
            return t * e[n]
          })
        }
        var r = function(t) {
          THREE.XHRLoader.call(this),
          (this.manager = void 0 !== t ? t : THREE.DefaultLoadingManager)
        };
        (r.prototype = Object.create(THREE.XHRLoader.prototype)),
        (r.prototype.load = function(t, e, n, r) {
          THREE.XHRLoader.prototype.load.call(
            this,
            t,
            function(t) {
              var n = JSON.parse(t),
                r = i(n)
              e(r)
            },
            n,
            r
          )
        }),
        (e.exports = r)
      },
      {}
    ],
    13: [
      function(t, e, n) {
        var i = (t('25'), t('26')),
          r = t('24'),
          o = (t('16'), THREE.MaterialLoader.prototype.parse),
          a = null;
        (THREE.MaterialLoader.setShaders = function(t) {
          a = t
        }),
        (THREE.MaterialLoader.prototype.parse = function(t) {
          var e = o.call(this, t)
          if (t.customType && t.customType === 'MatcapMaterial')
            {return r.create({
              uuid: t.uuid,
              name: t.name,
              normalMap: e.normalMap,
              matcapMap: THREE.ImageUtils.loadTexture('textures/matcap.jpg'),
              normalMapFactor: 1
            })}
          if (t.customType && t.customType === 'PBRMaterial') {
            var n = t.metalGlossMap ? this.getTexture(t.metalGlossMap) : null,
              s = t.map2 ? this.getTexture(t.map2) : null,
              c = t.normalMap2 ? this.getTexture(t.normalMap2) : null,
              u = t.aoMap2 ? this.getTexture(t.aoMap2) : null,
              l = t.lightMapM ? this.getTexture(t.lightMapM) : null,
              h = t.lightMapDir ? this.getTexture(t.lightMapDir) : null,
              f = t.emissiveMap ? this.getTexture(t.emissiveMap) : null,
              p = t.packedPBRMap ? this.getTexture(t.packedPBRMap) : null
            return i.create({
              vertexShader: a['pbr.vs'],
              fragmentShader: a['pbr.fs'],
              uuid: t.uuid,
              name: t.name,
              color: t.color,
              opacity: e.opacity,
              transparent: e.transparent,
              alphaTest: e.alphaTest,
              environment: t.environment,
              exposure: t.exposure,
              albedoMap: e.map,
              albedoMap2: s,
              metalGlossMap: n,
              packedMap: p,
              metalFactor: t.metalFactor,
              glossFactor: t.glossFactor,
              normalMapFactor: t.normalFactor,
              normalMap: e.normalMap,
              normalMap2: c,
              lightMap: e.lightMap,
              lightMapM: l,
              lightMapDir: h,
              aoMap: e.aoMap,
              aoMap2: u,
              aoFactor: t.aoFactor,
              occludeSpecular: t.occludeSpecular,
              emissiveMap: f
            })
          }
          if (t.customType === 'SkyboxMaterial') {
            var d = THREE.ShaderLib.cube;
            (e.vertexShader = a['skybox.vs']),
            (e.fragmentShader = a['skybox.fs']),
            (e.uniforms = THREE.UniformsUtils.clone(d.uniforms)),
            (e.uniforms.tCube.value = this.getTexture(t.cubemap))
          }
          return e
        })
      },
      { 16: 16, 24: 24, 25: 25, 26: 26 }
    ],
    14: [
      function(t, e, n) {
        var i = {
            uniforms: {
              color: { value: new THREE.Color(8355711) },
              mirrorSampler: { value: null },
              textureMatrix: { value: new THREE.Matrix4() }
            },
            vertexShader: [
              'uniform mat4 textureMatrix;',
              'varying vec4 mirrorCoord;',
              'void main() {',
              'vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );',
              'vec4 worldPosition = modelMatrix * vec4( position, 1.0 );',
              'mirrorCoord = textureMatrix * worldPosition;',
              'gl_Position = projectionMatrix * mvPosition;',
              '}'
            ].join('\n'),
            fragmentShader: [
              'uniform vec3 color;',
              'uniform sampler2D mirrorSampler;',
              'varying vec4 mirrorCoord;',
              'float blendOverlay(float base, float blend) {',
              'return( base < 0.5 ? ( 2.0 * base * blend ) : (1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );',
              '}',
              'void main() {',
              'vec4 c = texture2DProj(mirrorSampler, mirrorCoord);',
              'c = vec4(blendOverlay(color.r, c.r), blendOverlay(color.g, c.g), blendOverlay(color.b, c.b), 1.0);',
              'gl_FragColor = c;',
              '}'
            ].join('\n')
          },
          r = function(t, e, n) {
            THREE.Object3D.call(this),
            (this.name = 'mirror_' + this.id),
            (n = n || {}),
            (this.matrixNeedsUpdate = !0)
            var i = void 0 !== n.textureWidth ? n.textureWidth : 512,
              r = void 0 !== n.textureHeight ? n.textureHeight : 512
            this.clipBias = void 0 !== n.clipBias ? n.clipBias : 0
            var o =
              void 0 !== n.color
                ? new THREE.Color(n.color)
                : new THREE.Color(8355711);
            (this.renderer = t),
            (this.mirrorPlane = new THREE.Plane()),
            (this.normal = new THREE.Vector3(0, 0, 1)),
            (this.mirrorWorldPosition = new THREE.Vector3()),
            (this.cameraWorldPosition = new THREE.Vector3()),
            (this.rotationMatrix = new THREE.Matrix4()),
            (this.lookAtPosition = new THREE.Vector3(0, 0, -1)),
            (this.clipPlane = new THREE.Vector4())
            var a = void 0 !== n.debugMode ? n.debugMode : !1
            if (a) {
              var s = new THREE.ArrowHelper(
                  new THREE.Vector3(0, 0, 1),
                  new THREE.Vector3(0, 0, 0),
                  10,
                  16777088
                ),
                c = new THREE.Geometry()
              c.vertices.push(new THREE.Vector3(-10, -10, 0)),
              c.vertices.push(new THREE.Vector3(10, -10, 0)),
              c.vertices.push(new THREE.Vector3(10, 10, 0)),
              c.vertices.push(new THREE.Vector3(-10, 10, 0)),
              c.vertices.push(c.vertices[0])
              var u = new THREE.Line(
                c,
                new THREE.LineBasicMaterial({ color: 16777088 })
              )
              this.add(s), this.add(u)
            }
            e instanceof THREE.PerspectiveCamera
              ? (this.camera = e)
              : ((this.camera = new THREE.PerspectiveCamera()),
                console.log(
                  this.name + ': camera is not a Perspective Camera!'
                )),
            (this.textureMatrix = new THREE.Matrix4()),
            (this.mirrorCamera = this.camera.clone()),
            (this.mirrorCamera.matrixAutoUpdate = !0)
            var l = {
              minFilter: THREE.LinearFilter,
              magFilter: THREE.LinearFilter,
              format: THREE.RGBFormat,
              stencilBuffer: !1
            };
            (this.renderTarget = new THREE.WebGLRenderTarget(i, r, l)),
            (this.renderTarget2 = new THREE.WebGLRenderTarget(i, r, l)),
            this.initMaterial(),
            (this.material.uniforms.mirrorSampler.value = this.renderTarget.texture),
            (this.material.uniforms.color.value = o),
            (this.material.uniforms.textureMatrix.value = this.textureMatrix),
            (THREE.Math.isPowerOfTwo(i) && THREE.Math.isPowerOfTwo(r)) ||
                ((this.renderTarget.texture.generateMipmaps = !1),
                  (this.renderTarget2.texture.generateMipmaps = !1)),
            this.updateTextureMatrix(),
            this.render()
          };
        (r.prototype = Object.create(THREE.Object3D.prototype)),
        (r.prototype.constructor = r),
        (r.prototype.initMaterial = function() {
          var t = THREE.UniformsUtils.clone(i.uniforms)
          this.material = new THREE.ShaderMaterial({
            fragmentShader: i.fragmentShader,
            vertexShader: i.vertexShader,
            uniforms: t
          })
        }),
        (r.prototype.renderWithMirror = function(t) {
          this.updateTextureMatrix(), (this.matrixNeedsUpdate = !1)
          var e = t.camera;
          (t.camera = this.mirrorCamera),
          t.renderTemp(),
          (t.material.uniforms.mirrorSampler.value =
                t.renderTarget2.texture),
          this.render(),
          (this.matrixNeedsUpdate = !0),
          (t.material.uniforms.mirrorSampler.value =
                t.renderTarget.texture),
          (t.camera = e),
          t.updateTextureMatrix()
        }),
        (r.prototype.updateTextureMatrix = function() {
          this.updateMatrixWorld(),
          this.camera.updateMatrixWorld(),
          this.mirrorWorldPosition.setFromMatrixPosition(this.matrixWorld),
          this.cameraWorldPosition.setFromMatrixPosition(
            this.camera.matrixWorld
          ),
          this.rotationMatrix.extractRotation(this.matrixWorld),
          this.normal.set(0, 0, 1),
          this.normal.applyMatrix4(this.rotationMatrix)
          var t = this.mirrorWorldPosition
            .clone()
            .sub(this.cameraWorldPosition)
          t.reflect(this.normal).negate(),
          t.add(this.mirrorWorldPosition),
          this.rotationMatrix.extractRotation(this.camera.matrixWorld),
          this.lookAtPosition.set(0, 0, -1),
          this.lookAtPosition.applyMatrix4(this.rotationMatrix),
          this.lookAtPosition.add(this.cameraWorldPosition)
          var e = this.mirrorWorldPosition.clone().sub(this.lookAtPosition)
          e.reflect(this.normal).negate(),
          e.add(this.mirrorWorldPosition),
          this.up.set(0, -1, 0),
          this.up.applyMatrix4(this.rotationMatrix),
          this.up.reflect(this.normal).negate(),
          this.mirrorCamera.position.copy(t),
          (this.mirrorCamera.up = this.up),
          this.mirrorCamera.lookAt(e),
          this.mirrorCamera.updateProjectionMatrix(),
          this.mirrorCamera.updateMatrixWorld(),
          this.mirrorCamera.matrixWorldInverse.getInverse(
            this.mirrorCamera.matrixWorld
          ),
          this.textureMatrix.set(
            0.5,
            0,
            0,
            0.5,
            0,
            0.5,
            0,
            0.5,
            0,
            0,
            0.5,
            0.5,
            0,
            0,
            0,
            1
          ),
          this.textureMatrix.multiply(this.mirrorCamera.projectionMatrix),
          this.textureMatrix.multiply(this.mirrorCamera.matrixWorldInverse),
          this.mirrorPlane.setFromNormalAndCoplanarPoint(
            this.normal,
            this.mirrorWorldPosition
          ),
          this.mirrorPlane.applyMatrix4(
            this.mirrorCamera.matrixWorldInverse
          ),
          this.clipPlane.set(
            this.mirrorPlane.normal.x,
            this.mirrorPlane.normal.y,
            this.mirrorPlane.normal.z,
            this.mirrorPlane.constant
          )
          var n = new THREE.Vector4(),
            i = this.mirrorCamera.projectionMatrix;
          (n.x =
              (Math.sign(this.clipPlane.x) + i.elements[8]) / i.elements[0]),
          (n.y =
                (Math.sign(this.clipPlane.y) + i.elements[9]) / i.elements[5]),
          (n.z = -1),
          (n.w = (1 + i.elements[10]) / i.elements[14])
          var r = new THREE.Vector4();
          (r = this.clipPlane.multiplyScalar(2 / this.clipPlane.dot(n))),
          (i.elements[2] = r.x),
          (i.elements[6] = r.y),
          (i.elements[10] = r.z + 1 - this.clipBias),
          (i.elements[14] = r.w)
        }),
        (r.prototype.render = function() {
          this.matrixNeedsUpdate && this.updateTextureMatrix(),
          (this.matrixNeedsUpdate = !0)
          for (var t = this; t.parent !== null;) t = t.parent
          if (void 0 !== t && t instanceof THREE.Scene) {
            var e = this.material.visible;
            (this.material.visible = !1),
            this.renderer.render(
              t,
              this.mirrorCamera,
              this.renderTarget,
              !0
            ),
            (this.material.visible = e)
          }
        }),
        (r.prototype.renderTemp = function() {
          this.matrixNeedsUpdate && this.updateTextureMatrix(),
          (this.matrixNeedsUpdate = !0)
          for (var t = this; t.parent !== null;) t = t.parent
          void 0 !== t &&
              t instanceof THREE.Scene &&
              this.renderer.render(
                t,
                this.mirrorCamera,
                this.renderTarget2,
                !0
              )
        }),
        (e.exports = r)
      },
      {}
    ],
    15: [
      function(t, e, n) {
        var i = t('29'),
          r = t('16'),
          o = function(t) {
            t.manager && (this.manager = t.manager),
            t.cubemaps && (this.cubemaps = t.cubemaps),
            t.sh && (this.sh = t.sh),
            t.textures && (this.textures = t.textures),
            t.panoramas && (this.panoramas = t.panoramas),
            t.geometries && (this.geometries = t.geometries)
          };
        (o.prototype.load = function() {
          var t = {}
          return (
            this.cubemaps &&
              (t.cubemap = r.loadSpecularCubemaps(this.cubemaps)),
            this.panoramas && (t.panorama = r.loadPanoramas(this.panoramas)),
            this.sh && (t.sh = r.loadSH(this.sh)),
            this.textures && (t.texture = r.loadTextures(this.textures, '/')),
            this.geometries && (t.geometry = r.loadGeometries(this.geometries)),
            i.props(t)
          )
        }),
        (e.exports = o)
      },
      { 16: 16, 29: 29 }
    ],
    16: [
      function(t, e, n) {
        function i(t, e) {
          return {
            _cache: e || {},
            load: function(e, n, i, r, o) {
              var a = this._cache
              _.has(a, o)
                ? resolve(a[o])
                : t.load(
                  e,
                  function(t) {
                    (a[o] = t), n.apply(this, arguments)
                  },
                  i,
                  r
                )
            },
            get: function(t) {
              return (
                _.has(this._cache, t) ||
                  console.error('Resource not found: ' + t),
                this._cache[t]
              )
            }
          }
        }
        function r(t, e, n, i) {
          return (
            _.isArray(t) || (t = [t]),
            s.all(
              _.map(t, function(t) {
                return i ? i(c(e, t), t, n) : void 0
              })
            )
          )
        }
        function o(t, e, n) {
          return new s(function(i, r) {
            n.load(
              t,
              function(t) {
                (t.filename = e),
                i(arguments.length > 1 ? _.toArray(arguments) : t)
              },
              function() {},
              function() {
                r(new Error('Resource was not found: ' + t))
              },
              e
            )
          })
        }
        function a(t, e, n) {
          return (t = t || []), r(t, e, n, o)
        }
        var s = t('29'),
          c = t('31'),
          u = t('17'),
          l = t('11'),
          h = t('9'),
          f = t('12'),
          p = t('10'),
          d = new THREE.LoadingManager(),
          m = new u(d),
          v = {},
          g = i(new THREE.TextureLoader(d), v),
          y = i(new l(1024, !1, d), v),
          E = i(new h(256, !1, d), v),
          b = {},
          w = new f(d),
          x = {},
          T = i(new p(d), x),
          R = {
            environmentPath: 'assets/environments',
            geometryPath: 'assets/scenes/data/',
            manager: d,
            sceneLoader: m
          },
          M = ''
        Object.defineProperty(R, 'texturePath', {
          get: function() {
            return M
          },
          set: function(t) {
            (M = t), m.setTexturePath(t)
          }
        }),
        (R.loadScene = function(t, e) {
          return o(t, e, m)
        }),
        (R.loadOBJs = function(t, e) {
          return a(t, e, objLoader)
        }),
        (R.loadTextures = function(t, e) {
          return a(t, e || R.texturePath, g)
        }),
        (R.loadBRDFs = function(t, e) {
          return a(t, e, brdfLoader)
        }),
        (R.loadPanoramas = function(t, e) {
          return a(t, e || R.environmentPath, y)
        }),
        (R.loadSpecularCubemaps = function(t, e) {
          return a(t, e || R.environmentPath, E)
        }),
        (R.loadSH = function(t) {
          return s.all(
            _.map(t, function(t) {
              return new s(function(e, n) {
                var i = c(R.environmentPath, t + '/irradiance.json')
                w.load(
                  i,
                  function(n) {
                    (b[t] = n), e(n)
                  },
                  function() {},
                  function() {
                    n(new Error('Resource was not found: ' + i))
                  }
                )
              })
            })
          )
        }),
        (R.loadGeometries = function(t, e) {
          return (
            (t = _.map(t, function(t) {
              return t + '.bin'
            })),
            a(t, e || R.geometryPath, T)
          )
        }),
        (R.getTexture = function(t) {
          return g.get(t)
        }),
        (R.getBRDF = function(t) {
          return brdfLoader.get(t)
        }),
        (R.getPanorama = function(t) {
          return y.get(t + '/panorama.bin')
        }),
        (R.getCubemap = function(t) {
          return E.get(t + '/cubemap.bin')
        }),
        (R.getSH = function(t) {
          return b[t]
        }),
        (R.getGeometry = function(t) {
          return T.get(t + '.bin')
        }),
        (e.exports = R)
      },
      { 10: 10, 11: 11, 12: 12, 17: 17, 29: 29, 31: 31, 9: 9 }
    ],
    17: [
      function(t, e, n) {
        var i = function(t) {
          (this.manager = void 0 !== t ? t : THREE.DefaultLoadingManager),
          (this.texturePath = '')
        }
        Object.assign(i.prototype, {
          load: function(t, e, n, i) {
            this.texturePath === '' &&
              (this.texturePath = t.substring(0, t.lastIndexOf('/') + 1))
            var r = this,
              o = new THREE.XHRLoader(r.manager)
            o.load(
              t,
              function(t) {
                var n = JSON.parse(t)
                r.parse(n, e)
              },
              n,
              i
            )
          },
          setTexturePath: function(t) {
            this.texturePath = t
          },
          setCrossOrigin: function(t) {
            this.crossOrigin = t
          },
          parse: function(t, e) {
            var n
            n = t.binary
              ? this.parseBinaryGeometries(t.geometries)
              : this.parseGeometries(t.geometries)
            var i = this.parseImages(t.images, function() {
                void 0 !== e && e(a, t)
              }),
              r = this.parseTextures(t.textures, i),
              o = this.parseMaterials(t.materials, r),
              a = this.parseObject(t.object, n, o)
            return (
              t.animations &&
                (a.animations = this.parseAnimations(t.animations)),
              t.cameras && (a.cameras = this.parseCameras(a, t.cameras)),
              (void 0 !== t.images && t.images.length !== 0) ||
                (void 0 !== e && e(a, t)),
              a
            )
          },
          parseCameras: function(t, e) {
            for (var n = [], i = 0; i < e.length; i++) {
              var r = t.getObjectByProperty('uuid', e[i])
              r && n.push(r)
            }
            return n
          },
          parseGeometries: function(t) {
            var e = {}
            if (void 0 !== t) {
for (
              var n = new THREE.JSONLoader(),
                i = new THREE.BufferGeometryLoader(),
                r = 0,
                o = t.length;
              o > r;
              r++
            ) {
              var a,
                s = t[r]
                switch (s.type) {
                case 'PlaneGeometry':
                case 'PlaneBufferGeometry':
                  a = new THREE[s.type](
                    s.width,
                    s.height,
                    s.widthSegments,
                    s.heightSegments
                  );
                  break;
                case 'BoxGeometry':
                case 'BoxBufferGeometry':
                case 'CubeGeometry':
                  a = new THREE[s.type](
                    s.width,
                    s.height,
                    s.depth,
                    s.widthSegments,
                    s.heightSegments,
                    s.depthSegments
                  );
                  break;
                case 'CircleGeometry':
                case 'CircleBufferGeometry':
                  a = new THREE[s.type](
                    s.radius,
                    s.segments,
                    s.thetaStart,
                    s.thetaLength
                  );
                  break;
                case 'CylinderGeometry':
                case 'CylinderBufferGeometry':
                  a = new THREE[s.type](
                    s.radiusTop,
                    s.radiusBottom,
                    s.height,
                    s.radialSegments,
                    s.heightSegments,
                    s.openEnded,
                    s.thetaStart,
                    s.thetaLength
                  );
                  break;
                case 'ConeGeometry':
                case 'ConeBufferGeometry':
                  a = new THREE[s.type](
                    s.radius,
                    s.height,
                    s.radialSegments,
                    s.heightSegments,
                    s.openEnded,
                    s.thetaStart,
                    s.thetaLength
                  );
                  break;
                case 'SphereGeometry':
                case 'SphereBufferGeometry':
                  a = new THREE[s.type](
                    s.radius,
                    s.widthSegments,
                    s.heightSegments,
                    s.phiStart,
                    s.phiLength,
                    s.thetaStart,
                    s.thetaLength
                  );
                  break;
                case 'DodecahedronGeometry':
                case 'IcosahedronGeometry':
                case 'OctahedronGeometry':
                case 'TetrahedronGeometry':
                  a = new THREE[s.type](s.radius, s.detail)
                    break;
                case 'RingGeometry':
                case 'RingBufferGeometry':
                  a = new THREE[s.type](
                    s.innerRadius,
                    s.outerRadius,
                    s.thetaSegments,
                    s.phiSegments,
                    s.thetaStart,
                    s.thetaLength
                  );
                  break;
                case 'TorusGeometry':
                case 'TorusBufferGeometry':
                  a = new THREE[s.type](
                    s.radius,
                    s.tube,
                    s.radialSegments,
                    s.tubularSegments,
                    s.arc
                  );
                  break;
                case 'TorusKnotGeometry':
                case 'TorusKnotBufferGeometry':
                  a = new THREE[s.type](
                    s.radius,
                    s.tube,
                    s.tubularSegments,
                    s.radialSegments,
                    s.p,
                    s.q
                  );
                  break;
                case 'LatheGeometry':
                case 'LatheBufferGeometry':
                  a = new THREE[s.type](
                    s.points,
                    s.segments,
                    s.phiStart,
                    s.phiLength
                  );
                  break;
                case 'BufferGeometry':
                  a = i.parse(s)
                    break;
                case 'Geometry':
                  a = n.parse(s.data, this.texturePath).geometry
                    break;
                default:
                  console.warn(
                    'THREE.ObjectLoader: Unsupported geometry type "' +
                        s.type +
                        '"'
                  );
                  continue;
              }
              (a.uuid = s.uuid),
              void 0 !== s.name && (a.name = s.name),
              (e[s.uuid] = a)
              }}
            return e
          },
          setBinaryGeometryBuffer: function(t) {
            this.geometryBuffer = t
          },
          parseBinaryGeometries: function(t) {
            var e = {}
            if (void 0 !== t) {
              for (
                var n = (new THREE.BufferGeometryLoader(), 0), i = t.length;
                i > n;
                n++
              ) {
                var r = new THREE.BufferGeometry(),
                  o = t[n]
                for (var a in o.offsets) {
if (o.offsets.hasOwnProperty(a)) {
                  var s = o.offsets[a],
                    c = s[0],
                    u = s[1] + 1,
                    l = this.geometryBuffer.slice(c, u)
                    if ('index' === a) {
                    var h = new Uint32Array(l)
                      r.setIndex(new THREE.BufferAttribute(h, 1))
                    } else {
                    var f,
                      h = new Float32Array(l)
                      "uv" === a || 'uv2' === a
                      ? (f = 2)
                      : 'position' === a || 'normal' === a || 'color' === a
                        ? (f = 3)
                        : 'tangent' === a && (f = 4),
                    r.addAttribute(a, new THREE.BufferAttribute(h, f))
                    }
                }
}
                (r.uuid = o.uuid),
                void 0 !== o.name && (r.name = o.name),
                (e[o.uuid] = r)
              }
              this.setBinaryGeometryBuffer(null)
            }
            return e
          },
          parseMaterials: function(t, e) {
            var n = {}
            if (void 0 !== t) {
              var i = new THREE.MaterialLoader()
              i.setTextures(e)
              for (var r = 0, o = t.length; o > r; r++) {
                var a = i.parse(t[r])
                n[a.uuid] = a
              }
            }
            return n
          },
          parseAnimations: function(t) {
            for (var e = [], n = 0; n < t.length; n++) {
              var i = THREE.AnimationClip.parse(t[n])
              e.push(i)
            }
            return e
          },
          parseImages: function(t, e) {
            function n(t) {
              return (
                i.manager.itemStart(t),
                a.load(t, function() {
                  i.manager.itemEnd(t)
                })
              )
            }
            var i = this,
              r = {}
            if (void 0 !== t && t.length > 0) {
              var o = new THREE.LoadingManager(e),
                a = new THREE.ImageLoader(o)
              a.setCrossOrigin(this.crossOrigin)
              for (var s = 0, c = t.length; c > s; s++) {
                var u = t[s],
                  l = /^(\/\/)|([a-z]+:(\/\/)?)/i.test(u.url)
                    ? u.url
                    : i.texturePath + u.url
                r[u.uuid] = n(l)
              }
            }
            return r
          },
          parseTextures: function(t, e) {
            function n(t) {
              return typeof t === 'number'
                ? t
                : (console.warn(
                  'THREE.ObjectLoader.parseTexture: Constant should be in numeric form.',
                  t
                ),
                  THREE[t])
            }
            var i = {}
            if (void 0 !== t) { for (var r = 0, o = t.length; o > r; r++) {
              var a,
                s = t[r]
                if (s.images) {
                for (var c = [], u = 0, l = s.images.length; l > u; u++)
                  void 0 === e[s.images[u]] &&
                      console.warn(
                        'THREE.ObjectLoader: Undefined image',
                        s.images[u]
                      ),
                  c.push(e[s.images[u]])
                  a = new THREE.CubeTexture(c)
                } else
                void 0 === s.image &&
                    console.warn(
                      'THREE.ObjectLoader: No "image" specified for',
                      s.uuid
                    ),
                void 0 === e[s.image] &&
                      console.warn(
                        'THREE.ObjectLoader: Undefined image',
                        s.image
                      ),
                (a = new THREE.Texture(e[s.image]));
              (a.needsUpdate = !0),
              (a.uuid = s.uuid),
              void 0 !== s.name && (a.name = s.name),
              void 0 !== s.mapping && (a.mapping = n(s.mapping)),
              void 0 !== s.offset && a.offset.fromArray(s.offset),
              void 0 !== s.repeat && a.repeat.fromArray(s.repeat),
              void 0 !== s.wrap &&
                    ((a.wrapS = n(s.wrap[0])), (a.wrapT = n(s.wrap[1]))),
              void 0 !== s.minFilter && (a.minFilter = n(s.minFilter)),
              void 0 !== s.magFilter && (a.magFilter = n(s.magFilter)),
              void 0 !== s.anisotropy && (a.anisotropy = s.anisotropy),
              void 0 !== s.flipY && (a.flipY = s.flipY),
              (i[s.uuid] = a)
              }}
            return i
          },
          parseObject: (function() {
            var t = new THREE.Matrix4()
            return function(e, n, i) {
              function r(t) {
                return (
                  void 0 === n[t] &&
                    console.warn('THREE.ObjectLoader: Undefined geometry', t),
                  n[t]
                )
              }
              function o(t) {
                return void 0 !== t
                  ? (void 0 === i[t] &&
                      console.warn('THREE.ObjectLoader: Undefined material', t),
                    i[t])
                  : void 0
              }
              var a
              switch (e.type) {
                case 'Scene':
                  a = new THREE.Scene()
                  break
                case 'PerspectiveCamera':
                  (a = new THREE.PerspectiveCamera(
                    e.fov,
                    e.aspect,
                    e.near,
                    e.far
                  )),
                  void 0 !== e.focus && (a.focus = e.focus),
                  void 0 !== e.zoom && (a.zoom = e.zoom),
                  void 0 !== e.filmGauge && (a.filmGauge = e.filmGauge),
                  void 0 !== e.filmOffset && (a.filmOffset = e.filmOffset),
                  void 0 !== e.view && (a.view = Object.assign({}, e.view))
                  break
                case 'OrthographicCamera':
                  a = new THREE.OrthographicCamera(
                    e.left,
                    e.right,
                    e.top,
                    e.bottom,
                    e.near,
                    e.far
                  )
                  break
                case 'AmbientLight':
                  a = new THREE.AmbientLight(e.color, e.intensity)
                  break
                case 'DirectionalLight':
                  a = new THREE.DirectionalLight(e.color, e.intensity)
                  break
                case 'PointLight':
                  a = new THREE.PointLight(
                    e.color,
                    e.intensity,
                    e.distance,
                    e.decay
                  )
                  break
                case 'SpotLight':
                  a = new THREE.SpotLight(
                    e.color,
                    e.intensity,
                    e.distance,
                    e.angle,
                    e.penumbra,
                    e.decay
                  )
                  break
                case 'HemisphereLight':
                  a = new THREE.HemisphereLight(
                    e.color,
                    e.groundColor,
                    e.intensity
                  )
                  break
                case 'Mesh':
                  var s = r(e.geometry),
                    c = o(e.material)
                  a =
                    s.bones && s.bones.length > 0
                      ? new THREE.SkinnedMesh(s, c)
                      : new THREE.Mesh(s, c)
                  break
                case 'LOD':
                  a = new THREE.LOD()
                  break
                case 'Line':
                  a = new THREE.Line(r(e.geometry), o(e.material), e.mode)
                  break
                case 'LineSegments':
                  a = new THREE.LineSegments(r(e.geometry), o(e.material))
                  break
                case 'PointCloud':
                case 'Points':
                  a = new THREE.Points(r(e.geometry), o(e.material))
                  break
                case 'Sprite':
                  a = new THREE.Sprite(o(e.material))
                  break
                case 'Group':
                  a = new THREE.Group()
                  break
                default:
                  a = new THREE.Object3D()
              }
              if (
                ((a.uuid = e.uuid),
                  void 0 !== e.name && (a.name = e.name),
                  void 0 !== e.matrix
                    ? (t.fromArray(e.matrix),
                      t.decompose(a.position, a.quaternion, a.scale))
                    : (void 0 !== e.position && a.position.fromArray(e.position),
                      void 0 !== e.rotation && a.rotation.fromArray(e.rotation),
                      void 0 !== e.scale && a.scale.fromArray(e.scale)),
                  void 0 !== e.castShadow && (a.castShadow = e.castShadow),
                  void 0 !== e.receiveShadow &&
                  (a.receiveShadow = e.receiveShadow),
                  void 0 !== e.visible && (a.visible = e.visible),
                  void 0 !== e.userData && (a.userData = e.userData),
                  void 0 !== e.children)
              ) { for (var u in e.children)
                a.add(this.parseObject(e.children[u], n, i))}
              if (e.type === 'LOD') {
for (var l = e.levels, h = 0; h < l.length; h++) {
                var f = l[h],
                  u = a.getObjectByProperty('uuid', f.object)
                  void 0 !== u && a.addLevel(u, f.distance)
                }}
              return void 0 !== e.layers && (a.layers.mask = e.layers), a
            }
          })()
        }),
        (e.exports = i)
      },
      {}
    ],
    18: [
      function(t, e, n) {
        var i = t('29')
        t('13')
        var r = t('16'),
          o = (t('26'), t('17'), {});
        (o.loadScene = function(t, e, n, o) {
          return new i(function(i, a) {
            var s = (n.renderer, r.getGeometry(t))
            s && r.sceneLoader.setBinaryGeometryBuffer(s),
            r.loadScene(e + t + (o || '.json')).spread(function(t, e) {
              var r;
              (t.materials = {}),
              t.cameras && t.cameras.length > 0 && (r = t.cameras[0]),
              r
                ? ((r.aspect = window.innerWidth / window.innerHeight),
                  r.updateProjectionMatrix())
                : ((r = new THREE.PerspectiveCamera(
                  50,
                  window.innerWidth / window.innerHeight,
                  0.01,
                  2e3
                )),
                  r.position.set(-3.5, 2, 3)),
              t.traverse(function(e) {
                e.material &&
                      (e.material.materials
                        ? e.material.materials.forEach(function(e) {
                          t.materials[e.uuid] = e
                        })
                        : (t.materials[e.material.uuid] = e.material)),
                e instanceof THREE.DirectionalLight &&
                        (e.position.set(0, 0, 1),
                          e.quaternion.normalize(),
                          e.position.applyQuaternion(e.quaternion),
                          e.quaternion.set(0, 0, 0, 0),
                          e.scale.set(0, 0, 0))
              }),
              (n.scene = t),
              n.scenes.push(t),
              (n.camera = r),
              i(t)
            })
          })
        }),
        (e.exports = o)
      },
      { 13: 13, 16: 16, 17: 17, 26: 26, 29: 29 }
    ],
    19: [
      function(t, e, n) {
        (TweenUtils = {}),
        (TweenUtils.tween = function(t, e) {
          var n = new TWEEN.Tween({ progress: 0 })
          return (
            n
              .to({ progress: 1 }, t)
              .easing(void 0 !== e ? e : TWEEN.Easing.Linear.None)
              .start(),
            n
          )
        }),
        (e.exports = TweenUtils)
      },
      {}
    ],
    20: [
      function(t, e, n) {
        var i = function(t, e) {
          function n(t) {
            (u = t), t.length > 0 ? (c = t[0]) : e && e('HMD not available')
          }
          function i() {
            var e = y.isPresenting
            if (
              ((y.isPresenting = void 0 !== c && c.isPresenting),
                y.isPresenting)
            ) {
              var n = c.getEyeParameters('left'),
                i = n.renderWidth,
                r = n.renderHeight
              e ||
                ((b = t.getPixelRatio()),
                  (_ = t.getSize()),
                  t.setPixelRatio(1),
                  t.setSize(2 * i, r, !1))
            } else e && (t.setPixelRatio(b), t.setSize(_.width, _.height, E))
          }
          function r(t) {
            t.pose.orientation
              ? (S.fromArray(t.pose.orientation),
                d.makeRotationFromQuaternion(S))
              : d.identity(),
            t.pose.position &&
                (P.fromArray(t.pose.position), d.setPosition(P)),
            m.fromArray(t.leftViewMatrix),
            m.multiply(d),
            v.fromArray(t.rightViewMatrix),
            v.multiply(d),
            m.getInverse(m),
            v.getInverse(v)
          }
          function o(t) {
            var e = 2 / (t.leftTan + t.rightTan),
              n = (t.leftTan - t.rightTan) * e * 0.5,
              i = 2 / (t.upTan + t.downTan),
              r = (t.upTan - t.downTan) * i * 0.5
            return { scale: [e, i], offset: [n, r] }
          }
          function a(t, e, n, i) {
            (e = void 0 === e ? !0 : e),
            (n = void 0 === n ? 0.01 : n),
            (i = void 0 === i ? 1e4 : i)
            var r = e ? -1 : 1,
              a = new THREE.Matrix4(),
              s = a.elements,
              c = o(t)
            return (
              (s[0] = c.scale[0]),
              (s[1] = 0),
              (s[2] = c.offset[0] * r),
              (s[3] = 0),
              (s[4] = 0),
              (s[5] = c.scale[1]),
              (s[6] = -c.offset[1] * r),
              (s[7] = 0),
              (s[8] = 0),
              (s[9] = 0),
              (s[10] = (i / (n - i)) * -r),
              (s[11] = (i * n) / (n - i)),
              (s[12] = 0),
              (s[13] = 0),
              (s[14] = r),
              (s[15] = 0),
              a.transpose(),
              a
            )
          }
          function s(t, e, n, i) {
            var r = Math.PI / 180,
              o = {
                upTan: Math.tan(t.upDegrees * r),
                downTan: Math.tan(t.downDegrees * r),
                leftTan: Math.tan(t.leftDegrees * r),
                rightTan: Math.tan(t.rightDegrees * r)
              }
            return a(o, e, n, i)
          }
          var c,
            u,
            l,
            h,
            f = new THREE.Vector3(),
            p = new THREE.Vector3(),
            d = new THREE.Matrix4(),
            m = new THREE.Matrix4(),
            v = new THREE.Matrix4(),
            g = null
          'VRFrameData' in window && (g = new window.VRFrameData()),
          navigator.getVRDisplays &&
              navigator
                .getVRDisplays()
                .then(n)
                ['catch'](function() {
                  console.warn('THREE.VREffect: Unable to get VR Displays')
                }),
          (this.isPresenting = !1)
          var y = this,
            _ = t.getSize(),
            E = !1,
            b = t.getPixelRatio();
          (this.getVRDisplay = function() {
            return c
          }),
          (this.setVRDisplay = function(t) {
            c = t
          }),
          (this.getVRDisplays = function() {
            return (
              console.warn(
                'THREE.VREffect: getVRDisplays() is being deprecated.'
              ),
              u
            )
          }),
          (this.setSize = function(e, n, i) {
            if (((_ = { width: e, height: n }), (E = i), y.isPresenting)) {
              var r = c.getEyeParameters('left')
              t.setPixelRatio(1),
              t.setSize(2 * r.renderWidth, r.renderHeight, !1)
            } else t.setPixelRatio(b), t.setSize(e, n, i)
          })
          var w = t.domElement,
            x = [0, 0, 0.5, 1],
            T = [0.5, 0, 0.5, 1]
          window.addEventListener('vrdisplaypresentchange', i, !1),
          (this.setFullScreen = function(t) {
            return new Promise(function(e, n) {
              return void 0 === c
                ? void n(new Error('No VR hardware found.'))
                : y.isPresenting === t
                  ? void e()
                  : void e(
                    t ? c.requestPresent([{ source: w }]) : c.exitPresent()
                  )
            })
          }),
          (this.requestPresent = function() {
            return this.setFullScreen(!0)
          }),
          (this.exitPresent = function() {
            return this.setFullScreen(!1)
          }),
          (this.requestAnimationFrame = function(t) {
            return void 0 !== c
              ? c.requestAnimationFrame(t)
              : window.requestAnimationFrame(t)
          }),
          (this.cancelAnimationFrame = function(t) {
            void 0 !== c
              ? c.cancelAnimationFrame(t)
              : window.cancelAnimationFrame(t)
          }),
          (this.submitFrame = function() {
            void 0 !== c && y.isPresenting && c.submitFrame()
          }),
          (this.autoSubmitFrame = !0)
          var R = new THREE.PerspectiveCamera()
          R.layers.enable(1)
          var M = new THREE.PerspectiveCamera()
          M.layers.enable(2),
          (this.render = function(e, n, i, o) {
            if (c && y.isPresenting) {
              var a = e.autoUpdate
              a && (e.updateMatrixWorld(), (e.autoUpdate = !1)),
              Array.isArray(e) &&
                    (console.warn(
                      'THREE.VREffect.render() no longer supports arrays. Use object.layers instead.'
                    ),
                      (e = e[0]))
              var u,
                d,
                _ = t.getSize(),
                E = c.getLayers()
              if (E.length) {
                var b = E[0];
                (u =
                    b.leftBounds !== null && b.leftBounds.length === 4
                      ? b.leftBounds
                      : x),
                (d =
                      b.rightBounds !== null && b.rightBounds.length === 4
                        ? b.rightBounds
                        : T)
              } else (u = x), (d = T)
              if (
                ((l = {
                  x: Math.round(_.width * u[0]),
                  y: Math.round(_.height * u[1]),
                  width: Math.round(_.width * u[2]),
                  height: Math.round(_.height * u[3])
                }),
                  (h = {
                    x: Math.round(_.width * d[0]),
                    y: Math.round(_.height * d[1]),
                    width: Math.round(_.width * d[2]),
                    height: Math.round(_.height * d[3])
                  }),
                  i
                    ? (t.setRenderTarget(i), (i.scissorTest = !0))
                    : (t.setRenderTarget(null), t.setScissorTest(!0)),
                  (t.autoClear || o) && t.clear(),
                  n.parent === null && n.updateMatrixWorld(),
                  n.matrixWorld.decompose(R.position, R.quaternion, R.scale),
                  M.position.copy(R.position),
                  M.quaternion.copy(R.quaternion),
                  M.scale.copy(R.scale),
                  c.getFrameData)
              )
                {(c.depthNear = n.near),
                (c.depthFar = n.far),
                c.getFrameData(g),
                (R.projectionMatrix.elements = g.leftProjectionMatrix),
                (M.projectionMatrix.elements = g.rightProjectionMatrix),
                r(g),
                R.updateMatrix(),
                R.matrix.multiply(m),
                R.matrix.decompose(R.position, R.quaternion, R.scale),
                M.updateMatrix(),
                M.matrix.multiply(v),
                M.matrix.decompose(M.position, M.quaternion, M.scale)}
              else {
                var w = c.getEyeParameters('left'),
                  S = c.getEyeParameters('right');
                (R.projectionMatrix = s(w.fieldOfView, !0, n.near, n.far)),
                (M.projectionMatrix = s(S.fieldOfView, !0, n.near, n.far)),
                f.fromArray(w.offset),
                p.fromArray(S.offset),
                R.translateOnAxis(f, R.scale.x),
                M.translateOnAxis(p, M.scale.x)
              }
              return (
                i
                  ? (i.viewport.set(l.x, l.y, l.width, l.height),
                    i.scissor.set(l.x, l.y, l.width, l.height))
                  : (t.setViewport(l.x, l.y, l.width, l.height),
                    t.setScissor(l.x, l.y, l.width, l.height)),
                t.render(e, R, i, o),
                i
                  ? (i.viewport.set(h.x, h.y, h.width, h.height),
                    i.scissor.set(h.x, h.y, h.width, h.height))
                  : (t.setViewport(h.x, h.y, h.width, h.height),
                    t.setScissor(h.x, h.y, h.width, h.height)),
                t.render(e, M, i, o),
                i
                  ? (i.viewport.set(0, 0, _.width, _.height),
                    i.scissor.set(0, 0, _.width, _.height),
                    (i.scissorTest = !1),
                    t.setRenderTarget(null))
                  : (t.setViewport(0, 0, _.width, _.height),
                    t.setScissorTest(!1)),
                a && (e.autoUpdate = !0),
                void (y.autoSubmitFrame && y.submitFrame())
              )
            }
            t.render(e, n, i, o)
          }),
          (this.dispose = function() {
            window.removeEventListener('vrdisplaypresentchange', i, !1)
          })
          var S = new THREE.Quaternion(),
            P = new THREE.Vector3()
        }
        e.exports = i
      },
      {}
    ],
    21: [
      function(t, e, n) {
        var i = {
          isLatestAvailable: function() {
            return void 0 !== navigator.getVRDisplays
          },
          isAvailable: function() {
            return (
              void 0 !== navigator.getVRDisplays ||
              void 0 !== navigator.getVRDevices
            )
          },
          getMessage: function() {
            var t
            if (
              (navigator.getVRDisplays
                ? navigator.getVRDisplays().then(function(e) {
                  e.length === 0 &&
                      (t = 'WebVR supported, but no VRDisplays found.')
                })
                : (t = navigator.getVRDevices
                  ? 'Your browser supports WebVR but not the latest version. See <a href="http://webvr.info">webvr.info</a> for more info.'
                  : 'Your browser does not support WebVR. See <a href="http://webvr.info">webvr.info</a> for assistance.'),
                void 0 !== t)
            ) {
              var e = document.createElement('div');
              (e.style.position = 'absolute'),
              (e.style.left = '0'),
              (e.style.top = '0'),
              (e.style.right = '0'),
              (e.style.zIndex = '999'),
              (e.align = 'center')
              var n = document.createElement('div')
              return (
                (n.style.fontFamily = 'sans-serif'),
                (n.style.fontSize = '16px'),
                (n.style.fontStyle = 'normal'),
                (n.style.lineHeight = '26px'),
                (n.style.backgroundColor = '#fff'),
                (n.style.color = '#000'),
                (n.style.padding = '10px 20px'),
                (n.style.margin = '50px'),
                (n.style.display = 'inline-block'),
                (n.innerHTML = t),
                e.appendChild(n),
                e
              )
            }
          },
          getButton: function(t) {
            var e = document.createElement('button')
            return (
              (e.style.position = 'absolute'),
              (e.style.left = 'calc(50% - 50px)'),
              (e.style.bottom = '20px'),
              (e.style.width = '100px'),
              (e.style.border = '0'),
              (e.style.padding = '8px'),
              (e.style.cursor = 'pointer'),
              (e.style.backgroundColor = '#000'),
              (e.style.color = '#fff'),
              (e.style.fontFamily = 'sans-serif'),
              (e.style.fontSize = '13px'),
              (e.style.fontStyle = 'normal'),
              (e.style.textAlign = 'center'),
              (e.style.zIndex = '999'),
              (e.textContent = 'ENTER VR'),
              (e.onclick = function() {
                t.isPresenting ? t.exitPresent() : t.requestPresent()
              }),
              window.addEventListener(
                'vrdisplaypresentchange',
                function(n) {
                  e.textContent = t.isPresenting ? 'EXIT VR' : 'ENTER VR'
                },
                !1
              ),
              e
            )
          }
        }
        e.exports = i
      },
      {}
    ],
    22: [
      function(t, e, n) {
        t('23'),
        (window._ = t('32')),
        (Number.prototype.lerp = function(t, e) {
          return this + (t - this) * e
        }),
        String.prototype.endsWith ||
            (String.prototype.endsWith = function(t, e) {
              var n = this.toString();
              (typeof e !== 'number' ||
                !isFinite(e) ||
                Math.floor(e) !== e ||
                e > n.length) &&
                (e = n.length),
              (e -= t.length)
              var i = n.indexOf(t, e)
              return i !== -1 && i === e
            }),
        (Function.prototype.inherit = function(t, e) {
          if (!t || !_.isFunction(t))
            {throw 'parent argument must be a function';}
          this.prototype = _.extend(Object.create(t.prototype), e)
        }),
        (Function.prototype.mixin = function(t) {
          _.each(
            t,
            function(t, e) {
              void 0 === this.prototype[e] && (this.prototype[e] = t)
            },
            this
          )
        }),
        (window.WIDTH = window.innerWidth),
        (window.HEIGHT = window.innerHeight),
        (window.mouseX = 0),
        (window.mouseY = 0),
        (window.isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(
          navigator.userAgent
        )),
        (window.iOS =
            /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream)
      },
      { 23: 23, 32: 32 }
    ],
    23: [
      function(t, e, n) {
        void 0 === Date.now &&
          (Date.now = function() {
            return new Date().valueOf()
          }),
        (window.TWEEN = (function() {
          var t = [],
            e = [],
            n = []
          return {
            REVISION: '14',
            getAll: function() {
              return t
            },
            removeAll: function() {
              t = []
            },
            add: function(t) {
              e.push(t)
            },
            remove: function(t) {
              n.push(t)
            },
            update: function(i) {
              var r = 0
              for (
                i =
                    void 0 !== i
                      ? i
                      : typeof window !== 'undefined' &&
                        void 0 !== window.performance &&
                        void 0 !== window.performance.now
                        ? window.performance.now()
                        : Date.now();
                r < t.length;

              )
                {t[r].update(i) ? r++ : t.splice(r, 1)}
              return (
                n.length > 0 &&
                    (n.forEach(function(e) {
                      var n = t.indexOf(e)
                      n !== -1 && t.splice(n, 1)
                    }),
                      (n = [])),
                e.length > 0 &&
                    (e.forEach(function(e) {
                      t.push(e)
                    }),
                      (e = [])),
                !0
              )
            }
          }
        })()),
        (TWEEN.Tween = function(t) {
          var e, n, i, r, o, a, s, c, u, l, h, f, p, d, m, v, g, y, _, E;
          (this.reset = function(t) {
            return (
              (e = t),
              (n = 0),
              (i = {}),
              (r = {}),
              (o = {}),
              (a = 1e3),
              (s = 0),
              (c = !1),
              (u = !1),
              (l = !1),
              (h = 0),
              (f = null),
              (p = TWEEN.Easing.Linear.None),
              (d = TWEEN.Interpolation.Linear),
              (m = []),
              (v = null),
              (g = !1),
              (y = null),
              (_ = null),
              (E = null),
              this
            )
          }),
          (this.to = function(t, e) {
            return void 0 !== e && (a = e), (r = t), this
          }),
          (this.start = function(t) {
            TWEEN.add(this),
            (u = !0),
            (g = !1),
            (f =
                    void 0 !== t
                      ? t
                      : typeof window !== 'undefined' &&
                        void 0 !== window.performance &&
                        void 0 !== window.performance.now
                        ? window.performance.now()
                        : Date.now()),
            (f += h)
            for (var n in r) (i[n] = e[n]), (o[n] = i[n] || 0)
            return this
          }),
          (this.stop = function() {
            return u
              ? (TWEEN.remove(this),
                (u = !1),
                E !== null && E.call(e),
                this.stopChainedTweens(),
                this)
              : this
          }),
          (this.stopChainedTweens = function() {
            for (var t = 0, e = m.length; e > t; t++) m[t].stop()
          }),
          (this.delay = function(t) {
            return (h = t), this
          }),
          (this.repeat = function(t) {
            return (s = t), this
          }),
          (this.yoyo = function(t) {
            return (c = t), this
          }),
          (this.easing = function(t) {
            return (p = t), this
          }),
          (this.interpolation = function(t) {
            return (d = t), this
          }),
          (this.chain = function() {
            return (m = arguments), this
          }),
          (this.onStart = function(t) {
            return (v = t), this
          }),
          (this.onUpdate = function(t) {
            return (y = t), this
          }),
          (this.onComplete = function(t) {
            return (_ = t), this
          }),
          (this.onStop = function(t) {
            return (E = t), this
          }),
          (this.update = function(t) {
            var o
            if (f > t) return !0
            if (!u) return !1
            g === !1 && (v !== null && v.call(e), (g = !0))
            var s = (t - f) / a;
            (s = s > 1 ? 1 : s), (n = s)
            var c = p(s)
            for (o in r) {
              var l = i[o] || 0,
                h = r[o]
              e[o] = l + (h - l) * c
            }
            if ((y !== null && y.call(e, c), s == 1)) {
              _ !== null && _.call(e)
              for (var d = 0, E = m.length; E > d; d++) m[d].start(t)
              return !1
            }
            return !0
          }),
          (this.getProgress = function() {
            return n
          }),
          void 0 !== t && this.reset(t)
        }),
        (TWEEN.Easing = {
          Linear: {
            None: function(t) {
              return t
            }
          },
          Quadratic: {
            In: function(t) {
              return t * t
            },
            Out: function(t) {
              return t * (2 - t)
            },
            InOut: function(t) {
              return (t *= 2) < 1 ? 0.5 * t * t : -0.5 * (--t * (t - 2) - 1)
            }
          },
          Cubic: {
            In: function(t) {
              return t * t * t
            },
            Out: function(t) {
              return --t * t * t + 1
            },
            InOut: function(t) {
              return (t *= 2) < 1
                ? 0.5 * t * t * t
                : 0.5 * ((t -= 2) * t * t + 2)
            }
          },
          Quartic: {
            In: function(t) {
              return t * t * t * t
            },
            Out: function(t) {
              return 1 - --t * t * t * t
            },
            InOut: function(t) {
              return (t *= 2) < 1
                ? 0.5 * t * t * t * t
                : -0.5 * ((t -= 2) * t * t * t - 2)
            }
          },
          Quintic: {
            In: function(t) {
              return t * t * t * t * t
            },
            Out: function(t) {
              return --t * t * t * t * t + 1
            },
            InOut: function(t) {
              return (t *= 2) < 1
                ? 0.5 * t * t * t * t * t
                : 0.5 * ((t -= 2) * t * t * t * t + 2)
            }
          },
          Sinusoidal: {
            In: function(t) {
              return 1 - Math.cos((t * Math.PI) / 2)
            },
            Out: function(t) {
              return Math.sin((t * Math.PI) / 2)
            },
            InOut: function(t) {
              return 0.5 * (1 - Math.cos(Math.PI * t))
            }
          },
          Exponential: {
            In: function(t) {
              return t === 0 ? 0 : Math.pow(1024, t - 1)
            },
            Out: function(t) {
              return t === 1 ? 1 : 1 - Math.pow(2, -10 * t)
            },
            InOut: function(t) {
              return t === 0
                ? 0
                : t === 1
                  ? 1
                  : (t *= 2) < 1
                    ? 0.5 * Math.pow(1024, t - 1)
                    : 0.5 * (-Math.pow(2, -10 * (t - 1)) + 2)
            }
          },
          Circular: {
            In: function(t) {
              return 1 - Math.sqrt(1 - t * t)
            },
            Out: function(t) {
              return Math.sqrt(1 - --t * t)
            },
            InOut: function(t) {
              return (t *= 2) < 1
                ? -0.5 * (Math.sqrt(1 - t * t) - 1)
                : 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1)
            }
          },
          Elastic: {
            In: function(t) {
              var e,
                n = 0.1,
                i = 0.4
              return t === 0
                ? 0
                : t === 1
                  ? 1
                  : (!n || n < 1
                    ? ((n = 1), (e = i / 4))
                    : (e = (i * Math.asin(1 / n)) / (2 * Math.PI)),
                    -(
                      n *
                        Math.pow(2, 10 * (t -= 1)) *
                        Math.sin(((t - e) * (2 * Math.PI)) / i)
                    ))
            },
            Out: function(t) {
              var e,
                n = 0.1,
                i = 0.4
              return t === 0
                ? 0
                : t === 1
                  ? 1
                  : (!n || n < 1
                    ? ((n = 1), (e = i / 4))
                    : (e = (i * Math.asin(1 / n)) / (2 * Math.PI)),
                    n *
                        Math.pow(2, -10 * t) *
                        Math.sin(((t - e) * (2 * Math.PI)) / i) +
                        1)
            },
            InOut: function(t) {
              var e,
                n = 0.1,
                i = 0.4
              return t === 0
                ? 0
                : t === 1
                  ? 1
                  : (!n || n < 1
                    ? ((n = 1), (e = i / 4))
                    : (e = (i * Math.asin(1 / n)) / (2 * Math.PI)),
                    (t *= 2) < 1
                      ? -0.5 *
                          (n *
                            Math.pow(2, 10 * (t -= 1)) *
                            Math.sin(((t - e) * (2 * Math.PI)) / i))
                      : n *
                            Math.pow(2, -10 * (t -= 1)) *
                            Math.sin(((t - e) * (2 * Math.PI)) / i) *
                            0.5 +
                          1)
            }
          },
          Back: {
            In: function(t) {
              var e = 1.70158
              return t * t * ((e + 1) * t - e)
            },
            Out: function(t) {
              var e = 1.70158
              return --t * t * ((e + 1) * t + e) + 1
            },
            InOut: function(t) {
              var e = 2.5949095
              return (t *= 2) < 1
                ? 0.5 * (t * t * ((e + 1) * t - e))
                : 0.5 * ((t -= 2) * t * ((e + 1) * t + e) + 2)
            }
          },
          Bounce: {
            In: function(t) {
              return 1 - TWEEN.Easing.Bounce.Out(1 - t)
            },
            Out: function(t) {
              return 1 / 2.75 > t
                ? 7.5625 * t * t
                : 2 / 2.75 > t
                  ? 7.5625 * (t -= 1.5 / 2.75) * t + 0.75
                  : 2.5 / 2.75 > t
                    ? 7.5625 * (t -= 2.25 / 2.75) * t + 0.9375
                    : 7.5625 * (t -= 2.625 / 2.75) * t + 0.984375
            },
            InOut: function(t) {
              return t < 0.5
                ? 0.5 * TWEEN.Easing.Bounce.In(2 * t)
                : 0.5 * TWEEN.Easing.Bounce.Out(2 * t - 1) + 0.5
            }
          }
        }),
        (TWEEN.Interpolation = {
          Linear: function(t, e) {
            var n = t.length - 1,
              i = n * e,
              r = Math.floor(i),
              o = TWEEN.Interpolation.Utils.Linear
            return e < 0
              ? o(t[0], t[1], i)
              : e > 1
                ? o(t[n], t[n - 1], n - i)
                : o(t[r], t[r + 1 > n ? n : r + 1], i - r)
          },
          Bezier: function(t, e) {
            var n,
              i = 0,
              r = t.length - 1,
              o = Math.pow,
              a = TWEEN.Interpolation.Utils.Bernstein
            for (n = 0; r >= n; n++)
              {i += o(1 - e, r - n) * o(e, n) * t[n] * a(r, n)}
            return i
          },
          CatmullRom: function(t, e) {
            var n = t.length - 1,
              i = n * e,
              r = Math.floor(i),
              o = TWEEN.Interpolation.Utils.CatmullRom
            return t[0] === t[n]
              ? (e < 0 && (r = Math.floor((i = n * (1 + e)))),
                o(
                  t[(r - 1 + n) % n],
                  t[r],
                  t[(r + 1) % n],
                  t[(r + 2) % n],
                  i - r
                ))
              : e < 0
                ? t[0] - (o(t[0], t[0], t[1], t[1], -i) - t[0])
                : e > 1
                  ? t[n] - (o(t[n], t[n], t[n - 1], t[n - 1], i - n) - t[n])
                  : o(
                    t[r ? r - 1 : 0],
                    t[r],
                    t[r + 1 > n ? n : r + 1],
                    t[r + 2 > n ? n : r + 2],
                    i - r
                  )
          },
          Utils: {
            Linear: function(t, e, n) {
              return (e - t) * n + t
            },
            Bernstein: function(t, e) {
              var n = TWEEN.Interpolation.Utils.Factorial
              return n(t) / n(e) / n(t - e)
            },
            Factorial: (function() {
              var t = [1]
              return function(e) {
                var n,
                  i = 1
                if (t[e]) return t[e]
                for (n = e; n > 1; n--) i *= n
                return (t[e] = i)
              };
            })(),
            CatmullRom: function(t, e, n, i, r) {
              var o = 0.5 * (n - t),
                a = 0.5 * (i - e),
                s = r * r,
                c = r * s
              return (
                (2 * e - 2 * n + o + a) * c +
                  (-3 * e + 3 * n - 2 * o - a) * s +
                  o * r +
                  e
              )
            }
          }
        }),
        'undefined' !== typeof e && e.exports && (e.exports = TWEEN)
      },
      {}
    ],
    24: [
      function(t, e, n) {
        function i(t, e) {
          return void 0 !== t ? t : e
        }
        var r = t('25'),
          o = t('16'),
          a = {
            normalMapFactor: 'uNormalMapFactor',
            normalMap: 'sTextureNormalMap',
            matcapMap: 'sTextureAOMap'
          },
          s = function(t) {
            (t = Object.assign(
              {
                vertexShader: t.vertexShader,
                fragmentShader: t.fragmentShader,
                uniforms: {
                  uNormalMapFactor: { type: 'f', value: 1 },
                  sTextureMatcapMap: { type: 't', value: null },
                  sTextureNormalMap: { type: 't', value: null },
                  uFlipY: { type: 'i', value: 0 },
                  uOutputLinear: { type: 'i', value: 0 }
                }
              },
              t
            )),
            r.call(this, t),
            Object.keys(this.uniforms).forEach(function(t) {
              this.onPropertyChange(t, function(e) {
                this.uniforms[t].value = e
              })
            }, this),
            _.each(
              a,
              function(t, e) {
                this.onPropertyChange(e, function(e) {
                  this[t] = e
                })
              },
              this
            ),
            (this.extensions = { derivatives: !0 })
          }
        s.inherit(r, {
          clone: function(t) {
            var e = t || new s()
            return (
              r.prototype.clone.call(this, e),
              (e.name = this.name),
              (e.transparent = this.transparent),
              _.each(
                this.uniforms,
                function(t, n) {
                  var i = t.type
                  'v2' === i || i === 'm4'
                    ? e.uniforms[n].value.copy(t.value)
                    : (e.uniforms[n].value = t.value)
                },
                this
              ),
              e
            )
          }
        }),
        (s.create = function(t) {
          var e = new s();
          (e.uuid = t.uuid),
          (e.name = t.name),
          (e.transparent = i(t.transparent, !1)),
          (e.polygonOffset = i(t.polygonOffset, !1)),
          (e.polygonOffsetUnits = i(t.polygonOffsetUnits, 0)),
          (e.polygonOffsetFactor = i(t.polygonOffsetFactor, 0))
          var n = (o.getTexture('white.png'), t.normalMap),
            r = t.matcapMap
          return (
            (e.uNormalMapFactor = i(t.normalMapFactor, 1)),
            (e.uFlipY = i(t.flipNormals, 0)),
            (e.side = i(t.side, THREE.FrontSide)),
            (n.needsUpdate = !0),
            (r.needsUpdate = !0),
            (e.sTextureNormalMap = n),
            (e.sTextureMatcapMap = r),
            e
          )
        }),
        (e.exports = s)
      },
      { 16: 16, 25: 25 }
    ],
    25: [
      function(t, e, n) {
        var i = [
            'side',
            'alphaTest',
            'transparent',
            'depthWrite',
            'shading',
            'wireframe'
          ],
          r = function(t) {
            (t = t || {}),
            THREE.ShaderMaterial.call(this, t),
            _.each(
              i,
              function(e) {
                var n = t[e]
                void 0 !== n && (this[e] = n)
              },
              this
            )
          }
        r.inherit(THREE.ShaderMaterial, {
          onPropertyChange: function(t, e) {
            Object.defineProperty(this, t, {
              get: function() {
                return this['_' + t]
              },
              set: function(n) {
                (this['_' + t] = n), e.call(this, n)
              }
            })
          },
          clone: function(t) {
            var e = t || new r()
            return (
              THREE.Material.prototype.clone.call(this, e),
              (e.shading = this.shading),
              (e.wireframe = this.wireframe),
              (e.wireframeLinewidth = this.wireframeLinewidth),
              (e.fog = this.fog),
              (e.lights = this.lights),
              (e.vertexColors = this.vertexColors),
              (e.skinning = this.skinning),
              (e.morphTargets = this.morphTargets),
              (e.morphNormals = this.morphNormals),
              e
            )
          }
        }),
        (e.exports = r)
      },
      {}
    ],
    26: [
      function(t, e, n) {
        function i(t, e) {
          return void 0 !== t ? t : e
        }
        var r = t('27'),
          o = t('16'),
          a = {
            aoFactor: 'uAOPBRFactor',
            albedoFactor: 'uAlbedoPBRFactor',
            glossFactor: 'uGlossinessPBRFactor',
            metalFactor: 'uMetalnessPBRFactor',
            opacity: 'uOpacityFactor',
            normalMapFactor: 'uNormalMapFactor',
            f0Factor: 'uSpecularF0Factor',
            albedoMap: 'sTextureAlbedoMap',
            normalMap: 'sTextureNormalMap',
            normalMap2: 'sTextureNormalMap2',
            aoMap: 'sTextureAOMap',
            aoMap2: 'sTextureAOMap2',
            metalGlossMap: 'sTextureMetalGlossMap',
            packedMap: 'sTexturePackedMap',
            emissiveMap: 'sTextureEmissiveMap',
            lightMap: 'sTextureLightMap',
            lightMapM: 'sTextureLightMapM',
            lightMapDir: 'sTextureLightMapDir',
            cubemap: 'sSpecularPBR',
            panorama: 'sPanoramaPBR',
            sph: 'uDiffuseSPH',
            exposure: 'uEnvironmentExposure',
            transform: 'uEnvironmentTransform',
            occludeSpecular: 'uOccludeSpecular',
            alphaTest: 'uAlphaTest',
            color: 'uColor',
            contrast: 'uContrast'
          },
          s = function(t) {
            (t = Object.assign(
              {
                uniforms: {
                  uAOPBRFactor: { type: 'f', value: 1 },
                  uAlbedoPBRFactor: { type: 'f', value: 1 },
                  uGlossinessPBRFactor: { type: 'f', value: 1 },
                  uMetalnessPBRFactor: { type: 'f', value: 1 },
                  uNormalMapFactor: { type: 'f', value: 1 },
                  uSpecularF0Factor: { type: 'f', value: 1 },
                  uEnvironmentExposure: { type: 'f', value: 1 },
                  uOpacityFactor: { type: 'f', value: 1 },
                  sTextureAlbedoMap: { type: 't', value: null },
                  sTextureAlbedoMap2: { type: 't', value: null },
                  sTextureNormalMap: { type: 't', value: null },
                  sTextureNormalMap2: { type: 't', value: null },
                  sTextureAOMap: { type: 't', value: null },
                  sTextureAOMap2: { type: 't', value: null },
                  sTextureMetalGlossMap: { type: 't', value: null },
                  sTexturePackedMap: { type: 't', value: null },
                  sTextureEmissiveMap: { type: 't', value: null },
                  sTextureLightMap: { type: 't', value: null },
                  sTextureLightMapM: { type: 't', value: null },
                  sTextureLightMapDir: { type: 't', value: null },
                  sSpecularPBR: { type: 't', value: null },
                  sPanoramaPBR: { type: 't', value: null },
                  uTextureEnvironmentSpecularPBRLodRange: {
                    type: 'v2',
                    value: new THREE.Vector2(10, 5)
                  },
                  uTextureEnvironmentSpecularPBRTextureSize: {
                    type: 'v2',
                    value: new THREE.Vector2()
                  },
                  uDiffuseSPH: { type: '3fv', value: null },
                  uFlipY: { type: 'i', value: 0 },
                  uOccludeSpecular: { type: 'i', value: 0 },
                  uOutputLinear: { type: 'i', value: 0 },
                  uEnvironmentTransform: {
                    type: 'm4',
                    value: new THREE.Matrix4()
                  },
                  uMode: { type: 'i', value: 0 },
                  uColor: { type: 'c', value: null },
                  uAlphaTest: { type: 'f', value: 0 },
                  uContrast: { type: 'f', value: 1.1 },
                  offsetRepeat: {
                    type: 'v4',
                    value: new THREE.Vector4(0, 0, 1, 1)
                  },
                  offsetRepeatDetail: {
                    type: 'v4',
                    value: new THREE.Vector4(0, 0, 1, 1)
                  },
                  viewLightDir: { type: 'v3', value: new THREE.Vector3() },
                  lightColor: { type: 'c', value: new THREE.Color() },
                  highlights: { type: 'i', value: 1 }
                }
              },
              t
            )),
            r.call(this, t),
            Object.keys(this.uniforms).forEach(function(t) {
              this.onPropertyChange(t, function(e) {
                this.uniforms[t].value = e
              })
            }, this),
            _.each(
              a,
              function(t, e) {
                this.onPropertyChange(e, function(e) {
                  this[t] = e
                })
              },
              this
            ),
            (this.extensions = {
              derivatives: !0,
              shaderTextureLOD:
                  THREE.Extensions.get('EXT_shader_texture_lod') !== null
            }),
            (this.pbr = !0)
          }
        s.inherit(r, {
          _clone: function(t) {
            var e = t || new s()
            return (
              r.prototype.clone.call(this, e),
              (e.name = this.name),
              (e.transparent = this.transparent),
              _.each(
                this.uniforms,
                function(t, n) {
                  var i = t.type
                  'v2' === i || i === 'm4'
                    ? e.uniforms[n].value.copy(t.value)
                    : (e.uniforms[n].value = t.value)
                },
                this
              ),
              e
            )
          },
          clone: function() {
            var t = s.create(this.createOptions)
            return (t.uuid = THREE.Math.generateUUID()), t
          },
          updateEnvironmentTransform: (function() {
            var t = new THREE.Quaternion()
            return function(e) {
              e.getWorldQuaternion(t).inverse(),
              this.uniforms.uEnvironmentTransform.value.makeRotationFromQuaternion(
                t
              )
            }
          })(),
          refreshOffsetRepeat: function() {
            var t
            if (
              (this.defines.USE_ALBEDOMAP
                ? (t = this.sTextureAlbedoMap)
                : this.defines.USE_NORMALMAP
                  ? (t = this.sTextureNormalMap)
                  : this.defines.USE_AOMAP && (t = this.sTextureAOMap),
                void 0 !== t)
            ) {
              var e = t.offset,
                n = t.repeat
              this.uniforms.offsetRepeat.value.set(e.x, e.y, n.x, n.y)
            }
          },
          refreshOffsetRepeatDetail: function() {
            var t = this.sTextureNormalMap2
            if (void 0 !== t) {
              var e = t.offset,
                n = t.repeat
              this.uniforms.offsetRepeatDetail.value.set(e.x, e.y, n.x, n.y)
            }
          },
          refreshUniforms: function(t) {
            this.updateEnvironmentTransform(t)
          }
        }),
        (s.create = function(t) {
          var e = new s({
            vertexShader: t.vertexShader,
            fragmentShader: t.fragmentShader
          });
          (e.createOptions = t),
          (e.uuid = t.uuid),
          (e.name = t.name),
          (e.transparent = i(t.transparent, !1)),
          (e.polygonOffset = i(t.polygonOffset, !1)),
          (e.polygonOffsetUnits = i(t.polygonOffsetUnits, 0)),
          (e.polygonOffsetFactor = i(t.polygonOffsetFactor, 0))
          var n,
            r,
            a = o.getTexture('textures/white.png'),
            c = o.getTexture('textures/normal.png'),
            u = t.albedoMap || a,
            l = t.albedoMap2 || a,
            h = t.normalMap || c,
            f = t.normalMap2 || c,
            p = t.aoMap || a,
            d = t.aoMap2 || a,
            m = t.metalGlossMap || a,
            v = t.packedMap || a,
            g = t.emissiveMap || a,
            y = t.lightMap || a,
            _ = t.lightMapM || a,
            E = t.lightMapDir || a,
            b = o.getSH(t.environment)
          return (
            e.extensions.shaderTextureLOD
              ? (n = o.getCubemap(t.environment))
              : (r = o.getPanorama(t.environment)),
            t.albedoMap && (e.defines.USE_ALBEDOMAP = !0),
            t.albedoMap2 && (e.defines.USE_ALBEDOMAP2 = !0),
            t.normalMap && (e.defines.USE_NORMALMAP = !0),
            t.normalMap2 && (e.defines.USE_NORMALMAP2 = !0),
            t.aoMap && (e.defines.USE_AOMAP = !0),
            t.aoMap2 && (e.defines.USE_AOMAP2 = !0),
            t.metalGlossMap && (e.defines.USE_METALGLOSSMAP = !0),
            t.packedMap && (e.defines.USE_PACKEDMAP = !0),
            t.emissiveMap && (e.defines.USE_EMISSIVEMAP = !0),
            t.lightMap && (e.defines.USE_LIGHTMAP = !0),
            t.lightMapDir && (e.defines.USE_LIGHTMAP_DIR = !0),
            (e.uAlbedoPBRFactor = i(t.albedoFactor, 1)),
            (e.uNormalMapFactor = i(t.normalMapFactor, 1)),
            (e.uMetalnessPBRFactor = i(t.metalFactor, 1)),
            (e.uGlossinessPBRFactor = i(t.glossFactor, 1)),
            (e.uAOPBRFactor = i(t.aoFactor, 1)),
            (e.uSpecularF0Factor = i(t.f0Factor, 0.5)),
            (e.uEnvironmentExposure = i(t.exposure, 1)),
            (e.occludeSpecular = i(t.occludeSpecular ? 1 : 0, 1)),
            (e.uFlipY = i(t.flipNormals, 0)),
            (e.opacity = i(t.opacity, 1)),
            (e.color = new THREE.Color().setHex(
              void 0 !== t.color ? t.color : 16777215
            )),
            (e.side = i(t.side, THREE.FrontSide)),
            (u.needsUpdate = !0),
            (l.needsUpdate = !0),
            (h.needsUpdate = !0),
            (f.needsUpdate = !0),
            (p.needsUpdate = !0),
            (d.needsUpdate = !0),
            (m.needsUpdate = !0),
            (v.needsUpdate = !0),
            (g.needsUpdate = !0),
            (y.needsUpdate = !0),
            (_.needsUpdate = !0),
            (E.needsUpdate = !0),
            n && (n.needsUpdate = !0),
            r && (r.needsUpdate = !0),
            (e.sTextureAlbedoMap = u),
            (e.sTextureAlbedoMap2 = l),
            (e.sTextureNormalMap = h),
            (e.sTextureNormalMap2 = f),
            (e.sTextureAOMap = p),
            (e.sTextureAOMap2 = d),
            (e.sTextureMetalGlossMap = m),
            (e.sTexturePackedMap = v),
            (e.sTextureEmissiveMap = g),
            (e.sTextureLightMap = y),
            (e.sTextureLightMapM = _),
            (e.sTextureLightMapDir = E),
            (e.sSpecularPBR = n),
            (e.sPanoramaPBR = r),
            b && (e.uDiffuseSPH = new Float32Array(b, 27)),
            (e.uEnvironmentTransform = new THREE.Matrix4()),
            t.alphaTest &&
                ((e.alphaTest = t.alphaTest), (e.defines.ALPHATEST = !0)),
            e.extensions.shaderTextureLOD
              ? ((e.defines.CUBEMAP = !0),
                e.uniforms.uTextureEnvironmentSpecularPBRTextureSize.value.set(
                  256,
                  256
                ))
              : ((e.defines.PANORAMA = !0),
                e.uniforms.uTextureEnvironmentSpecularPBRTextureSize.value.set(
                  1024,
                  1024
                )),
            e.refreshOffsetRepeat(),
            e.refreshOffsetRepeatDetail(),
            e
          )
        }),
        (e.exports = s)
      },
      { 16: 16, 27: 27 }
    ],
    27: [
      function(t, e, n) {
        var i = [
            'side',
            'alphaTest',
            'transparent',
            'depthWrite',
            'shading',
            'wireframe'
          ],
          r = function(t) {
            (t = t || {}),
            THREE.RawShaderMaterial.call(this, t),
            _.each(
              i,
              function(e) {
                var n = t[e]
                void 0 !== n && (this[e] = n)
              },
              this
            )
          }
        r.inherit(THREE.RawShaderMaterial, {
          onPropertyChange: function(t, e) {
            Object.defineProperty(this, t, {
              get: function() {
                return this['_' + t]
              },
              set: function(n) {
                (this['_' + t] = n), e.call(this, n)
              }
            })
          },
          clone: function(t) {
            var e = t || new Material()
            return (
              THREE.RawShaderMaterial.prototype.clone.call(this, e),
              (e.shading = this.shading),
              (e.wireframe = this.wireframe),
              (e.wireframeLinewidth = this.wireframeLinewidth),
              (e.fog = this.fog),
              (e.lights = this.lights),
              (e.vertexColors = this.vertexColors),
              (e.skinning = this.skinning),
              (e.morphTargets = this.morphTargets),
              (e.morphNormals = this.morphNormals),
              e
            )
          }
        }),
        (e.exports = r)
      },
      {}
    ],
    28: [
      function(t, e, n) {
        function i(t) {
          return Object.prototype.toString.call(t) === '[object Object]'
        }
        function r(t) {
          return Object.prototype.toString.call(t) === '[object Arguments]'
        }
        function o(t) {
          return Object.keys(t).map(function(e) {
            return t[e]
          })
        }
        e.exports = function(t, e) {
          return (
            t || (t = []),
            r(t) && (t = [].splice.call(t, 0)),
            i(t) && e && (t = o(t)),
            Array.isArray(t) ? t : [t]
          )
        }
      },
      {}
    ],
    29: [
      function(t, e, n) {
        (function(t, i) {
          !(function(t) {
            if (typeof n === 'object' && typeof e !== 'undefined') { e.exports = t()}
            else if (typeof define === 'function' && define.amd) define([], t)
            else {
              var r
              'undefined' !== typeof window
                ? (r = window)
                : typeof i !== 'undefined'
                  ? (r = i)
                  : typeof self !== 'undefined' && (r = self),
              (r.Promise = t())
            }
          })(function() {
            var e, n, r
            return (function o(t, e, n) {
              function i(a, s) {
                if (!e[a]) {
                  if (!t[a]) {
                    var c = typeof _dereq_ === 'function' && _dereq_
                    if (!s && c) return c(a, !0)
                    if (r) return r(a, !0)
                    var u = new Error("Cannot find module '" + a + "'")
                    throw ((u.code = 'MODULE_NOT_FOUND'), u)
                  }
                  var l = (e[a] = { exports: {}})
                  t[a][0].call(
                    l.exports,
                    function(e) {
                      var n = t[a][1][e]
                      return i(n || e)
                    },
                    l,
                    l.exports,
                    o,
                    t,
                    e,
                    n
                  )
                }
                return e[a].exports
              }
              for (
                var r = typeof _dereq_ === 'function' && _dereq_, a = 0;
                a < n.length;
                a++
              ) { i(n[a])}
              return i
            })(
              {
                1: [
                  function(t, e, n) {
                    'use strict'
                    e.exports = function(t) {
                      function e(t) {
                        var e = new n(t),
                          i = e.promise()
                        return e.setHowMany(1), e.setUnwrap(), e.init(), i
                      }
                      var n = t._SomePromiseArray;
                      (t.any = function(t) {
                        return e(t)
                      }),
                      (t.prototype.any = function() {
                        return e(this)
                      })
                    }
                  },
                  {}
                ],
                2: [
                  function(e, n, i) {
                    'use strict'
                    function r() {
                      (this._customScheduler = !1),
                      (this._isTickUsed = !1),
                      (this._lateQueue = new h(16)),
                      (this._normalQueue = new h(16)),
                      (this._haveDrainedQueues = !1),
                      (this._trampolineEnabled = !0)
                      var t = this;
                      (this.drainQueues = function() {
                        t._drainQueues()
                      }),
                      (this._schedule = l)
                    }
                    function o(t, e, n) {
                      this._lateQueue.push(t, e, n), this._queueTick()
                    }
                    function a(t, e, n) {
                      this._normalQueue.push(t, e, n), this._queueTick()
                    }
                    function s(t) {
                      this._normalQueue._pushOne(t), this._queueTick()
                    }
                    var c
                    try {
                      throw new Error()
                    } catch (u) {
                      c = u
                    }
                    var l = e('./schedule'),
                      h = e('./queue'),
                      f = e('./util');
                    (r.prototype.setScheduler = function(t) {
                      var e = this._schedule
                      return (
                        (this._schedule = t), (this._customScheduler = !0), e
                      )
                    }),
                    (r.prototype.hasCustomScheduler = function() {
                      return this._customScheduler
                    }),
                    (r.prototype.enableTrampoline = function() {
                      this._trampolineEnabled = !0
                    }),
                    (r.prototype.disableTrampolineIfNecessary = function() {
                      f.hasDevTools && (this._trampolineEnabled = !1)
                    }),
                    (r.prototype.haveItemsQueued = function() {
                      return this._isTickUsed || this._haveDrainedQueues
                    }),
                    (r.prototype.fatalError = function(e, n) {
                      n
                        ? (t.stderr.write(
                          'Fatal ' +
                                (e instanceof Error ? e.stack : e) +
                                '\n'
                        ),
                          t.exit(2))
                        : this.throwLater(e)
                    }),
                    (r.prototype.throwLater = function(t, e) {
                      if (
                        (arguments.length === 1 &&
                            ((e = t),
                              (t = function() {
                                throw e
                              })),
                          typeof setTimeout !== 'undefined')
                      )
                        {setTimeout(function() {
                          t(e)
                          }, 0)}
                      else
                        {try {
                          this._schedule(function() {
                            t(e)
                            });
                        } catch (n) {
                          throw new Error(
                            "No async scheduler available\n\n    See http://goo.gl/MqrFmX\n"
                          );
                        }}
                    }),
                    f.hasDevTools
                      ? ((r.prototype.invokeLater = function(t, e, n) {
                        this._trampolineEnabled
                          ? o.call(this, t, e, n)
                          : this._schedule(function() {
                            setTimeout(function() {
                              t.call(e, n)
                            }, 100)
                          })
                      }),
                        (r.prototype.invoke = function(t, e, n) {
                          this._trampolineEnabled
                            ? a.call(this, t, e, n)
                            : this._schedule(function() {
                              t.call(e, n)
                            })
                        }),
                        (r.prototype.settlePromises = function(t) {
                          this._trampolineEnabled
                            ? s.call(this, t)
                            : this._schedule(function() {
                              t._settlePromises()
                            })
                        }))
                      : ((r.prototype.invokeLater = o),
                        (r.prototype.invoke = a),
                        (r.prototype.settlePromises = s)),
                    (r.prototype.invokeFirst = function(t, e, n) {
                      this._normalQueue.unshift(t, e, n), this._queueTick()
                    }),
                    (r.prototype._drainQueue = function(t) {
                      for (; t.length() > 0;) {
                        var e = t.shift()
                        if (typeof e === 'function') {
                          var n = t.shift(),
                            i = t.shift()
                          e.call(n, i)
                        } else e._settlePromises()
                      }
                    }),
                    (r.prototype._drainQueues = function() {
                      this._drainQueue(this._normalQueue),
                      this._reset(),
                      (this._haveDrainedQueues = !0),
                      this._drainQueue(this._lateQueue)
                    }),
                    (r.prototype._queueTick = function() {
                      this._isTickUsed ||
                          ((this._isTickUsed = !0),
                            this._schedule(this.drainQueues))
                    }),
                    (r.prototype._reset = function() {
                      this._isTickUsed = !1
                    }),
                    (n.exports = r),
                    (n.exports.firstLineError = c)
                  },
                  { './queue': 26, './schedule': 29, './util': 36 }
                ],
                3: [
                  function(t, e, n) {
                    'use strict'
                    e.exports = function(t, e, n, i) {
                      var r = !1,
                        o = function(t, e) {
                          this._reject(e)
                        },
                        a = function(t, e) {
                          (e.promiseRejectionQueued = !0),
                          e.bindingPromise._then(o, o, null, this, t)
                        },
                        s = function(t, e) {
                          (50397184 & this._bitField) === 0 &&
                            this._resolveCallback(e.target)
                        },
                        c = function(t, e) {
                          e.promiseRejectionQueued || this._reject(t)
                        };
                      (t.prototype.bind = function(o) {
                        r ||
                          ((r = !0),
                            (t.prototype._propagateFrom = i.propagateFromFunction()),
                            (t.prototype._boundValue = i.boundValueFunction()))
                        var u = n(o),
                          l = new t(e)
                        l._propagateFrom(this, 1)
                        var h = this._target()
                        if ((l._setBoundTo(u), u instanceof t)) {
                          var f = {
                            promiseRejectionQueued: !1,
                            promise: l,
                            target: h,
                            bindingPromise: u
                          }
                          h._then(e, a, void 0, l, f),
                          u._then(s, c, void 0, l, f),
                          l._setOnCancel(u)
                        } else l._resolveCallback(h)
                        return l
                      }),
                      (t.prototype._setBoundTo = function(t) {
                        void 0 !== t
                          ? ((this._bitField = 2097152 | this._bitField),
                            (this._boundTo = t))
                          : (this._bitField = -2097153 & this._bitField)
                      }),
                      (t.prototype._isBound = function() {
                        return (2097152 & this._bitField) === 2097152
                      }),
                      (t.bind = function(e, n) {
                        return t.resolve(n).bind(e)
                      })
                    }
                  },
                  {}
                ],
                4: [
                  function(t, e, n) {
                    'use strict'
                    function i() {
                      try {
                        Promise === o && (Promise = r)
                      } catch (t) {}
                      return o
                    }
                    var r
                    'undefined' !== typeof Promise && (r = Promise)
                    var o = t('./promise')();
                    (o.noConflict = i), (e.exports = o)
                  },
                  { './promise': 22 }
                ],
                5: [
                  function(t, e, n) {
                    'use strict'
                    var i = Object.create
                    if (i) {
                      var r = i(null),
                        o = i(null)
                      r[' size'] = o[' size'] = 0
                    }
                    e.exports = function(e) {
                      function n(t, n) {
                        var i
                        if ((t != null && (i = t[n]), typeof i !== 'function')) {
                          var r =
                            'Object ' +
                            s.classString(t) +
                            " has no method '" +
                            s.toString(n) +
                            "'"
                          throw new e.TypeError(r)
                        }
                        return i
                      }
                      function i(t) {
                        var e = this.pop(),
                          i = n(t, e)
                        return i.apply(t, this)
                      }
                      function r(t) {
                        return t[this]
                      }
                      function o(t) {
                        var e = +this
                        return e < 0 && (e = Math.max(0, e + t.length)), t[e]
                      }
                      var a,
                        s = t('./util'),
                        c = s.canEvaluate
                      s.isIdentifier;
                      (e.prototype.call = function(t) {
                        var e = [].slice.call(arguments, 1)
                        return (
                          e.push(t), this._then(i, void 0, void 0, e, void 0)
                        )
                      }),
                      (e.prototype.get = function(t) {
                        var e,
                          n = typeof t === 'number'
                        if (n) e = o
                        else if (c) {
                          var i = a(t)
                          e = i !== null ? i : r
                        } else e = r
                        return this._then(e, void 0, void 0, t, void 0)
                      })
                    }
                  },
                  { './util': 36 }
                ],
                6: [
                  function(t, e, n) {
                    'use strict'
                    e.exports = function(e, n, i, r) {
                      var o = t('./util'),
                        a = o.tryCatch,
                        s = o.errorObj,
                        c = e._async;
                      (e.prototype['break'] = e.prototype.cancel = function() {
                        if (!r.cancellation()) { return this._warn('cancellation is disabled'); }
                        for (var t = this, e = t; t.isCancellable();) {
                          if (!t._cancelBy(e)) {
                            e._isFollowing()
                              ? e._followee().cancel()
                              : e._cancelBranched()
                            break
                          }
                          var n = t._cancellationParent
                          if (n == null || !n.isCancellable()) {
                            t._isFollowing()
                              ? t._followee().cancel()
                              : t._cancelBranched()
                            break
                          }
                          t._isFollowing() && t._followee().cancel(),
                          (e = t),
                          (t = n)
                        }
                      }),
                      (e.prototype._branchHasCancelled = function() {
                        this._branchesRemainingToCancel--
                      }),
                      (e.prototype._enoughBranchesHaveCancelled = function() {
                        return (
                          void 0 === this._branchesRemainingToCancel ||
                            this._branchesRemainingToCancel <= 0
                        )
                      }),
                      (e.prototype._cancelBy = function(t) {
                        return t === this
                          ? ((this._branchesRemainingToCancel = 0),
                            this._invokeOnCancel(),
                            !0)
                          : (this._branchHasCancelled(),
                            this._enoughBranchesHaveCancelled()
                              ? (this._invokeOnCancel(), !0)
                              : !1)
                      }),
                      (e.prototype._cancelBranched = function() {
                        this._enoughBranchesHaveCancelled() && this._cancel()
                      }),
                      (e.prototype._cancel = function() {
                        this.isCancellable() &&
                            (this._setCancelled(),
                              c.invoke(this._cancelPromises, this, void 0))
                      }),
                      (e.prototype._cancelPromises = function() {
                        this._length() > 0 && this._settlePromises()
                      }),
                      (e.prototype._unsetOnCancel = function() {
                        this._onCancelField = void 0
                      }),
                      (e.prototype.isCancellable = function() {
                        return this.isPending() && !this.isCancelled()
                      }),
                      (e.prototype._doInvokeOnCancel = function(t, e) {
                        if (o.isArray(t))
                          {for (var n = 0; n < t.length; ++n)
                            this._doInvokeOnCancel(t[n], e)}
                        else if (void 0 !== t)
                          {if ('function' === typeof t) {
                            if (!e) {
                              var i = a(t).call(this._boundValue())
                                i === s &&
                                  (this._attachExtraTrace(i.e),
                                    c.throwLater(i.e))
                              }
                          } else t._resultCancelled(this)}
                      }),
                      (e.prototype._invokeOnCancel = function() {
                        var t = this._onCancel()
                        this._unsetOnCancel(),
                        c.invoke(this._doInvokeOnCancel, this, t)
                      }),
                      (e.prototype._invokeInternalOnCancel = function() {
                        this.isCancellable() &&
                            (this._doInvokeOnCancel(this._onCancel(), !0),
                              this._unsetOnCancel())
                      }),
                      (e.prototype._resultCancelled = function() {
                        this.cancel()
                      })
                    }
                  },
                  { './util': 36 }
                ],
                7: [
                  function(t, e, n) {
                    'use strict'
                    e.exports = function(e) {
                      function n(t, n, s) {
                        return function(c) {
                          var u = s._boundValue()
                          t: for (var l = 0; l < t.length; ++l) {
                            var h = t[l]
                            if (
                              h === Error ||
                              (h != null && h.prototype instanceof Error)
                            ) {
                              if (c instanceof h) return o(n).call(u, c)
                            } else if (typeof h === 'function') {
                              var f = o(h).call(u, c)
                              if (f === a) return f
                              if (f) return o(n).call(u, c)
                            } else if (i.isObject(c)) {
                              for (var p = r(h), d = 0; d < p.length; ++d) {
                                var m = p[d]
                                if (h[m] != c[m]) continue t
                              }
                              return o(n).call(u, c)
                            }
                          }
                          return e
                        }
                      }
                      var i = t('./util'),
                        r = t('./es5').keys,
                        o = i.tryCatch,
                        a = i.errorObj
                      return n
                    }
                  },
                  { './es5': 13, './util': 36 }
                ],
                8: [
                  function(t, e, n) {
                    'use strict'
                    e.exports = function(t) {
                      function e() {
                        this._trace = new e.CapturedTrace(i())
                      }
                      function n() {
                        return r ? new e() : void 0
                      }
                      function i() {
                        var t = o.length - 1
                        return t >= 0 ? o[t] : void 0
                      }
                      var r = !1,
                        o = []
                      return (
                        (t.prototype._promiseCreated = function() {}),
                        (t.prototype._pushContext = function() {}),
                        (t.prototype._popContext = function() {
                          return null
                        }),
                        (t._peekContext = t.prototype._peekContext = function() {}),
                        (e.prototype._pushContext = function() {
                          void 0 !== this._trace &&
                            ((this._trace._promiseCreated = null),
                              o.push(this._trace))
                        }),
                        (e.prototype._popContext = function() {
                          if (void 0 !== this._trace) {
                            var t = o.pop(),
                              e = t._promiseCreated
                            return (t._promiseCreated = null), e
                          }
                          return null
                        }),
                        (e.CapturedTrace = null),
                        (e.create = n),
                        (e.deactivateLongStackTraces = function() {}),
                        (e.activateLongStackTraces = function() {
                          var n = t.prototype._pushContext,
                            o = t.prototype._popContext,
                            a = t._peekContext,
                            s = t.prototype._peekContext,
                            c = t.prototype._promiseCreated;
                          (e.deactivateLongStackTraces = function() {
                            (t.prototype._pushContext = n),
                            (t.prototype._popContext = o),
                            (t._peekContext = a),
                            (t.prototype._peekContext = s),
                            (t.prototype._promiseCreated = c),
                            (r = !1)
                          }),
                          (r = !0),
                          (t.prototype._pushContext =
                              e.prototype._pushContext),
                          (t.prototype._popContext = e.prototype._popContext),
                          (t._peekContext = t.prototype._peekContext = i),
                          (t.prototype._promiseCreated = function() {
                            var t = this._peekContext()
                            t &&
                                t._promiseCreated == null &&
                                (t._promiseCreated = this)
                          })
                        }),
                        e
                      )
                    }
                  },
                  {}
                ],
                9: [
                  function(e, n, i) {
                    'use strict'
                    n.exports = function(n, i) {
                      function r(t, e) {
                        return { promise: e }
                      }
                      function o() {
                        return !1
                      }
                      function a(t, e, n) {
                        var i = this
                        try {
                          t(e, n, function(t) {
                            if (typeof t !== 'function') { throw new TypeError(
                              "onCancel must be a function, got: " +
                                  N.toString(t)
                            ); }
                            i._attachCancellationCallback(t)
                          })
                        } catch (r) {
                          return r
                        }
                      }
                      function s(t) {
                        if (!this.isCancellable()) return this
                        var e = this._onCancel()
                        void 0 !== e
                          ? N.isArray(e)
                            ? e.push(t)
                            : this._setOnCancel([e, t])
                          : this._setOnCancel(t)
                      }
                      function c() {
                        return this._onCancelField
                      }
                      function u(t) {
                        this._onCancelField = t
                      }
                      function l() {
                        (this._cancellationParent = void 0),
                        (this._onCancelField = void 0)
                      }
                      function h(t, e) {
                        if ((1 & e) !== 0) {
                          this._cancellationParent = t
                          var n = t._branchesRemainingToCancel
                          void 0 === n && (n = 0),
                          (t._branchesRemainingToCancel = n + 1)
                        }
                        (2 & e) !== 0 &&
                          t._isBound() &&
                          this._setBoundTo(t._boundTo)
                      }
                      function f(t, e) {
                        (2 & e) !== 0 &&
                          t._isBound() &&
                          this._setBoundTo(t._boundTo)
                      }
                      function p() {
                        var t = this._boundTo
                        return void 0 !== t && t instanceof n
                          ? t.isFulfilled()
                            ? t.value()
                            : void 0
                          : t
                      }
                      function d() {
                        this._trace = new k(this._peekContext())
                      }
                      function m(t, e) {
                        if (U(t)) {
                          var n = this._trace
                          if (
                            (void 0 !== n && e && (n = n._parent), void 0 !== n)
                          ) { n.attachExtraTrace(t)}
                          else if (!t.__stackCleaned__) {
                            var i = T(t)
                            N.notEnumerableProp(
                              t,
                              'stack',
                              i.message + '\n' + i.stack.join('\n')
                            ),
                            N.notEnumerableProp(t, '__stackCleaned__', !0)
                          }
                        }
                      }
                      function v(t, e, n, i, r) {
                        if (void 0 === t && e !== null && q) {
                          if (void 0 !== r && r._returnedNonUndefined()) return
                          if ((65535 & i._bitField) === 0) return
                          n && (n += ' ')
                          var o =
                            'a promise was created in a ' +
                            n +
                            'handler but was not returned from it'
                          i._warn(o, !0, e)
                        }
                      }
                      function g(t, e) {
                        var n =
                          t +
                          ' is deprecated and will be removed in a future version.'
                        return e && (n += ' Use ' + e + ' instead.'), y(n)
                      }
                      function y(t, e, i) {
                        if (rt.warnings) {
                          var r,
                            o = new I(t)
                          if (e) i._attachExtraTrace(o)
                          else if (rt.longStackTraces && (r = n._peekContext())) { r.attachExtraTrace(o)}
                          else {
                            var a = T(o)
                            o.stack = a.message + '\n' + a.stack.join('\n')
                          }
                          J('warning', o) || R(o, '', !0)
                        }
                      }
                      function _(t, e) {
                        for (var n = 0; n < e.length - 1; ++n) { e[n].push('From previous event:'),
                          (e[n] = e[n].join('\n'))}
                        return (
                          n < e.length && (e[n] = e[n].join('\n')),
                          t + '\n' + e.join('\n')
                        )
                      }
                      function E(t) {
                        for (var e = 0; e < t.length; ++e) {
(t[e].length === 0 ||
                            (e + 1 < t.length && t[e][0] === t[e + 1][0])) &&
                            (t.splice(e, 1), e--)}
                      }
                      function b(t) {
                        for (var e = t[0], n = 1; n < t.length; ++n) {
                          for (
                            var i = t[n],
                              r = e.length - 1,
                              o = e[r],
                              a = -1,
                              s = i.length - 1;
                            s >= 0;
                            --s
                          ) { if (i[s] === o) {
                            a = s
                              break;
                          }
}
                          for (var s = a; s >= 0; --s) {
                            var c = i[s]
                            if (e[r] !== c) break
                            e.pop(), r--
                          }
                          e = i
                        }
                      }
                      function w(t) {
                        for (var e = [], n = 0; n < t.length; ++n) {
                          var i = t[n],
                            r = i === '    (No stack trace)' || B.test(i),
                            o = r && et(i)
                          r &&
                            !o &&
                            (G && i.charAt(0) !== ' ' && (i = '    ' + i),
                              e.push(i))
                        }
                        return e
                      }
                      function x(t) {
                        for (
                          var e = t.stack.replace(/\s+$/g, '').split('\n'),
                            n = 0;
                          n < e.length;
                          ++n
                        ) {
                          var i = e[n]
                          if (i === '    (No stack trace)' || B.test(i)) break
                        }
                        return n > 0 && (e = e.slice(n)), e
                      }
                      function T(t) {
                        var e = t.stack,
                          n = t.toString()
                        return (
                          (e =
                            typeof e === 'string' && e.length > 0
                              ? x(t)
                              : ['    (No stack trace)']),
                          { message: n, stack: w(e) }
                        )
                      }
                      function R(t, e, n) {
                        if (typeof console !== 'undefined') {
                          var i
                          if (N.isObject(t)) {
                            var r = t.stack
                            i = e + z(r, t)
                          } else i = e + String(t)
                          'function' === typeof H
                            ? H(i, n)
                            : (typeof console.log !== 'function' &&
                                typeof console.log !== 'object') ||
                              console.log(i)
                        }
                      }
                      function M(t, e, n, i) {
                        var r = !1
                        try {
                          typeof e === 'function' &&
                            ((r = !0),
                              'rejectionHandled' === t ? e(i) : e(n, i))
                        } catch (o) {
                          D.throwLater(o)
                        }
                        t === 'unhandledRejection'
                          ? J(t, n, i) || r || R(n, 'Unhandled rejection ')
                          : J(t, i)
                      }
                      function S(t) {
                        var e
                        if (typeof t === 'function') { e = '[function ' + (t.name || 'anonymous') + ']'; } else {
                          e =
                            t && typeof t.toString === 'function'
                              ? t.toString()
                              : N.toString(t)
                          var n = /\[object [a-zA-Z0-9$_]+\]/
                          if (n.test(e)) {
try {
                            var i = JSON.stringify(t)
                              e = i
                            } catch (r) {} }
                          e.length === 0 && (e = '(empty array)')
                        }
                        return '(<' + P(e) + '>, no stack trace)'
                      }
                      function P(t) {
                        var e = 41
                        return t.length < e ? t : t.substr(0, e - 3) + '...'
                      }
                      function O() {
                        return typeof it === 'function'
                      }
                      function C(t) {
                        var e = t.match(nt)
                        return e
                          ? { fileName: e[1], line: parseInt(e[2], 10) }
                          : void 0
                      }
                      function A(t, e) {
                        if (O()) {
                          for (
                            var n,
                              i,
                              r = t.stack.split('\n'),
                              o = e.stack.split('\n'),
                              a = -1,
                              s = -1,
                              c = 0;
                            c < r.length;
                            ++c
                          ) {
                            var u = C(r[c])
                            if (u) {
                              (n = u.fileName), (a = u.line)
                              break
                            }
                          }
                          for (var c = 0; c < o.length; ++c) {
                            var u = C(o[c])
                            if (u) {
                              (i = u.fileName), (s = u.line)
                              break
                            }
                          }
                          a < 0 ||
                            s < 0 ||
                            !n ||
                            !i ||
                            n !== i ||
                            a >= s ||
                            (et = function(t) {
                              if (V.test(t)) return !0
                              var e = C(t)
                              return !!(
                                e &&
                                e.fileName === n &&
                                a <= e.line &&
                                e.line <= s
                              )
                            })
                        }
                      }
                      function k(t) {
                        (this._parent = t), (this._promisesCreated = 0)
                        var e = (this._length =
                          1 + (void 0 === t ? 0 : t._length))
                        it(this, k), e > 32 && this.uncycle()
                      }
                      var j,
                        F,
                        H,
                        L = n._getDomain,
                        D = n._async,
                        I = e('./errors').Warning,
                        N = e('./util'),
                        U = N.canAttachTrace,
                        V = /[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,
                        B = null,
                        z = null,
                        G = !1,
                        W = !(N.env('BLUEBIRD_DEBUG') == 0),
                        Q = !(
                          N.env('BLUEBIRD_WARNINGS') == 0 ||
                          (!W && !N.env('BLUEBIRD_WARNINGS'))
                        ),
                        $ = !(
                          N.env('BLUEBIRD_LONG_STACK_TRACES') == 0 ||
                          (!W && !N.env('BLUEBIRD_LONG_STACK_TRACES'))
                        ),
                        q =
                          N.env('BLUEBIRD_W_FORGOTTEN_RETURN') != 0 &&
                          (Q || !!N.env('BLUEBIRD_W_FORGOTTEN_RETURN'));
                      (n.prototype.suppressUnhandledRejections = function() {
                        var t = this._target()
                        t._bitField = (-1048577 & t._bitField) | 524288
                      }),
                      (n.prototype._ensurePossibleRejectionHandled = function() {
                        (524288 & this._bitField) === 0 &&
                            (this._setRejectionIsUnhandled(),
                              D.invokeLater(
                                this._notifyUnhandledRejection,
                                this,
                                void 0
                              ))
                      }),
                      (n.prototype._notifyUnhandledRejectionIsHandled = function() {
                        M('rejectionHandled', j, void 0, this)
                      }),
                      (n.prototype._setReturnedNonUndefined = function() {
                        this._bitField = 268435456 | this._bitField
                      }),
                      (n.prototype._returnedNonUndefined = function() {
                        return (268435456 & this._bitField) !== 0
                      }),
                      (n.prototype._notifyUnhandledRejection = function() {
                        if (this._isRejectionUnhandled()) {
                          var t = this._settledValue()
                          this._setUnhandledRejectionIsNotified(),
                          M('unhandledRejection', F, t, this)
                        }
                      }),
                      (n.prototype._setUnhandledRejectionIsNotified = function() {
                        this._bitField = 262144 | this._bitField
                      }),
                      (n.prototype._unsetUnhandledRejectionIsNotified = function() {
                        this._bitField = -262145 & this._bitField
                      }),
                      (n.prototype._isUnhandledRejectionNotified = function() {
                        return (262144 & this._bitField) > 0
                      }),
                      (n.prototype._setRejectionIsUnhandled = function() {
                        this._bitField = 1048576 | this._bitField
                      }),
                      (n.prototype._unsetRejectionIsUnhandled = function() {
                        (this._bitField = -1048577 & this._bitField),
                        this._isUnhandledRejectionNotified() &&
                              (this._unsetUnhandledRejectionIsNotified(),
                                this._notifyUnhandledRejectionIsHandled())
                      }),
                      (n.prototype._isRejectionUnhandled = function() {
                        return (1048576 & this._bitField) > 0
                      }),
                      (n.prototype._warn = function(t, e, n) {
                        return y(t, e, n || this)
                      }),
                      (n.onPossiblyUnhandledRejection = function(t) {
                        var e = L()
                        F =
                            typeof t === 'function'
                              ? e === null
                                ? t
                                : e.bind(t)
                              : void 0
                      }),
                      (n.onUnhandledRejectionHandled = function(t) {
                        var e = L()
                        j =
                            typeof t === 'function'
                              ? e === null
                                ? t
                                : e.bind(t)
                              : void 0
                      })
                      var Y = function() {};
                      (n.longStackTraces = function() {
                        if (D.haveItemsQueued() && !rt.longStackTraces) { throw new Error(
                          "cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n"
                        );
}
                        if (!rt.longStackTraces && O()) {
                          var t = n.prototype._captureStackTrace,
                            e = n.prototype._attachExtraTrace;
                          (rt.longStackTraces = !0),
                          (Y = function() {
                            if (D.haveItemsQueued() && !rt.longStackTraces)
                              {throw new Error(
                                "cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n"
                              );}
                            (n.prototype._captureStackTrace = t),
                            (n.prototype._attachExtraTrace = e),
                            i.deactivateLongStackTraces(),
                            D.enableTrampoline(),
                            (rt.longStackTraces = !1)
                          }),
                          (n.prototype._captureStackTrace = d),
                          (n.prototype._attachExtraTrace = m),
                          i.activateLongStackTraces(),
                          D.disableTrampolineIfNecessary()
                        }
                      }),
                      (n.hasLongStackTraces = function() {
                        return rt.longStackTraces && O()
                      })
                      var X = (function() {
                          try {
                            var t = document.createEvent('CustomEvent')
                            return (
                              t.initCustomEvent('testingtheevent', !1, !0, {}),
                              N.global.dispatchEvent(t),
                              function(t, e) {
                                var n = document.createEvent('CustomEvent')
                                return (
                                  n.initCustomEvent(t.toLowerCase(), !1, !0, e),
                                  !N.global.dispatchEvent(n)
                                )
                              }
                            )
                          } catch (e) {}
                          return function() {
                            return !1
                          }
                        })(),
                        Z = (function() {
                          return N.isNode
                            ? function() {
                              return t.emit.apply(t, arguments)
                            }
                            : N.global
                              ? function(t) {
                                var e = 'on' + t.toLowerCase(),
                                  n = N.global[e]
                                return n
                                  ? (n.apply(
                                    N.global,
                                    [].slice.call(arguments, 1)
                                  ),
                                    !0)
                                  : !1
                              }
                              : function() {
                                return !1
                              };
                        })(),
                        K = {
                          promiseCreated: r,
                          promiseFulfilled: r,
                          promiseRejected: r,
                          promiseResolved: r,
                          promiseCancelled: r,
                          promiseChained: function(t, e, n) {
                            return { promise: e, child: n }
                          },
                          warning: function(t, e) {
                            return { warning: e }
                          },
                          unhandledRejection: function(t, e, n) {
                            return { reason: e, promise: n }
                          },
                          rejectionHandled: r
                        },
                        J = function(t) {
                          var e = !1
                          try {
                            e = Z.apply(null, arguments)
                          } catch (n) {
                            D.throwLater(n), (e = !0)
                          }
                          var i = !1
                          try {
                            i = X(t, K[t].apply(null, arguments))
                          } catch (n) {
                            D.throwLater(n), (i = !0)
                          }
                          return i || e
                        };
                      (n.config = function(t) {
                        if (
                          ((t = Object(t)),
                            'longStackTraces' in t &&
                            (t.longStackTraces
                              ? n.longStackTraces()
                              : !t.longStackTraces &&
                                n.hasLongStackTraces() &&
                                Y()),
                            'warnings' in t)
                        ) {
                          var e = t.warnings;
                          (rt.warnings = !!e),
                          (q = rt.warnings),
                          N.isObject(e) &&
                              'wForgottenReturn' in e &&
                              (q = !!e.wForgottenReturn)
                        }
                        if (
                          'cancellation' in t &&
                          t.cancellation &&
                          !rt.cancellation
                        ) {
                          if (D.haveItemsQueued()) {
throw new Error(
                            "cannot enable cancellation after promises are in use"
                          ); }
                          (n.prototype._clearCancellationData = l),
                          (n.prototype._propagateFrom = h),
                          (n.prototype._onCancel = c),
                          (n.prototype._setOnCancel = u),
                          (n.prototype._attachCancellationCallback = s),
                          (n.prototype._execute = a),
                          (tt = h),
                          (rt.cancellation = !0)
                        }
                        'monitoring' in t &&
                          (t.monitoring && !rt.monitoring
                            ? ((rt.monitoring = !0),
                              (n.prototype._fireEvent = J))
                            : !t.monitoring &&
                              rt.monitoring &&
                              ((rt.monitoring = !1),
                                (n.prototype._fireEvent = o)))
                      }),
                      (n.prototype._fireEvent = o),
                      (n.prototype._execute = function(t, e, n) {
                        try {
                          t(e, n)
                        } catch (i) {
                          return i
                        }
                      }),
                      (n.prototype._onCancel = function() {}),
                      (n.prototype._setOnCancel = function(t) {}),
                      (n.prototype._attachCancellationCallback = function(
                        t
                      ) {}),
                      (n.prototype._captureStackTrace = function() {}),
                      (n.prototype._attachExtraTrace = function() {}),
                      (n.prototype._clearCancellationData = function() {}),
                      (n.prototype._propagateFrom = function(t, e) {})
                      var tt = f,
                        et = function() {
                          return !1
                        },
                        nt = /[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/
                      N.inherits(k, Error),
                      (i.CapturedTrace = k),
                      (k.prototype.uncycle = function() {
                        var t = this._length
                        if (!(t < 2)) {
                          for (
                            var e = [], n = {}, i = 0, r = this;
                            void 0 !== r;
                            ++i
                          )
                            {e.push(r), (r = r._parent)}
                          t = this._length = i
                          for (var i = t - 1; i >= 0; --i) {
                            var o = e[i].stack
                            void 0 === n[o] && (n[o] = i)
                          }
                          for (var i = 0; t > i; ++i) {
                            var a = e[i].stack,
                              s = n[a]
                            if (void 0 !== s && s !== i) {
                              s > 0 &&
                                  ((e[s - 1]._parent = void 0),
                                    (e[s - 1]._length = 1)),
                              (e[i]._parent = void 0),
                              (e[i]._length = 1)
                              var c = i > 0 ? e[i - 1] : this
                              t - 1 > s
                                ? ((c._parent = e[s + 1]),
                                  c._parent.uncycle(),
                                  (c._length = c._parent._length + 1))
                                : ((c._parent = void 0), (c._length = 1))
                              for (
                                var u = c._length + 1, l = i - 2;
                                l >= 0;
                                --l
                              )
                                {(e[l]._length = u), u++}
                              return;
                            }
                          }
                        }
                      }),
                      (k.prototype.attachExtraTrace = function(t) {
                        if (!t.__stackCleaned__) {
                          this.uncycle()
                          for (
                            var e = T(t),
                              n = e.message,
                              i = [e.stack],
                              r = this;
                            void 0 !== r;

                          )
                            {i.push(w(r.stack.split('\n'))), (r = r._parent)}
                          b(i),
                          E(i),
                          N.notEnumerableProp(t, 'stack', _(n, i)),
                          N.notEnumerableProp(t, '__stackCleaned__', !0)
                        }
                      })
                      var it = (function() {
                        var t = /^\s*at\s*/,
                          e = function(t, e) {
                            return typeof t === 'string'
                              ? t
                              : void 0 !== e.name && void 0 !== e.message
                                ? e.toString()
                                : S(e)
                          }
                        if (
                          typeof Error.stackTraceLimit === 'number' &&
                          typeof Error.captureStackTrace === 'function'
                        ) {
                          (Error.stackTraceLimit += 6), (B = t), (z = e)
                          var n = Error.captureStackTrace
                          return (
                            (et = function(t) {
                              return V.test(t)
                            }),
                            function(t, e) {
                              (Error.stackTraceLimit += 6),
                              n(t, e),
                              (Error.stackTraceLimit -= 6)
                            }
                          )
                        }
                        var i = new Error()
                        if (
                          typeof i.stack === 'string' &&
                          i.stack.split('\n')[0].indexOf('stackDetection@') >= 0
                        ) {
return (
                          (B = /@/),
                          (z = e),
                          (G = !0),
                          function(t) {
                            t.stack = new Error().stack
                            }
                        );
}
                        var r
                        try {
                          throw new Error()
                        } catch (o) {
                          r = 'stack' in o
                        }
                        return 'stack' in i ||
                          !r ||
                          typeof Error.stackTraceLimit !== 'number'
                          ? ((z = function(t, e) {
                            return typeof t === 'string'
                              ? t
                              : (typeof e !== 'object' &&
                                    typeof e !== 'function') ||
                                  void 0 === e.name ||
                                  void 0 === e.message
                                ? S(e)
                                : e.toString()
                          }),
                            null)
                          : ((B = t),
                            (z = e),
                            function(t) {
                              Error.stackTraceLimit += 6
                              try {
                                throw new Error()
                              } catch (e) {
                                t.stack = e.stack
                              }
                              Error.stackTraceLimit -= 6
                            })
                      })([])
                      'undefined' !== typeof console &&
                        typeof console.warn !== 'undefined' &&
                        ((H = function(t) {
                          console.warn(t)
                        }),
                          N.isNode && t.stderr.isTTY
                            ? (H = function(t, e) {
                              var n = e ? '[33m' : '[31m'
                              console.warn(n + t + '[0m\n')
                            })
                            : N.isNode ||
                            typeof new Error().stack !== 'string' ||
                            (H = function(t, e) {
                              console.warn(
                                '%c' + t,
                                e ? 'color: darkorange' : 'color: red'
                              )
                            }))
                      var rt = {
                        warnings: Q,
                        longStackTraces: !1,
                        cancellation: !1,
                        monitoring: !1
                      }
                      return (
                        $ && n.longStackTraces(),
                        {
                          longStackTraces: function() {
                            return rt.longStackTraces
                          },
                          warnings: function() {
                            return rt.warnings
                          },
                          cancellation: function() {
                            return rt.cancellation
                          },
                          monitoring: function() {
                            return rt.monitoring
                          },
                          propagateFromFunction: function() {
                            return tt
                          },
                          boundValueFunction: function() {
                            return p
                          },
                          checkForgottenReturns: v,
                          setBounds: A,
                          warn: y,
                          deprecated: g,
                          CapturedTrace: k,
                          fireDomEvent: X,
                          fireGlobalEvent: Z
                        }
                      )
                    }
                  },
                  { './errors': 12, './util': 36 }
                ],
                10: [
                  function(t, e, n) {
                    'use strict'
                    e.exports = function(t) {
                      function e() {
                        return this.value
                      }
                      function n() {
                        throw this.reason
                      }
                      (t.prototype[
                        'return'
                      ] = t.prototype.thenReturn = function(n) {
                        return (
                          n instanceof t && n.suppressUnhandledRejections(),
                          this._then(e, void 0, void 0, { value: n }, void 0)
                        )
                      }),
                      (t.prototype[
                        'throw'
                      ] = t.prototype.thenThrow = function(t) {
                        return this._then(
                          n,
                          void 0,
                          void 0,
                          { reason: t },
                          void 0
                        )
                      }),
                      (t.prototype.catchThrow = function(t) {
                        if (arguments.length <= 1)
                          {return this._then(
                            void 0,
                            n,
                            void 0,
                            { reason: t },
                            void 0
                          );}
                        var e = arguments[1],
                          i = function() {
                            throw e
                          };
                        return this.caught(t, i)
                      }),
                      (t.prototype.catchReturn = function(n) {
                        if (arguments.length <= 1)
                          {return (
                            n instanceof t && n.suppressUnhandledRejections(),
                            this._then(
                              void 0,
                              e,
                              void 0,
                              { value: n },
                              void 0
                            )
                          );}
                        var i = arguments[1]
                        i instanceof t && i.suppressUnhandledRejections()
                        var r = function() {
                          return i
                        };
                        return this.caught(n, r)
                      })
                    }
                  },
                  {}
                ],
                11: [
                  function(t, e, n) {
                    'use strict'
                    e.exports = function(t, e) {
                      function n() {
                        return o(this)
                      }
                      function i(t, n) {
                        return r(t, n, e, e)
                      }
                      var r = t.reduce,
                        o = t.all;
                      (t.prototype.each = function(t) {
                        return this.mapSeries(t)._then(
                          n,
                          void 0,
                          void 0,
                          this,
                          void 0
                        )
                      }),
                      (t.prototype.mapSeries = function(t) {
                        return r(this, t, e, e)
                      }),
                      (t.each = function(t, e) {
                        return i(t, e)._then(n, void 0, void 0, t, void 0)
                      }),
                      (t.mapSeries = i)
                    }
                  },
                  {}
                ],
                12: [
                  function(t, e, n) {
                    'use strict'
                    function i(t, e) {
                      function n(i) {
                        return this instanceof n
                          ? (h(this, 'message', typeof i === 'string' ? i : e),
                            h(this, 'name', t),
                            void (Error.captureStackTrace
                              ? Error.captureStackTrace(this, this.constructor)
                              : Error.call(this)))
                          : new n(i)
                      }
                      return l(n, Error), n
                    }
                    function r(t) {
                      return this instanceof r
                        ? (h(this, 'name', 'OperationalError'),
                          h(this, 'message', t),
                          (this.cause = t),
                          (this.isOperational = !0),
                          void (t instanceof Error
                            ? (h(this, 'message', t.message),
                              h(this, 'stack', t.stack))
                            : Error.captureStackTrace &&
                              Error.captureStackTrace(this, this.constructor)))
                        : new r(t)
                    }
                    var o,
                      a,
                      s = t('./es5'),
                      c = s.freeze,
                      u = t('./util'),
                      l = u.inherits,
                      h = u.notEnumerableProp,
                      f = i('Warning', 'warning'),
                      p = i('CancellationError', 'cancellation error'),
                      d = i('TimeoutError', 'timeout error'),
                      m = i('AggregateError', 'aggregate error')
                    try {
                      (o = TypeError), (a = RangeError)
                    } catch (v) {
                      (o = i('TypeError', 'type error')),
                      (a = i('RangeError', 'range error'))
                    }
                    for (
                      var g = 'join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse'.split(
                          ' '
                        ),
                        y = 0;
                      y < g.length;
                      ++y
                    )
                      typeof Array.prototype[g[y]] === 'function' &&
                        (m.prototype[g[y]] = Array.prototype[g[y]])
                    s.defineProperty(m.prototype, 'length', {
                      value: 0,
                      configurable: !1,
                      writable: !0,
                      enumerable: !0
                    }),
                    (m.prototype.isOperational = !0)
                    var _ = 0;
                    (m.prototype.toString = function() {
                      var t = Array(4 * _ + 1).join(' '),
                        e = '\n' + t + 'AggregateError of:\n'
                      _++, (t = Array(4 * _ + 1).join(' '))
                      for (var n = 0; n < this.length; ++n) {
                        for (
                          var i =
                              this[n] === this
                                ? '[Circular AggregateError]'
                                : this[n] + '',
                            r = i.split('\n'),
                            o = 0;
                          o < r.length;
                          ++o
                        ) { r[o] = t + r[o]}
                        (i = r.join('\n')), (e += i + '\n')
                      }
                      return _--, e
                    }),
                    l(r, Error)
                    var E = Error.__BluebirdErrorTypes__
                    E ||
                      ((E = c({
                        CancellationError: p,
                        TimeoutError: d,
                        OperationalError: r,
                        RejectionError: r,
                        AggregateError: m
                      })),
                        s.defineProperty(Error, '__BluebirdErrorTypes__', {
                          value: E,
                          writable: !1,
                          enumerable: !1,
                          configurable: !1
                        })),
                    (e.exports = {
                      Error: Error,
                      TypeError: o,
                      RangeError: a,
                      CancellationError: E.CancellationError,
                      OperationalError: E.OperationalError,
                      TimeoutError: E.TimeoutError,
                      AggregateError: E.AggregateError,
                      Warning: f
                    })
                  },
                  { './es5': 13, './util': 36 }
                ],
                13: [
                  function(t, e, n) {
                    var i = (function() {
                      'use strict'
                      return void 0 === this
                    })()
                    if (i) { e.exports = {
                      freeze: Object.freeze,
                      defineProperty: Object.defineProperty,
                      getDescriptor: Object.getOwnPropertyDescriptor,
                      keys: Object.keys,
                      names: Object.getOwnPropertyNames,
                      getPrototypeOf: Object.getPrototypeOf,
                      isArray: Array.isArray,
                      isES5: i,
                      propertyIsWritable: function(t, e) {
                        var n = Object.getOwnPropertyDescriptor(t, e)
                          return !(n && !n.writable && !n.set)
                        }
                    };
} else {
                      var r = {}.hasOwnProperty,
                        o = {}.toString,
                        a = {}.constructor.prototype,
                        s = function(t) {
                          var e = []
                          for (var n in t) r.call(t, n) && e.push(n)
                          return e
                        },
                        c = function(t, e) {
                          return { value: t[e] }
                        },
                        u = function(t, e, n) {
                          return (t[e] = n.value), t
                        },
                        l = function(t) {
                          return t
                        },
                        h = function(t) {
                          try {
                            return Object(t).constructor.prototype
                          } catch (e) {
                            return a
                          }
                        },
                        f = function(t) {
                          try {
                            return o.call(t) === '[object Array]'
                          } catch (e) {
                            return !1
                          }
                        }
                      e.exports = {
                        isArray: f,
                        keys: s,
                        names: s,
                        defineProperty: u,
                        getDescriptor: c,
                        freeze: l,
                        getPrototypeOf: h,
                        isES5: i,
                        propertyIsWritable: function() {
                          return !0
                        }
                      }
                    }
                  },
                  {}
                ],
                14: [
                  function(t, e, n) {
                    'use strict'
                    e.exports = function(t, e) {
                      var n = t.map;
                      (t.prototype.filter = function(t, i) {
                        return n(this, t, i, e)
                      }),
                      (t.filter = function(t, i, r) {
                        return n(t, i, r, e)
                      })
                    }
                  },
                  {}
                ],
                15: [
                  function(t, e, n) {
                    'use strict'
                    e.exports = function(e, n) {
                      function i(t, e, n) {
                        (this.promise = t),
                        (this.type = e),
                        (this.handler = n),
                        (this.called = !1),
                        (this.cancelPromise = null)
                      }
                      function r(t) {
                        this.finallyHandler = t
                      }
                      function o(t, e) {
                        return t.cancelPromise != null
                          ? (arguments.length > 1
                            ? t.cancelPromise._reject(e)
                            : t.cancelPromise._cancel(),
                            (t.cancelPromise = null),
                            !0)
                          : !1
                      }
                      function a() {
                        return c.call(
                          this,
                          this.promise._target()._settledValue()
                        )
                      }
                      function s(t) {
                        return o(this, t) ? void 0 : ((h.e = t), h)
                      }
                      function c(t) {
                        var i = this.promise,
                          c = this.handler
                        if (!this.called) {
                          this.called = !0
                          var u = this.isFinallyHandler()
                            ? c.call(i._boundValue())
                            : c.call(i._boundValue(), t)
                          if (void 0 !== u) {
                            i._setReturnedNonUndefined()
                            var f = n(u, i)
                            if (f instanceof e) {
                              if (this.cancelPromise != null) {
                                if (f.isCancelled()) {
                                  var p = new l('late cancellation observer')
                                  return i._attachExtraTrace(p), (h.e = p), h
                                }
                                f.isPending() &&
                                  f._attachCancellationCallback(new r(this))
                              }
                              return f._then(a, s, void 0, this, void 0)
                            }
                          }
                        }
                        return i.isRejected()
                          ? (o(this), (h.e = t), h)
                          : (o(this), t)
                      }
                      var u = t('./util'),
                        l = e.CancellationError,
                        h = u.errorObj
                      return (
                        (i.prototype.isFinallyHandler = function() {
                          return this.type === 0
                        }),
                        (r.prototype._resultCancelled = function() {
                          o(this.finallyHandler)
                        }),
                        (e.prototype._passThrough = function(t, e, n, r) {
                          return typeof t !== 'function'
                            ? this.then()
                            : this._then(
                              n,
                              r,
                              void 0,
                              new i(this, e, t),
                              void 0
                            )
                        }),
                        (e.prototype.lastly = e.prototype['finally'] = function(
                          t
                        ) {
                          return this._passThrough(t, 0, c, c)
                        }),
                        (e.prototype.tap = function(t) {
                          return this._passThrough(t, 1, c)
                        }),
                        i
                      )
                    }
                  },
                  { './util': 36 }
                ],
                16: [
                  function(t, e, n) {
                    'use strict'
                    e.exports = function(e, n, i, r, o, a) {
                      function s(t, n, i) {
                        for (var o = 0; o < n.length; ++o) {
                          i._pushContext()
                          var a = p(n[o])(t)
                          if ((i._popContext(), a === f)) {
                            i._pushContext()
                            var s = e.reject(f.e)
                            return i._popContext(), s
                          }
                          var c = r(a, i)
                          if (c instanceof e) return c
                        }
                        return null
                      }
                      function c(t, n, r, o) {
                        if (a.cancellation()) {
                          var s = new e(i),
                            c = (this._finallyPromise = new e(i));
                          (this._promise = s.lastly(function() {
                            return c
                          })),
                          s._captureStackTrace(),
                          s._setOnCancel(this)
                        } else {
                          var u = (this._promise = new e(i))
                          u._captureStackTrace()
                        }
                        (this._stack = o),
                        (this._generatorFunction = t),
                        (this._receiver = n),
                        (this._generator = void 0),
                        (this._yieldHandlers =
                            typeof r === 'function' ? [r].concat(d) : d),
                        (this._yieldedPromise = null),
                        (this._cancellationPhase = !1)
                      }
                      var u = t('./errors'),
                        l = u.TypeError,
                        h = t('./util'),
                        f = h.errorObj,
                        p = h.tryCatch,
                        d = []
                      h.inherits(c, o),
                      (c.prototype._isResolved = function() {
                        return this._promise === null
                      }),
                      (c.prototype._cleanup = function() {
                        (this._promise = this._generator = null),
                        a.cancellation() &&
                              this._finallyPromise !== null &&
                              (this._finallyPromise._fulfill(),
                                (this._finallyPromise = null))
                      }),
                      (c.prototype._promiseCancelled = function() {
                        if (!this._isResolved()) {
                          var t,
                            n =
                                typeof this._generator['return'] !== 'undefined';
                          if (n)
                            {this._promise._pushContext(),
                            (t = p(this._generator['return']).call(
                              this._generator,
                              void 0
                            )),
                            this._promise._popContext()}
                          else {
                            var i = new e.CancellationError(
                              'generator .return() sentinel'
                            );
                            (e.coroutine.returnSentinel = i),
                            this._promise._attachExtraTrace(i),
                            this._promise._pushContext(),
                            (t = p(this._generator['throw']).call(
                              this._generator,
                              i
                            )),
                            this._promise._popContext()
                          }
                          (this._cancellationPhase = !0),
                          (this._yieldedPromise = null),
                          this._continue(t)
                        }
                      }),
                      (c.prototype._promiseFulfilled = function(t) {
                        (this._yieldedPromise = null),
                        this._promise._pushContext()
                        var e = p(this._generator.next).call(
                          this._generator,
                          t
                        )
                        this._promise._popContext(), this._continue(e)
                      }),
                      (c.prototype._promiseRejected = function(t) {
                        (this._yieldedPromise = null),
                        this._promise._attachExtraTrace(t),
                        this._promise._pushContext()
                        var e = p(this._generator['throw']).call(
                          this._generator,
                          t
                        )
                        this._promise._popContext(), this._continue(e)
                      }),
                      (c.prototype._resultCancelled = function() {
                        if (this._yieldedPromise instanceof e) {
                          var t = this._yieldedPromise;
                          (this._yieldedPromise = null), t.cancel()
                        }
                      }),
                      (c.prototype.promise = function() {
                        return this._promise
                      }),
                      (c.prototype._run = function() {
                        (this._generator = this._generatorFunction.call(
                          this._receiver
                        )),
                        (this._receiver = this._generatorFunction = void 0),
                        this._promiseFulfilled(void 0)
                      }),
                      (c.prototype._continue = function(t) {
                        var n = this._promise
                        if (t === f)
                          {return (
                            this._cleanup(),
                            this._cancellationPhase
                              ? n.cancel()
                              : n._rejectCallback(t.e, !1)
                          );}
                        var i = t.value
                        if (t.done === !0)
                          {return (
                            this._cleanup(),
                            this._cancellationPhase
                              ? n.cancel()
                              : n._resolveCallback(i)
                          );}
                        var o = r(i, this._promise)
                        if (
                          !(o instanceof e) &&
                            ((o = s(o, this._yieldHandlers, this._promise)),
                              o === null)
                        )
                          {return void this._promiseRejected(
                            new l(
                              "A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace(
                                "%s",
                                i
                              ) +
                                  'From coroutine:\n' +
                                  this._stack
                                    .split('\n')
                                    .slice(1, -7)
                                    .join('\n')
                            )
                          );}
                        o = o._target()
                        var a = o._bitField
                        0 === (50397184 & a)
                          ? ((this._yieldedPromise = o), o._proxy(this, null))
                          : (33554432 & a) !== 0
                            ? this._promiseFulfilled(o._value())
                            : (16777216 & a) !== 0
                              ? this._promiseRejected(o._reason())
                              : this._promiseCancelled()
                      }),
                      (e.coroutine = function(t, e) {
                        if (typeof t !== 'function')
                          {throw new l(
                            "generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n"
                          );}
                        var n = Object(e).yieldHandler,
                          i = c,
                          r = new Error().stack
                        return function() {
                          var e = t.apply(this, arguments),
                            o = new i(void 0, void 0, n, r),
                            a = o.promise()
                          return (
                            (o._generator = e), o._promiseFulfilled(void 0), a
                          )
                        };
                      }),
                      (e.coroutine.addYieldHandler = function(t) {
                        if (typeof t !== 'function')
                          {throw new l(
                            "expecting a function but got " + h.classString(t)
                          );}
                        d.push(t)
                      }),
                      (e.spawn = function(t) {
                        if (
                          (a.deprecated(
                            'Promise.spawn()',
                            'Promise.coroutine()'
                          ),
                            typeof t !== 'function')
                        )
                          {return n(
                            "generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n"
                          );}
                        var i = new c(t, this),
                          r = i.promise()
                        return i._run(e.spawn), r
                      })
                    }
                  },
                  { './errors': 12, './util': 36 }
                ],
                17: [
                  function(t, e, n) {
                    'use strict'
                    e.exports = function(e, n, i, r) {
                      var o = t('./util')
                      o.canEvaluate, o.tryCatch, o.errorObj
                      e.join = function() {
                        var t,
                          e = arguments.length - 1
                        if (e > 0 && typeof arguments[e] === 'function') {
                          t = arguments[e]
                          var i
                        }
                        var r = [].slice.call(arguments)
                        t && r.pop()
                        var i = new n(r).promise()
                        return void 0 !== t ? i.spread(t) : i
                      }
                    }
                  },
                  { './util': 36 }
                ],
                18: [
                  function(t, e, n) {
                    'use strict'
                    e.exports = function(e, n, i, r, o, a) {
                      function s(t, e, n, i) {
                        this.constructor$(t),
                        this._promise._captureStackTrace()
                        var r = u();
                        (this._callback = r === null ? e : r.bind(e)),
                        (this._preservedValues =
                            i === o ? new Array(this.length()) : null),
                        (this._limit = n),
                        (this._inFlight = 0),
                        (this._queue = n >= 1 ? [] : p),
                        this._init$(void 0, -2)
                      }
                      function c(t, n, r, o) {
                        if (typeof n !== 'function') { return i(
                          "expecting a function but got " + l.classString(n)
                        );
}
                        var a = 0
                        if (void 0 !== r) {
                          if (typeof r !== 'object' || r === null) { return e.reject(
                            new TypeError(
                              "options argument must be an object but it is " +
                                  l.classString(r)
                            )
                          );
}
                          if (typeof r.concurrency !== 'number') {
return e.reject(
                            new TypeError(
                              "'concurrency' must be a number but it is " +
                                  l.classString(r.concurrency)
                            )
                          );
}
                          a = r.concurrency
                        }
                        return (
                          (a =
                            typeof a === 'number' && isFinite(a) && a >= 1
                              ? a
                              : 0),
                          new s(t, n, a, o).promise()
                        )
                      }
                      var u = e._getDomain,
                        l = t('./util'),
                        h = l.tryCatch,
                        f = l.errorObj,
                        p = []
                      l.inherits(s, n),
                      (s.prototype._init = function() {}),
                      (s.prototype._promiseFulfilled = function(t, n) {
                        var i = this._values,
                          o = this.length(),
                          s = this._preservedValues,
                          c = this._limit
                        if (n < 0) {
                          if (
                            ((n = -1 * n - 1),
                              (i[n] = t),
                              c >= 1 &&
                                (this._inFlight--,
                                  this._drainQueue(),
                                  this._isResolved()))
                          )
                            {return !0}
                        } else {
                          if (c >= 1 && this._inFlight >= c)
                            {return (i[n] = t), this._queue.push(n), !1}
                          null !== s && (s[n] = t)
                          var u = this._promise,
                            l = this._callback,
                            p = u._boundValue()
                          u._pushContext()
                          var d = h(l).call(p, t, n, o),
                            m = u._popContext()
                          if (
                            (a.checkForgottenReturns(
                              d,
                              m,
                              s !== null ? 'Promise.filter' : 'Promise.map',
                              u
                            ),
                              d === f)
                          )
                            {return this._reject(d.e), !0}
                          var v = r(d, this._promise)
                          if (v instanceof e) {
                            v = v._target()
                            var g = v._bitField
                            if ((50397184 & g) === 0)
                              {return (
                                c >= 1 && this._inFlight++,
                                (i[n] = v),
                                v._proxy(this, -1 * (n + 1)),
                                !1
                              );}
                            if ((33554432 & g) === 0)
                              {return (16777216 & g) !== 0
                                ? (this._reject(v._reason()), !0)
                                : (this._cancel(), !0)}
                            d = v._value()
                          }
                          i[n] = d
                        }
                        var y = ++this._totalResolved
                        return y >= o
                          ? (s !== null
                            ? this._filter(i, s)
                            : this._resolve(i),
                            !0)
                          : !1
                      }),
                      (s.prototype._drainQueue = function() {
                        for (
                          var t = this._queue,
                            e = this._limit,
                            n = this._values;
                          t.length > 0 && this._inFlight < e;

                        ) {
                          if (this._isResolved()) return
                          var i = t.pop()
                          this._promiseFulfilled(n[i], i)
                        }
                      }),
                      (s.prototype._filter = function(t, e) {
                        for (
                          var n = e.length, i = new Array(n), r = 0, o = 0;
                          n > o;
                          ++o
                        )
                          {t[o] && (i[r++] = e[o]);}
                        (i.length = r), this._resolve(i)
                      }),
                      (s.prototype.preservedValues = function() {
                        return this._preservedValues
                      }),
                      (e.prototype.map = function(t, e) {
                        return c(this, t, e, null)
                      }),
                      (e.map = function(t, e, n, i) {
                        return c(t, e, n, i)
                      })
                    }
                  },
                  { './util': 36 }
                ],
                19: [
                  function(t, e, n) {
                    'use strict'
                    e.exports = function(e, n, i, r, o) {
                      var a = t('./util'),
                        s = a.tryCatch;
                      (e.method = function(t) {
                        if (typeof t !== 'function') {
throw new e.TypeError(
                          "expecting a function but got " + a.classString(t)
                        ); }
                        return function() {
                          var i = new e(n)
                          i._captureStackTrace(), i._pushContext()
                          var r = s(t).apply(this, arguments),
                            a = i._popContext()
                          return (
                            o.checkForgottenReturns(r, a, 'Promise.method', i),
                            i._resolveFromSyncValue(r),
                            i
                          )
                        }
                      }),
                      (e.attempt = e['try'] = function(t) {
                        if (typeof t !== 'function')
                          {return r(
                            "expecting a function but got " + a.classString(t)
                          );}
                        var i = new e(n)
                        i._captureStackTrace(), i._pushContext()
                        var c
                        if (arguments.length > 1) {
                          o.deprecated(
                            'calling Promise.try with more than 1 argument'
                          )
                          var u = arguments[1],
                            l = arguments[2]
                          c = a.isArray(u)
                            ? s(t).apply(l, u)
                            : s(t).call(l, u)
                        } else c = s(t)()
                        var h = i._popContext()
                        return (
                          o.checkForgottenReturns(c, h, 'Promise.try', i),
                          i._resolveFromSyncValue(c),
                          i
                        )
                      }),
                      (e.prototype._resolveFromSyncValue = function(t) {
                        t === a.errorObj
                          ? this._rejectCallback(t.e, !1)
                          : this._resolveCallback(t, !0)
                      })
                    }
                  },
                  { './util': 36 }
                ],
                20: [
                  function(t, e, n) {
                    'use strict'
                    function i(t) {
                      return (
                        t instanceof Error &&
                        l.getPrototypeOf(t) === Error.prototype
                      )
                    }
                    function r(t) {
                      var e
                      if (i(t)) {
                        (e = new u(t)),
                        (e.name = t.name),
                        (e.message = t.message),
                        (e.stack = t.stack)
                        for (var n = l.keys(t), r = 0; r < n.length; ++r) {
                          var o = n[r]
                          h.test(o) || (e[o] = t[o])
                        }
                        return e
                      }
                      return a.markAsOriginatingFromRejection(t), t
                    }
                    function o(t, e) {
                      return function(n, i) {
                        if (t !== null) {
                          if (n) {
                            var o = r(s(n))
                            t._attachExtraTrace(o), t._reject(o)
                          } else if (e) {
                            var a = [].slice.call(arguments, 1)
                            t._fulfill(a)
                          } else t._fulfill(i)
                          t = null
                        }
                      }
                    }
                    var a = t('./util'),
                      s = a.maybeWrapAsError,
                      c = t('./errors'),
                      u = c.OperationalError,
                      l = t('./es5'),
                      h = /^(?:name|message|stack|cause)$/
                    e.exports = o
                  },
                  { './errors': 12, './es5': 13, './util': 36 }
                ],
                21: [
                  function(t, e, n) {
                    'use strict'
                    e.exports = function(e) {
                      function n(t, e) {
                        var n = this
                        if (!o.isArray(t)) return i.call(n, t, e)
                        var r = s(e).apply(n._boundValue(), [null].concat(t))
                        r === c && a.throwLater(r.e)
                      }
                      function i(t, e) {
                        var n = this,
                          i = n._boundValue(),
                          r =
                            void 0 === t
                              ? s(e).call(i, null)
                              : s(e).call(i, null, t)
                        r === c && a.throwLater(r.e)
                      }
                      function r(t, e) {
                        var n = this
                        if (!t) {
                          var i = new Error(t + '');
                          (i.cause = t), (t = i)
                        }
                        var r = s(e).call(n._boundValue(), t)
                        r === c && a.throwLater(r.e)
                      }
                      var o = t('./util'),
                        a = e._async,
                        s = o.tryCatch,
                        c = o.errorObj
                      e.prototype.asCallback = e.prototype.nodeify = function(
                        t,
                        e
                      ) {
                        if (typeof t === 'function') {
                          var o = i
                          void 0 !== e && Object(e).spread && (o = n),
                          this._then(o, r, void 0, this, t)
                        }
                        return this
                      }
                    }
                  },
                  { './util': 36 }
                ],
                22: [
                  function(e, n, i) {
                    'use strict'
                    n.exports = function() {
                      function n() {}
                      function i(t, e) {
                        if (typeof e !== 'function') { throw new y(
                          "expecting a function but got " + p.classString(e)
                        ); }
                        if (t.constructor !== r) {
throw new y(
                          "the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n"
                        ); }
                      }
                      function r(t) {
                        (this._bitField = 0),
                        (this._fulfillmentHandler0 = void 0),
                        (this._rejectionHandler0 = void 0),
                        (this._promise0 = void 0),
                        (this._receiver0 = void 0),
                        t !== E && (i(this, t), this._resolveFromExecutor(t)),
                        this._promiseCreated(),
                        this._fireEvent('promiseCreated', this)
                      }
                      function o(t) {
                        this.promise._resolveCallback(t)
                      }
                      function a(t) {
                        this.promise._rejectCallback(t, !1)
                      }
                      function s(t) {
                        var e = new r(E);
                        (e._fulfillmentHandler0 = t),
                        (e._rejectionHandler0 = t),
                        (e._promise0 = t),
                        (e._receiver0 = t)
                      }
                      var c,
                        u = function() {
                          return new y(
                            'circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n'
                          )
                        },
                        l = function() {
                          return new r.PromiseInspection(this._target())
                        },
                        h = function(t) {
                          return r.reject(new y(t))
                        },
                        f = {},
                        p = e('./util');
                      (c = p.isNode
                        ? function() {
                          var e = t.domain
                          return void 0 === e && (e = null), e
                        }
                        : function() {
                          return null
                        }),
                      p.notEnumerableProp(r, '_getDomain', c)
                      var d = e('./es5'),
                        m = e('./async'),
                        v = new m()
                      d.defineProperty(r, '_async', { value: v })
                      var g = e('./errors'),
                        y = (r.TypeError = g.TypeError)
                      r.RangeError = g.RangeError
                      var _ = (r.CancellationError = g.CancellationError);
                      (r.TimeoutError = g.TimeoutError),
                      (r.OperationalError = g.OperationalError),
                      (r.RejectionError = g.OperationalError),
                      (r.AggregateError = g.AggregateError)
                      var E = function() {},
                        b = {},
                        w = {},
                        x = e('./thenables')(r, E),
                        T = e('./promise_array')(r, E, x, h, n),
                        R = e('./context')(r),
                        M = R.create,
                        S = e('./debuggability')(r, R),
                        P = (S.CapturedTrace, e('./finally')(r, x)),
                        O = e('./catch_filter')(w),
                        C = e('./nodeback'),
                        A = p.errorObj,
                        k = p.tryCatch
                      return (
                        (r.prototype.toString = function() {
                          return '[object Promise]'
                        }),
                        (r.prototype.caught = r.prototype['catch'] = function(
                          t
                        ) {
                          var e = arguments.length
                          if (e > 1) {
                            var n,
                              i = new Array(e - 1),
                              r = 0
                            for (n = 0; e - 1 > n; ++n) {
                              var o = arguments[n]
                              if (!p.isObject(o)) { return h(
                                "expecting an object but got " +
                                    p.classString(o)
                              ); }
                              i[r++] = o
                            }
                            return (
                              (i.length = r),
                              (t = arguments[n]),
                              this.then(void 0, O(i, t, this))
                            )
                          }
                          return this.then(void 0, t)
                        }),
                        (r.prototype.reflect = function() {
                          return this._then(l, l, void 0, this, void 0)
                        }),
                        (r.prototype.then = function(t, e) {
                          if (
                            S.warnings() &&
                            arguments.length > 0 &&
                            typeof t !== 'function' &&
                            typeof e !== 'function'
                          ) {
                            var n =
                              '.then() only accepts functions but was passed: ' +
                              p.classString(t)
                            arguments.length > 1 &&
                              (n += ', ' + p.classString(e)),
                            this._warn(n)
                          }
                          return this._then(t, e, void 0, void 0, void 0)
                        }),
                        (r.prototype.done = function(t, e) {
                          var n = this._then(t, e, void 0, void 0, void 0)
                          n._setIsFinal()
                        }),
                        (r.prototype.spread = function(t) {
                          return typeof t !== 'function'
                            ? h(
                              'expecting a function but got ' +
                                  p.classString(t)
                            )
                            : this.all()._then(t, void 0, void 0, b, void 0)
                        }),
                        (r.prototype.toJSON = function() {
                          var t = {
                            isFulfilled: !1,
                            isRejected: !1,
                            fulfillmentValue: void 0,
                            rejectionReason: void 0
                          }
                          return (
                            this.isFulfilled()
                              ? ((t.fulfillmentValue = this.value()),
                                (t.isFulfilled = !0))
                              : this.isRejected() &&
                                ((t.rejectionReason = this.reason()),
                                  (t.isRejected = !0)),
                            t
                          )
                        }),
                        (r.prototype.all = function() {
                          return (
                            arguments.length > 0 &&
                              this._warn(
                                '.all() was passed arguments but it does not take any'
                              ),
                            new T(this).promise()
                          )
                        }),
                        (r.prototype.error = function(t) {
                          return this.caught(p.originatesFromRejection, t)
                        }),
                        (r.is = function(t) {
                          return t instanceof r
                        }),
                        (r.fromNode = r.fromCallback = function(t) {
                          var e = new r(E)
                          e._captureStackTrace()
                          var n =
                              arguments.length > 1
                                ? !!Object(arguments[1]).multiArgs
                                : !1,
                            i = k(t)(C(e, n))
                          return (
                            i === A && e._rejectCallback(i.e, !0),
                            e._isFateSealed() || e._setAsyncGuaranteed(),
                            e
                          )
                        }),
                        (r.all = function(t) {
                          return new T(t).promise()
                        }),
                        (r.cast = function(t) {
                          var e = x(t)
                          return (
                            e instanceof r ||
                              ((e = new r(E)),
                                e._captureStackTrace(),
                                e._setFulfilled(),
                                (e._rejectionHandler0 = t)),
                            e
                          )
                        }),
                        (r.resolve = r.fulfilled = r.cast),
                        (r.reject = r.rejected = function(t) {
                          var e = new r(E)
                          return (
                            e._captureStackTrace(), e._rejectCallback(t, !0), e
                          )
                        }),
                        (r.setScheduler = function(t) {
                          if (typeof t !== 'function') {
throw new y(
                            "expecting a function but got " + p.classString(t)
                          );
}
                          return v.setScheduler(t)
                        }),
                        (r.prototype._then = function(t, e, n, i, o) {
                          var a = void 0 !== o,
                            s = a ? o : new r(E),
                            u = this._target(),
                            l = u._bitField
                          a ||
                            (s._propagateFrom(this, 3),
                              s._captureStackTrace(),
                              void 0 === i &&
                              (2097152 & this._bitField) !== 0 &&
                              (i =
                                (50397184 & l) !== 0
                                  ? this._boundValue()
                                  : u === this
                                    ? void 0
                                    : this._boundTo),
                              this._fireEvent('promiseChained', this, s))
                          var h = c()
                          if ((50397184 & l) !== 0) {
                            var f,
                              p,
                              d = u._settlePromiseCtx
                            (33554432 & l) !== 0
                              ? ((p = u._rejectionHandler0), (f = t))
                              : (16777216 & l) !== 0
                                ? ((p = u._fulfillmentHandler0),
                                  (f = e),
                                  u._unsetRejectionIsUnhandled())
                                : ((d =
                                    u._settlePromiseLateCancellationObserver),
                                  (p = new _('late cancellation observer')),
                                  u._attachExtraTrace(p),
                                  (f = e)),
                            v.invoke(d, u, {
                              handler:
                                  h === null
                                    ? f
                                    : typeof f === 'function' && h.bind(f),
                              promise: s,
                              receiver: i,
                              value: p
                            })
                          } else u._addCallbacks(t, e, s, i, h)
                          return s
                        }),
                        (r.prototype._length = function() {
                          return 65535 & this._bitField
                        }),
                        (r.prototype._isFateSealed = function() {
                          return (117506048 & this._bitField) !== 0
                        }),
                        (r.prototype._isFollowing = function() {
                          return (67108864 & this._bitField) === 67108864
                        }),
                        (r.prototype._setLength = function(t) {
                          this._bitField =
                            (-65536 & this._bitField) | (65535 & t)
                        }),
                        (r.prototype._setFulfilled = function() {
                          (this._bitField = 33554432 | this._bitField),
                          this._fireEvent('promiseFulfilled', this)
                        }),
                        (r.prototype._setRejected = function() {
                          (this._bitField = 16777216 | this._bitField),
                          this._fireEvent('promiseRejected', this)
                        }),
                        (r.prototype._setFollowing = function() {
                          (this._bitField = 67108864 | this._bitField),
                          this._fireEvent('promiseResolved', this)
                        }),
                        (r.prototype._setIsFinal = function() {
                          this._bitField = 4194304 | this._bitField
                        }),
                        (r.prototype._isFinal = function() {
                          return (4194304 & this._bitField) > 0
                        }),
                        (r.prototype._unsetCancelled = function() {
                          this._bitField = -65537 & this._bitField
                        }),
                        (r.prototype._setCancelled = function() {
                          (this._bitField = 65536 | this._bitField),
                          this._fireEvent('promiseCancelled', this)
                        }),
                        (r.prototype._setAsyncGuaranteed = function() {
                          v.hasCustomScheduler() ||
                            (this._bitField = 134217728 | this._bitField)
                        }),
                        (r.prototype._receiverAt = function(t) {
                          var e =
                            t === 0 ? this._receiver0 : this[4 * t - 4 + 3]
                          if (e !== f) { return void 0 === e && this._isBound()
                            ? this._boundValue()
                            : e}
                        }),
                        (r.prototype._promiseAt = function(t) {
                          return this[4 * t - 4 + 2]
                        }),
                        (r.prototype._fulfillmentHandlerAt = function(t) {
                          return this[4 * t - 4 + 0]
                        }),
                        (r.prototype._rejectionHandlerAt = function(t) {
                          return this[4 * t - 4 + 1]
                        }),
                        (r.prototype._boundValue = function() {}),
                        (r.prototype._migrateCallback0 = function(t) {
                          var e = (t._bitField, t._fulfillmentHandler0),
                            n = t._rejectionHandler0,
                            i = t._promise0,
                            r = t._receiverAt(0)
                          void 0 === r && (r = f),
                          this._addCallbacks(e, n, i, r, null)
                        }),
                        (r.prototype._migrateCallbackAt = function(t, e) {
                          var n = t._fulfillmentHandlerAt(e),
                            i = t._rejectionHandlerAt(e),
                            r = t._promiseAt(e),
                            o = t._receiverAt(e)
                          void 0 === o && (o = f),
                          this._addCallbacks(n, i, r, o, null)
                        }),
                        (r.prototype._addCallbacks = function(t, e, n, i, r) {
                          var o = this._length()
                          if (
                            (o >= 65531 && ((o = 0), this._setLength(0)),
                              o === 0)
                          ) {
(this._promise0 = n),
                            (this._receiver0 = i),
                            "function" === typeof t &&
                                (this._fulfillmentHandler0 =
                                  r === null ? t : r.bind(t)),
                            "function" === typeof e &&
                                (this._rejectionHandler0 =
                                  r === null ? e : r.bind(e))}
                          else {
                            var a = 4 * o - 4;
                            (this[a + 2] = n),
                            (this[a + 3] = i),
                            'function' === typeof t &&
                                (this[a + 0] = r === null ? t : r.bind(t)),
                            'function' === typeof e &&
                                (this[a + 1] = r === null ? e : r.bind(e))
                          }
                          return this._setLength(o + 1), o
                        }),
                        (r.prototype._proxy = function(t, e) {
                          this._addCallbacks(void 0, void 0, e, t, null)
                        }),
                        (r.prototype._resolveCallback = function(t, e) {
                          if ((117506048 & this._bitField) === 0) {
                            if (t === this) { return this._rejectCallback(u(), !1)}
                            var n = x(t, this)
                            if (!(n instanceof r)) return this._fulfill(t)
                            e && this._propagateFrom(n, 2)
                            var i = n._target()
                            if (i === this) return void this._reject(u())
                            var o = i._bitField
                            if ((50397184 & o) === 0) {
                              var a = this._length()
                              a > 0 && i._migrateCallback0(this)
                              for (var s = 1; a > s; ++s) { i._migrateCallbackAt(this, s)}
                              this._setFollowing(),
                              this._setLength(0),
                              this._setFollowee(i)
                            } else if ((33554432 & o) !== 0) { this._fulfill(i._value())}
                            else if ((16777216 & o) !== 0) { this._reject(i._reason())}
                            else {
                              var c = new _('late cancellation observer')
                              i._attachExtraTrace(c), this._reject(c)
                            }
                          }
                        }),
                        (r.prototype._rejectCallback = function(t, e, n) {
                          var i = p.ensureErrorObject(t),
                            r = i === t
                          if (!r && !n && S.warnings()) {
                            var o =
                              'a promise was rejected with a non-error: ' +
                              p.classString(t)
                            this._warn(o, !0)
                          }
                          this._attachExtraTrace(i, e ? r : !1),
                          this._reject(t)
                        }),
                        (r.prototype._resolveFromExecutor = function(t) {
                          var e = this
                          this._captureStackTrace(), this._pushContext()
                          var n = !0,
                            i = this._execute(
                              t,
                              function(t) {
                                e._resolveCallback(t)
                              },
                              function(t) {
                                e._rejectCallback(t, n)
                              }
                            );
                          (n = !1),
                          this._popContext(),
                          void 0 !== i && e._rejectCallback(i, !0)
                        }),
                        (r.prototype._settlePromiseFromHandler = function(
                          t,
                          e,
                          n,
                          i
                        ) {
                          var r = i._bitField
                          if ((65536 & r) === 0) {
                            i._pushContext()
                            var o
                            e === b
                              ? n && typeof n.length === 'number'
                                ? (o = k(t).apply(this._boundValue(), n))
                                : ((o = A),
                                  (o.e = new y(
                                    'cannot .spread() a non-array: ' +
                                      p.classString(n)
                                  )))
                              : (o = k(t).call(e, n))
                            var a = i._popContext();
                            (r = i._bitField),
                            (65536 & r) === 0 &&
                                (o === w
                                  ? i._reject(n)
                                  : o === A
                                    ? i._rejectCallback(o.e, !1)
                                    : (S.checkForgottenReturns(
                                      o,
                                      a,
                                      '',
                                      i,
                                      this
                                    ),
                                      i._resolveCallback(o)))
                          }
                        }),
                        (r.prototype._target = function() {
                          for (var t = this; t._isFollowing();) { t = t._followee()}
                          return t
                        }),
                        (r.prototype._followee = function() {
                          return this._rejectionHandler0
                        }),
                        (r.prototype._setFollowee = function(t) {
                          this._rejectionHandler0 = t
                        }),
                        (r.prototype._settlePromise = function(t, e, i, o) {
                          var a = t instanceof r,
                            s = this._bitField,
                            c = (134217728 & s) !== 0;
                          (65536 & s) !== 0
                            ? (a && t._invokeInternalOnCancel(),
                              i instanceof P && i.isFinallyHandler()
                                ? ((i.cancelPromise = t),
                                  k(e).call(i, o) === A && t._reject(A.e))
                                : e === l
                                  ? t._fulfill(l.call(i))
                                  : i instanceof n
                                    ? i._promiseCancelled(t)
                                    : a || t instanceof T
                                      ? t._cancel()
                                      : i.cancel())
                            : typeof e === 'function'
                              ? a
                                ? (c && t._setAsyncGuaranteed(),
                                  this._settlePromiseFromHandler(e, i, o, t))
                                : e.call(i, o, t)
                              : i instanceof n
                                ? i._isResolved() ||
                                  ((33554432 & s) !== 0
                                    ? i._promiseFulfilled(o, t)
                                    : i._promiseRejected(o, t))
                                : a &&
                                  (c && t._setAsyncGuaranteed(),
                                    (33554432 & s) !== 0
                                      ? t._fulfill(o)
                                      : t._reject(o))
                        }),
                        (r.prototype._settlePromiseLateCancellationObserver = function(
                          t
                        ) {
                          var e = t.handler,
                            n = t.promise,
                            i = t.receiver,
                            o = t.value
                          'function' === typeof e
                            ? n instanceof r
                              ? this._settlePromiseFromHandler(e, i, o, n)
                              : e.call(i, o, n)
                            : n instanceof r && n._reject(o)
                        }),
                        (r.prototype._settlePromiseCtx = function(t) {
                          this._settlePromise(
                            t.promise,
                            t.handler,
                            t.receiver,
                            t.value
                          )
                        }),
                        (r.prototype._settlePromise0 = function(t, e, n) {
                          var i = this._promise0,
                            r = this._receiverAt(0);
                          (this._promise0 = void 0),
                          (this._receiver0 = void 0),
                          this._settlePromise(i, t, r, e)
                        }),
                        (r.prototype._clearCallbackDataAtIndex = function(t) {
                          var e = 4 * t - 4
                          this[e + 2] = this[e + 3] = this[e + 0] = this[
                            e + 1
                          ] = void 0
                        }),
                        (r.prototype._fulfill = function(t) {
                          var e = this._bitField
                          if (!((117506048 & e) >>> 16)) {
                            if (t === this) {
                              var n = u()
                              return this._attachExtraTrace(n), this._reject(n)
                            }
                            this._setFulfilled(),
                            (this._rejectionHandler0 = t),
                            (65535 & e) > 0 &&
                                ((134217728 & e) !== 0
                                  ? this._settlePromises()
                                  : v.settlePromises(this))
                          }
                        }),
                        (r.prototype._reject = function(t) {
                          var e = this._bitField
                          if (!((117506048 & e) >>> 16)) { return (
                            this._setRejected(),
                            (this._fulfillmentHandler0 = t),
                            this._isFinal()
                              ? v.fatalError(t, p.isNode)
                              : void ((65535 & e) > 0
                                ? v.settlePromises(this)
                                : this._ensurePossibleRejectionHandled())
                          ); }
                        }),
                        (r.prototype._fulfillPromises = function(t, e) {
                          for (var n = 1; t > n; n++) {
                            var i = this._fulfillmentHandlerAt(n),
                              r = this._promiseAt(n),
                              o = this._receiverAt(n)
                            this._clearCallbackDataAtIndex(n),
                            this._settlePromise(r, i, o, e)
                          }
                        }),
                        (r.prototype._rejectPromises = function(t, e) {
                          for (var n = 1; t > n; n++) {
                            var i = this._rejectionHandlerAt(n),
                              r = this._promiseAt(n),
                              o = this._receiverAt(n)
                            this._clearCallbackDataAtIndex(n),
                            this._settlePromise(r, i, o, e)
                          }
                        }),
                        (r.prototype._settlePromises = function() {
                          var t = this._bitField,
                            e = 65535 & t
                          if (e > 0) {
                            if ((16842752 & t) !== 0) {
                              var n = this._fulfillmentHandler0
                              this._settlePromise0(
                                this._rejectionHandler0,
                                n,
                                t
                              ),
                              this._rejectPromises(e, n)
                            } else {
                              var i = this._rejectionHandler0
                              this._settlePromise0(
                                this._fulfillmentHandler0,
                                i,
                                t
                              ),
                              this._fulfillPromises(e, i)
                            }
                            this._setLength(0)
                          }
                          this._clearCancellationData()
                        }),
                        (r.prototype._settledValue = function() {
                          var t = this._bitField
                          return (33554432 & t) !== 0
                            ? this._rejectionHandler0
                            : (16777216 & t) !== 0
                              ? this._fulfillmentHandler0
                              : void 0
                        }),
                        (r.defer = r.pending = function() {
                          S.deprecated('Promise.defer', 'new Promise')
                          var t = new r(E)
                          return { promise: t, resolve: o, reject: a }
                        }),
                        p.notEnumerableProp(r, '_makeSelfResolutionError', u),
                        e('./method')(r, E, x, h, S),
                        e('./bind')(r, E, x, S),
                        e('./cancel')(r, T, h, S),
                        e('./direct_resolve')(r),
                        e('./synchronous_inspection')(r),
                        e('./join')(r, T, x, E, S),
                        (r.Promise = r),
                        (r.version = '3.4.0'),
                        e('./map.js')(r, T, h, x, E, S),
                        e('./call_get.js')(r),
                        e('./using.js')(r, h, x, M, E, S),
                        e('./timers.js')(r, E, S),
                        e('./generators.js')(r, h, E, x, n, S),
                        e('./nodeify.js')(r),
                        e('./promisify.js')(r, E),
                        e('./props.js')(r, T, x, h),
                        e('./race.js')(r, E, x, h),
                        e('./reduce.js')(r, T, h, x, E, S),
                        e('./settle.js')(r, T, S),
                        e('./some.js')(r, T, h),
                        e('./filter.js')(r, E),
                        e('./each.js')(r, E),
                        e('./any.js')(r),
                        p.toFastProperties(r),
                        p.toFastProperties(r.prototype),
                        s({ a: 1 }),
                        s({ b: 2 }),
                        s({ c: 3 }),
                        s(1),
                        s(function() {}),
                        s(void 0),
                        s(!1),
                        s(new r(E)),
                        S.setBounds(m.firstLineError, p.lastLineError),
                        r
                      )
                    }
                  },
                  {
                    './any.js': 1,
                    './async': 2,
                    './bind': 3,
                    './call_get.js': 5,
                    './cancel': 6,
                    './catch_filter': 7,
                    './context': 8,
                    './debuggability': 9,
                    './direct_resolve': 10,
                    './each.js': 11,
                    './errors': 12,
                    './es5': 13,
                    './filter.js': 14,
                    './finally': 15,
                    './generators.js': 16,
                    './join': 17,
                    './map.js': 18,
                    './method': 19,
                    './nodeback': 20,
                    './nodeify.js': 21,
                    './promise_array': 23,
                    './promisify.js': 24,
                    './props.js': 25,
                    './race.js': 27,
                    './reduce.js': 28,
                    './settle.js': 30,
                    './some.js': 31,
                    './synchronous_inspection': 32,
                    './thenables': 33,
                    './timers.js': 34,
                    './using.js': 35,
                    './util': 36
                  }
                ],
                23: [
                  function(t, e, n) {
                    'use strict'
                    e.exports = function(e, n, i, r, o) {
                      function a(t) {
                        switch (t) {
                          case -2:
                            return []
                          case -3:
                            return {}
                        }
                      }
                      function s(t) {
                        var i = (this._promise = new e(n))
                        t instanceof e && i._propagateFrom(t, 3),
                        i._setOnCancel(this),
                        (this._values = t),
                        (this._length = 0),
                        (this._totalResolved = 0),
                        this._init(void 0, -2)
                      }
                      var c = t('./util')
                      c.isArray
                      return (
                        c.inherits(s, o),
                        (s.prototype.length = function() {
                          return this._length
                        }),
                        (s.prototype.promise = function() {
                          return this._promise
                        }),
                        (s.prototype._init = function u(t, n) {
                          var o = i(this._values, this._promise)
                          if (o instanceof e) {
                            o = o._target()
                            var s = o._bitField
                            if (((this._values = o), (50397184 & s) === 0)) {
return (
                              this._promise._setAsyncGuaranteed(),
                              o._then(u, this._reject, void 0, this, n)
                            );
}
                            if ((33554432 & s) === 0) { return (16777216 & s) !== 0
                              ? this._reject(o._reason())
                              : this._cancel()}
                            o = o._value()
                          }
                          if (((o = c.asArray(o)), o === null)) {
                            var l = r(
                              'expecting an array or an iterable object but got ' +
                                c.classString(o)
                            ).reason()
                            return void this._promise._rejectCallback(l, !1)
                          }
                          return o.length === 0
                            ? void (n === -5
                              ? this._resolveEmptyArray()
                              : this._resolve(a(n)))
                            : void this._iterate(o)
                        }),
                        (s.prototype._iterate = function(t) {
                          var n = this.getActualLength(t.length);
                          (this._length = n),
                          (this._values = this.shouldCopyValues()
                            ? new Array(n)
                            : this._values)
                          for (
                            var r = this._promise, o = !1, a = null, s = 0;
                            n > s;
                            ++s
                          ) {
                            var c = i(t[s], r)
                            c instanceof e
                              ? ((c = c._target()), (a = c._bitField))
                              : (a = null),
                            o
                              ? a !== null && c.suppressUnhandledRejections()
                              : a !== null
                                ? (50397184 & a) === 0
                                  ? (c._proxy(this, s), (this._values[s] = c))
                                  : (o =
                                        (33554432 & a) !== 0
                                          ? this._promiseFulfilled(
                                            c._value(),
                                            s
                                          )
                                          : (16777216 & a) !== 0
                                            ? this._promiseRejected(
                                              c._reason(),
                                              s
                                            )
                                            : this._promiseCancelled(s))
                                : (o = this._promiseFulfilled(c, s))
                          }
                          o || r._setAsyncGuaranteed()
                        }),
                        (s.prototype._isResolved = function() {
                          return this._values === null
                        }),
                        (s.prototype._resolve = function(t) {
                          (this._values = null), this._promise._fulfill(t)
                        }),
                        (s.prototype._cancel = function() {
                          !this._isResolved() &&
                            this._promise.isCancellable() &&
                            ((this._values = null), this._promise._cancel())
                        }),
                        (s.prototype._reject = function(t) {
                          (this._values = null),
                          this._promise._rejectCallback(t, !1)
                        }),
                        (s.prototype._promiseFulfilled = function(t, e) {
                          this._values[e] = t
                          var n = ++this._totalResolved
                          return n >= this._length
                            ? (this._resolve(this._values), !0)
                            : !1
                        }),
                        (s.prototype._promiseCancelled = function() {
                          return this._cancel(), !0
                        }),
                        (s.prototype._promiseRejected = function(t) {
                          return this._totalResolved++, this._reject(t), !0
                        }),
                        (s.prototype._resultCancelled = function() {
                          if (!this._isResolved()) {
                            var t = this._values
                            if ((this._cancel(), t instanceof e)) t.cancel()
                            else { for (var n = 0; n < t.length; ++n)
                              t[n] instanceof e && t[n].cancel()}
                          }
                        }),
                        (s.prototype.shouldCopyValues = function() {
                          return !0
                        }),
                        (s.prototype.getActualLength = function(t) {
                          return t
                        }),
                        s
                      )
                    }
                  },
                  { './util': 36 }
                ],
                24: [
                  function(t, e, n) {
                    'use strict'
                    e.exports = function(e, n) {
                      function i(t) {
                        return !w.test(t)
                      }
                      function r(t) {
                        try {
                          return t.__isPromisified__ === !0
                        } catch (e) {
                          return !1
                        }
                      }
                      function o(t, e, n) {
                        var i = p.getDataPropertyOrDefault(t, e + n, E)
                        return i ? r(i) : !1
                      }
                      function a(t, e, n) {
                        for (var i = 0; i < t.length; i += 2) {
                          var r = t[i]
                          if (n.test(r)) { for (
                            var o = r.replace(n, ''), a = 0;
                            a < t.length;
                            a += 2
                          )
                            if (t[a] === o)
                              throw new y(
                                "Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace(
                                  "%s",
                                  e
                                )
                              ); }
                        }
                      }
                      function s(t, e, n, i) {
                        for (
                          var s = p.inheritedDataKeys(t), c = [], u = 0;
                          u < s.length;
                          ++u
                        ) {
                          var l = s[u],
                            h = t[l],
                            f = i === x ? !0 : x(l, h, t)
                          'function' !== typeof h ||
                            r(h) ||
                            o(t, l, e) ||
                            !i(l, h, t, f) ||
                            c.push(l, h)
                        }
                        return a(c, e, n), c
                      }
                      function c(t, i, r, o, a, s) {
                        function c() {
                          var r = i
                          i === f && (r = this)
                          var o = new e(n)
                          o._captureStackTrace()
                          var a =
                              typeof l === 'string' && this !== u ? this[l] : t,
                            c = d(o, s)
                          try {
                            a.apply(r, m(arguments, c))
                          } catch (h) {
                            o._rejectCallback(v(h), !0, !0)
                          }
                          return (
                            o._isFateSealed() || o._setAsyncGuaranteed(), o
                          )
                        }
                        var u = (function() {
                            return this
                          })(),
                          l = t
                        return (
                          typeof l === 'string' && (t = o),
                          p.notEnumerableProp(c, '__isPromisified__', !0),
                          c
                        )
                      }
                      function u(t, e, n, i, r) {
                        for (
                          var o = new RegExp(T(e) + '$'),
                            a = s(t, e, o, n),
                            c = 0,
                            u = a.length;
                          u > c;
                          c += 2
                        ) {
                          var l = a[c],
                            h = a[c + 1],
                            d = l + e
                          if (i === R) t[d] = R(l, f, l, h, e, r)
                          else {
                            var m = i(h, function() {
                              return R(l, f, l, h, e, r)
                            })
                            p.notEnumerableProp(m, '__isPromisified__', !0),
                            (t[d] = m)
                          }
                        }
                        return p.toFastProperties(t), t
                      }
                      function l(t, e, n) {
                        return R(t, e, void 0, t, null, n)
                      }
                      var h,
                        f = {},
                        p = t('./util'),
                        d = t('./nodeback'),
                        m = p.withAppended,
                        v = p.maybeWrapAsError,
                        g = p.canEvaluate,
                        y = t('./errors').TypeError,
                        _ = 'Async',
                        E = { __isPromisified__: !0 },
                        b = [
                          'arity',
                          'length',
                          'name',
                          'arguments',
                          'caller',
                          'callee',
                          'prototype',
                          '__isPromisified__'
                        ],
                        w = new RegExp('^(?:' + b.join('|') + ')$'),
                        x = function(t) {
                          return (
                            p.isIdentifier(t) &&
                            t.charAt(0) !== '_' &&
                            t !== 'constructor'
                          )
                        },
                        T = function(t) {
                          return t.replace(/([$])/, '\\$')
                        },
                        R = g ? h : c;
                      (e.promisify = function(t, e) {
                        if (typeof t !== 'function') { throw new y(
                          "expecting a function but got " + p.classString(t)
                        );
}
                        if (r(t)) return t
                        e = Object(e)
                        var n = void 0 === e.context ? f : e.context,
                          o = !!e.multiArgs,
                          a = l(t, n, o)
                        return p.copyDescriptors(t, a, i), a
                      }),
                      (e.promisifyAll = function(t, e) {
                        if (typeof t !== 'function' && typeof t !== 'object')
                          {throw new y(
                            "the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n"
                          );}
                        e = Object(e)
                        var n = !!e.multiArgs,
                          i = e.suffix
                        "string" !== typeof i && (i = _)
                        var r = e.filter
                        "function" !== typeof r && (r = x)
                        var o = e.promisifier
                        if (
                          (typeof o !== 'function' && (o = R),
                            !p.isIdentifier(i))
                        )
                          {throw new RangeError(
                            "suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n"
                          );}
                        for (
                          var a = p.inheritedDataKeys(t), s = 0;
                          s < a.length;
                          ++s
                        ) {
                          var c = t[a[s]]
                          "constructor" !== a[s] &&
                              p.isClass(c) &&
                              (u(c.prototype, i, r, o, n), u(c, i, r, o, n))
                        }
                        return u(t, i, r, o, n)
                      })
                    }
                  },
                  { './errors': 12, './nodeback': 20, './util': 36 }
                ],
                25: [
                  function(t, e, n) {
                    'use strict'
                    e.exports = function(e, n, i, r) {
                      function o(t) {
                        var e,
                          n = !1
                        if (void 0 !== s && t instanceof s) { (e = h(t)), (n = !0)}
                        else {
                          var i = l.keys(t),
                            r = i.length
                          e = new Array(2 * r)
                          for (var o = 0; r > o; ++o) {
                            var a = i[o];
                            (e[o] = t[a]), (e[o + r] = a)
                          }
                        }
                        this.constructor$(e),
                        (this._isMap = n),
                        this._init$(void 0, -3)
                      }
                      function a(t) {
                        var n,
                          a = i(t)
                        return u(a)
                          ? ((n =
                              a instanceof e
                                ? a._then(
                                  e.props,
                                  void 0,
                                  void 0,
                                  void 0,
                                  void 0
                                )
                                : new o(a).promise()),
                            a instanceof e && n._propagateFrom(a, 2),
                            n)
                          : r(
                            'cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n'
                          )
                      }
                      var s,
                        c = t('./util'),
                        u = c.isObject,
                        l = t('./es5')
                      'function' === typeof Map && (s = Map)
                      var h = (function() {
                          function t(t, i) {
                            (this[e] = t), (this[e + n] = i), e++
                          }
                          var e = 0,
                            n = 0
                          return function(i) {
                            (n = i.size), (e = 0)
                            var r = new Array(2 * i.size)
                            return i.forEach(t, r), r
                          }
                        })(),
                        f = function(t) {
                          for (
                            var e = new s(), n = (t.length / 2) | 0, i = 0;
                            n > i;
                            ++i
                          ) {
                            var r = t[n + i],
                              o = t[i]
                            e.set(r, o)
                          }
                          return e
                        }
                      c.inherits(o, n),
                      (o.prototype._init = function() {}),
                      (o.prototype._promiseFulfilled = function(t, e) {
                        this._values[e] = t
                        var n = ++this._totalResolved
                        if (n >= this._length) {
                          var i
                          if (this._isMap) i = f(this._values)
                          else {
                            i = {}
                            for (
                              var r = this.length(), o = 0, a = this.length();
                              a > o;
                              ++o
                            )
                              {i[this._values[o + r]] = this._values[o]}
                          }
                          return this._resolve(i), !0
                        }
                        return !1
                      }),
                      (o.prototype.shouldCopyValues = function() {
                        return !1
                      }),
                      (o.prototype.getActualLength = function(t) {
                        return t >> 1
                      }),
                      (e.prototype.props = function() {
                        return a(this)
                      }),
                      (e.props = function(t) {
                        return a(t)
                      })
                    }
                  },
                  { './es5': 13, './util': 36 }
                ],
                26: [
                  function(t, e, n) {
                    'use strict'
                    function i(t, e, n, i, r) {
                      for (var o = 0; r > o; ++o) { (n[o + i] = t[o + e]), (t[o + e] = void 0)}
                    }
                    function r(t) {
                      (this._capacity = t),
                      (this._length = 0),
                      (this._front = 0)
                    }
                    (r.prototype._willBeOverCapacity = function(t) {
                      return this._capacity < t
                    }),
                    (r.prototype._pushOne = function(t) {
                      var e = this.length()
                      this._checkCapacity(e + 1)
                      var n = (this._front + e) & (this._capacity - 1);
                      (this[n] = t), (this._length = e + 1)
                    }),
                    (r.prototype._unshiftOne = function(t) {
                      var e = this._capacity
                      this._checkCapacity(this.length() + 1)
                      var n = this._front,
                        i = (((n - 1) & (e - 1)) ^ e) - e;
                      (this[i] = t),
                      (this._front = i),
                      (this._length = this.length() + 1)
                    }),
                    (r.prototype.unshift = function(t, e, n) {
                      this._unshiftOne(n),
                      this._unshiftOne(e),
                      this._unshiftOne(t)
                    }),
                    (r.prototype.push = function(t, e, n) {
                      var i = this.length() + 3
                      if (this._willBeOverCapacity(i))
                        {return (
                          this._pushOne(t),
                          this._pushOne(e),
                          void this._pushOne(n)
                        );}
                      var r = this._front + i - 3
                      this._checkCapacity(i)
                      var o = this._capacity - 1;
                      (this[(r + 0) & o] = t),
                      (this[(r + 1) & o] = e),
                      (this[(r + 2) & o] = n),
                      (this._length = i)
                    }),
                    (r.prototype.shift = function() {
                      var t = this._front,
                        e = this[t]
                      return (
                        (this[t] = void 0),
                        (this._front = (t + 1) & (this._capacity - 1)),
                        this._length--,
                        e
                      )
                    }),
                    (r.prototype.length = function() {
                      return this._length
                    }),
                    (r.prototype._checkCapacity = function(t) {
                      this._capacity < t &&
                          this._resizeTo(this._capacity << 1)
                    }),
                    (r.prototype._resizeTo = function(t) {
                      var e = this._capacity
                      this._capacity = t
                      var n = this._front,
                        r = this._length,
                        o = (n + r) & (e - 1)
                      i(this, 0, this, e, o)
                    }),
                    (e.exports = r)
                  },
                  {}
                ],
                27: [
                  function(t, e, n) {
                    'use strict'
                    e.exports = function(e, n, i, r) {
                      function o(t, o) {
                        var c = i(t)
                        if (c instanceof e) return s(c)
                        if (((t = a.asArray(t)), t === null)) {
return r(
                          "expecting an array or an iterable object but got " +
                              a.classString(t)
                        );
}
                        var u = new e(n)
                        void 0 !== o && u._propagateFrom(o, 3)
                        for (
                          var l = u._fulfill,
                            h = u._reject,
                            f = 0,
                            p = t.length;
                          p > f;
                          ++f
                        ) {
                          var d = t[f];
                          (void 0 !== d || f in t) &&
                            e.cast(d)._then(l, h, void 0, u, null)
                        }
                        return u
                      }
                      var a = t('./util'),
                        s = function(t) {
                          return t.then(function(e) {
                            return o(e, t)
                          })
                        };
                      (e.race = function(t) {
                        return o(t, void 0)
                      }),
                      (e.prototype.race = function() {
                        return o(this, void 0)
                      })
                    }
                  },
                  { './util': 36 }
                ],
                28: [
                  function(t, e, n) {
                    'use strict'
                    e.exports = function(e, n, i, r, o, a) {
                      function s(t, n, i, r) {
                        this.constructor$(t)
                        var a = f();
                        (this._fn = a === null ? n : a.bind(n)),
                        void 0 !== i &&
                            ((i = e.resolve(i)),
                              i._attachCancellationCallback(this)),
                        (this._initialValue = i),
                        (this._currentCancellable = null),
                        (this._eachValues = r === o ? [] : void 0),
                        this._promise._captureStackTrace(),
                        this._init$(void 0, -5)
                      }
                      function c(t, e) {
                        this.isFulfilled() ? e._resolve(t) : e._reject(t)
                      }
                      function u(t, e, n, r) {
                        if (typeof e !== 'function') {
return i(
                          "expecting a function but got " + p.classString(e)
                        ); }
                        var o = new s(t, e, n, r)
                        return o.promise()
                      }
                      function l(t) {
                        (this.accum = t), this.array._gotAccum(t)
                        var n = r(this.value, this.array._promise)
                        return n instanceof e
                          ? ((this.array._currentCancellable = n),
                            n._then(h, void 0, void 0, this, void 0))
                          : h.call(this, n)
                      }
                      function h(t) {
                        var n = this.array,
                          i = n._promise,
                          r = d(n._fn)
                        i._pushContext()
                        var o;
                        (o =
                          void 0 !== n._eachValues
                            ? r.call(
                              i._boundValue(),
                              t,
                              this.index,
                              this.length
                            )
                            : r.call(
                              i._boundValue(),
                              this.accum,
                              t,
                              this.index,
                              this.length
                            )),
                        o instanceof e && (n._currentCancellable = o)
                        var s = i._popContext()
                        return (
                          a.checkForgottenReturns(
                            o,
                            s,
                            void 0 !== n._eachValues
                              ? 'Promise.each'
                              : 'Promise.reduce',
                            i
                          ),
                          o
                        )
                      }
                      var f = e._getDomain,
                        p = t('./util'),
                        d = p.tryCatch
                      p.inherits(s, n),
                      (s.prototype._gotAccum = function(t) {
                        void 0 !== this._eachValues &&
                            t !== o &&
                            this._eachValues.push(t)
                      }),
                      (s.prototype._eachComplete = function(t) {
                        return this._eachValues.push(t), this._eachValues
                      }),
                      (s.prototype._init = function() {}),
                      (s.prototype._resolveEmptyArray = function() {
                        this._resolve(
                          void 0 !== this._eachValues
                            ? this._eachValues
                            : this._initialValue
                        )
                      }),
                      (s.prototype.shouldCopyValues = function() {
                        return !1
                      }),
                      (s.prototype._resolve = function(t) {
                        this._promise._resolveCallback(t),
                        (this._values = null)
                      }),
                      (s.prototype._resultCancelled = function(t) {
                        return t === this._initialValue
                          ? this._cancel()
                          : void (
                            this._isResolved() ||
                                (this._resultCancelled$(),
                                  this._currentCancellable instanceof e &&
                                  this._currentCancellable.cancel(),
                                  this._initialValue instanceof e &&
                                  this._initialValue.cancel())
                          )
                      }),
                      (s.prototype._iterate = function(t) {
                        this._values = t
                        var n,
                          i,
                          r = t.length
                        if (
                          (void 0 !== this._initialValue
                            ? ((n = this._initialValue), (i = 0))
                            : ((n = e.resolve(t[0])), (i = 1)),
                            (this._currentCancellable = n),
                            !n.isRejected())
                        )
                          {for (; r > i; ++i) {
                            var o = {
                              accum: null,
                              value: t[i],
                              index: i,
                              length: r,
                              array: this
                            };
                            n = n._then(l, void 0, void 0, o, void 0)
                            }}
                        void 0 !== this._eachValues &&
                            (n = n._then(
                              this._eachComplete,
                              void 0,
                              void 0,
                              this,
                              void 0
                            )),
                        n._then(c, c, void 0, n, this)
                      }),
                      (e.prototype.reduce = function(t, e) {
                        return u(this, t, e, null)
                      }),
                      (e.reduce = function(t, e, n, i) {
                        return u(t, e, n, i)
                      })
                    }
                  },
                  { './util': 36 }
                ],
                29: [
                  function(e, n, r) {
                    'use strict'
                    var o,
                      a = e('./util'),
                      s = function() {
                        throw new Error(
                          'No async scheduler available\n\n    See http://goo.gl/MqrFmX\n'
                        )
                      },
                      c = a.getNativePromise()
                    if (a.isNode && typeof MutationObserver === 'undefined') {
                      var u = i.setImmediate,
                        l = t.nextTick
                      o = a.isRecentNode
                        ? function(t) {
                          u.call(i, t)
                        }
                        : function(e) {
                          l.call(t, e)
                        };
                    } else if (typeof c === 'function') {
                      var h = c.resolve()
                      o = function(t) {
                        h.then(t)
                      }
                    } else {
o =
                        'undefined' === typeof MutationObserver ||
                        ('undefined' !== typeof window &&
                          window.navigator &&
                          window.navigator.standalone)
                          ? 'undefined' !== typeof setImmediate
                            ? function(t) {
                              setImmediate(t)
                              }
                            : 'undefined' !== typeof setTimeout
                              ? function(t) {
                                setTimeout(t, 0)
                                }
                              : s
                          : (function() {
                            var t = document.createElement('div'),
                              e = { attributes: !0 },
                              n = !1,
                              i = document.createElement('div'),
                              r = new MutationObserver(function() {
                                t.classList.toggle('foo'), (n = !1)
                                });
                            r.observe(i, e)
                              var o = function() {
                              n || ((n = !0), i.classList.toggle('foo'))
                              };
                            return function(n) {
                              var i = new MutationObserver(function() {
                                i.disconnect(), n()
                                });
                              i.observe(t, e), o()
                              };
                          })()}
                    n.exports = o
                  },
                  { './util': 36 }
                ],
                30: [
                  function(t, e, n) {
                    'use strict'
                    e.exports = function(e, n, i) {
                      function r(t) {
                        this.constructor$(t)
                      }
                      var o = e.PromiseInspection,
                        a = t('./util')
                      a.inherits(r, n),
                      (r.prototype._promiseResolved = function(t, e) {
                        this._values[t] = e
                        var n = ++this._totalResolved
                        return n >= this._length
                          ? (this._resolve(this._values), !0)
                          : !1
                      }),
                      (r.prototype._promiseFulfilled = function(t, e) {
                        var n = new o()
                        return (
                          (n._bitField = 33554432),
                          (n._settledValueField = t),
                          this._promiseResolved(e, n)
                        )
                      }),
                      (r.prototype._promiseRejected = function(t, e) {
                        var n = new o()
                        return (
                          (n._bitField = 16777216),
                          (n._settledValueField = t),
                          this._promiseResolved(e, n)
                        )
                      }),
                      (e.settle = function(t) {
                        return (
                          i.deprecated('.settle()', '.reflect()'),
                          new r(t).promise()
                        )
                      }),
                      (e.prototype.settle = function() {
                        return e.settle(this)
                      })
                    }
                  },
                  { './util': 36 }
                ],
                31: [
                  function(t, e, n) {
                    'use strict'
                    e.exports = function(e, n, i) {
                      function r(t) {
                        this.constructor$(t),
                        (this._howMany = 0),
                        (this._unwrap = !1),
                        (this._initialized = !1)
                      }
                      function o(t, e) {
                        if ((0 | e) !== e || e < 0) { return i(
                          "expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n"
                        ); }
                        var n = new r(t),
                          o = n.promise()
                        return n.setHowMany(e), n.init(), o
                      }
                      var a = t('./util'),
                        s = t('./errors').RangeError,
                        c = t('./errors').AggregateError,
                        u = a.isArray,
                        l = {}
                      a.inherits(r, n),
                      (r.prototype._init = function() {
                        if (this._initialized) {
                          if (this._howMany === 0)
                            {return void this._resolve([])}
                          this._init$(void 0, -5)
                          var t = u(this._values)
                          !this._isResolved() &&
                              t &&
                              this._howMany > this._canPossiblyFulfill() &&
                              this._reject(this._getRangeError(this.length()))
                        }
                      }),
                      (r.prototype.init = function() {
                        (this._initialized = !0), this._init()
                      }),
                      (r.prototype.setUnwrap = function() {
                        this._unwrap = !0
                      }),
                      (r.prototype.howMany = function() {
                        return this._howMany
                      }),
                      (r.prototype.setHowMany = function(t) {
                        this._howMany = t
                      }),
                      (r.prototype._promiseFulfilled = function(t) {
                        return (
                          this._addFulfilled(t),
                          this._fulfilled() === this.howMany()
                            ? ((this._values.length = this.howMany()),
                              this.howMany() === 1 && this._unwrap
                                ? this._resolve(this._values[0])
                                : this._resolve(this._values),
                              !0)
                            : !1
                        )
                      }),
                      (r.prototype._promiseRejected = function(t) {
                        return this._addRejected(t), this._checkOutcome()
                      }),
                      (r.prototype._promiseCancelled = function() {
                        return this._values instanceof e ||
                            this._values == null
                          ? this._cancel()
                          : (this._addRejected(l), this._checkOutcome())
                      }),
                      (r.prototype._checkOutcome = function() {
                        if (this.howMany() > this._canPossiblyFulfill()) {
                          for (
                            var t = new c(), e = this.length();
                            e < this._values.length;
                            ++e
                          )
                            {this._values[e] !== l && t.push(this._values[e])}
                          return (
                            t.length > 0 ? this._reject(t) : this._cancel(),
                            !0
                          )
                        }
                        return !1
                      }),
                      (r.prototype._fulfilled = function() {
                        return this._totalResolved
                      }),
                      (r.prototype._rejected = function() {
                        return this._values.length - this.length()
                      }),
                      (r.prototype._addRejected = function(t) {
                        this._values.push(t)
                      }),
                      (r.prototype._addFulfilled = function(t) {
                        this._values[this._totalResolved++] = t
                      }),
                      (r.prototype._canPossiblyFulfill = function() {
                        return this.length() - this._rejected()
                      }),
                      (r.prototype._getRangeError = function(t) {
                        var e =
                            'Input array must contain at least ' +
                            this._howMany +
                            ' items but contains only ' +
                            t +
                            ' items'
                        return new s(e)
                      }),
                      (r.prototype._resolveEmptyArray = function() {
                        this._reject(this._getRangeError(0))
                      }),
                      (e.some = function(t, e) {
                        return o(t, e)
                      }),
                      (e.prototype.some = function(t) {
                        return o(this, t)
                      }),
                      (e._SomePromiseArray = r)
                    }
                  },
                  { './errors': 12, './util': 36 }
                ],
                32: [
                  function(t, e, n) {
                    'use strict'
                    e.exports = function(t) {
                      function e(t) {
                        void 0 !== t
                          ? ((t = t._target()),
                            (this._bitField = t._bitField),
                            (this._settledValueField = t._isFateSealed()
                              ? t._settledValue()
                              : void 0))
                          : ((this._bitField = 0),
                            (this._settledValueField = void 0))
                      }
                      e.prototype._settledValue = function() {
                        return this._settledValueField
                      }
                      var n = (e.prototype.value = function() {
                          if (!this.isFulfilled()) { throw new TypeError(
                            "cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n"
                          );
}
                          return this._settledValue()
                        }),
                        i = (e.prototype.error = e.prototype.reason = function() {
                          if (!this.isRejected()) {
throw new TypeError(
                            "cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n"
                          ); }
                          return this._settledValue()
                        }),
                        r = (e.prototype.isFulfilled = function() {
                          return (33554432 & this._bitField) !== 0
                        }),
                        o = (e.prototype.isRejected = function() {
                          return (16777216 & this._bitField) !== 0
                        }),
                        a = (e.prototype.isPending = function() {
                          return (50397184 & this._bitField) === 0
                        }),
                        s = (e.prototype.isResolved = function() {
                          return (50331648 & this._bitField) !== 0
                        });
                      (e.prototype.isCancelled = t.prototype._isCancelled = function() {
                        return (65536 & this._bitField) === 65536
                      }),
                      (t.prototype.isCancelled = function() {
                        return this._target()._isCancelled()
                      }),
                      (t.prototype.isPending = function() {
                        return a.call(this._target())
                      }),
                      (t.prototype.isRejected = function() {
                        return o.call(this._target())
                      }),
                      (t.prototype.isFulfilled = function() {
                        return r.call(this._target())
                      }),
                      (t.prototype.isResolved = function() {
                        return s.call(this._target())
                      }),
                      (t.prototype.value = function() {
                        return n.call(this._target())
                      }),
                      (t.prototype.reason = function() {
                        var t = this._target()
                        return t._unsetRejectionIsUnhandled(), i.call(t)
                      }),
                      (t.prototype._value = function() {
                        return this._settledValue()
                      }),
                      (t.prototype._reason = function() {
                        return (
                          this._unsetRejectionIsUnhandled(),
                          this._settledValue()
                        )
                      }),
                      (t.PromiseInspection = e)
                    }
                  },
                  {}
                ],
                33: [
                  function(t, e, n) {
                    'use strict'
                    e.exports = function(e, n) {
                      function i(t, i) {
                        if (l(t)) {
                          if (t instanceof e) return t
                          var r = o(t)
                          if (r === u) {
                            i && i._pushContext()
                            var c = e.reject(r.e)
                            return i && i._popContext(), c
                          }
                          if (typeof r === 'function') {
                            if (a(t)) {
                              var c = new e(n)
                              return (
                                t._then(c._fulfill, c._reject, void 0, c, null),
                                c
                              )
                            }
                            return s(t, r, i)
                          }
                        }
                        return t
                      }
                      function r(t) {
                        return t.then
                      }
                      function o(t) {
                        try {
                          return r(t)
                        } catch (e) {
                          return (u.e = e), u
                        }
                      }
                      function a(t) {
                        try {
                          return h.call(t, '_promise0')
                        } catch (e) {
                          return !1
                        }
                      }
                      function s(t, i, r) {
                        function o(t) {
                          s && (s._resolveCallback(t), (s = null))
                        }
                        function a(t) {
                          s && (s._rejectCallback(t, h, !0), (s = null))
                        }
                        var s = new e(n),
                          l = s
                        r && r._pushContext(),
                        s._captureStackTrace(),
                        r && r._popContext()
                        var h = !0,
                          f = c.tryCatch(i).call(t, o, a)
                        return (
                          (h = !1),
                          s &&
                            f === u &&
                            (s._rejectCallback(f.e, !0, !0), (s = null)),
                          l
                        )
                      }
                      var c = t('./util'),
                        u = c.errorObj,
                        l = c.isObject,
                        h = {}.hasOwnProperty
                      return i
                    }
                  },
                  { './util': 36 }
                ],
                34: [
                  function(t, e, n) {
                    'use strict'
                    e.exports = function(e, n, i) {
                      function r(t) {
                        this.handle = t
                      }
                      function o(t) {
                        return clearTimeout(this.handle), t
                      }
                      function a(t) {
                        throw (clearTimeout(this.handle), t)
                      }
                      var s = t('./util'),
                        c = e.TimeoutError
                      r.prototype._resultCancelled = function() {
                        clearTimeout(this.handle)
                      }
                      var u = function(t) {
                          return l(+this).thenReturn(t)
                        },
                        l = (e.delay = function(t, o) {
                          var a, s
                          return (
                            void 0 !== o
                              ? ((a = e
                                .resolve(o)
                                ._then(u, null, null, t, void 0)),
                                i.cancellation() &&
                                  o instanceof e &&
                                  a._setOnCancel(o))
                              : ((a = new e(n)),
                                (s = setTimeout(function() {
                                  a._fulfill()
                                }, +t)),
                                i.cancellation() && a._setOnCancel(new r(s))),
                            a._setAsyncGuaranteed(),
                            a
                          )
                        })
                      e.prototype.delay = function(t) {
                        return l(t, this)
                      }
                      var h = function(t, e, n) {
                        var i;
                        (i =
                          typeof e !== 'string'
                            ? e instanceof Error
                              ? e
                              : new c('operation timed out')
                            : new c(e)),
                        s.markAsOriginatingFromRejection(i),
                        t._attachExtraTrace(i),
                        t._reject(i),
                        n != null && n.cancel()
                      }
                      e.prototype.timeout = function(t, e) {
                        t = +t
                        var n,
                          s,
                          c = new r(
                            setTimeout(function() {
                              n.isPending() && h(n, e, s)
                            }, t)
                          )
                        return (
                          i.cancellation()
                            ? ((s = this.then()),
                              (n = s._then(o, a, void 0, c, void 0)),
                              n._setOnCancel(c))
                            : (n = this._then(o, a, void 0, c, void 0)),
                          n
                        )
                      }
                    }
                  },
                  { './util': 36 }
                ],
                35: [
                  function(t, e, n) {
                    'use strict'
                    e.exports = function(e, n, i, r, o, a) {
                      function s(t) {
                        setTimeout(function() {
                          throw t
                        }, 0)
                      }
                      function c(t) {
                        var e = i(t)
                        return (
                          e !== t &&
                            typeof t._isDisposable === 'function' &&
                            typeof t._getDisposer === 'function' &&
                            t._isDisposable() &&
                            e._setDisposable(t._getDisposer()),
                          e
                        )
                      }
                      function u(t, n) {
                        function r() {
                          if (a >= u) return l._fulfill()
                          var o = c(t[a++])
                          if (o instanceof e && o._isDisposable()) {
                            try {
                              o = i(o._getDisposer().tryDispose(n), t.promise)
                            } catch (h) {
                              return s(h)
                            }
                            if (o instanceof e) { return o._then(r, s, null, null, null)}
                          }
                          r()
                        }
                        var a = 0,
                          u = t.length,
                          l = new e(o)
                        return r(), l
                      }
                      function l(t, e, n) {
                        (this._data = t),
                        (this._promise = e),
                        (this._context = n)
                      }
                      function h(t, e, n) {
                        this.constructor$(t, e, n)
                      }
                      function f(t) {
                        return l.isDisposer(t)
                          ? (this.resources[this.index]._setDisposable(t),
                            t.promise())
                          : t
                      }
                      function p(t) {
                        (this.length = t),
                        (this.promise = null),
                        (this[t - 1] = null)
                      }
                      var d = t('./util'),
                        m = t('./errors').TypeError,
                        v = t('./util').inherits,
                        g = d.errorObj,
                        y = d.tryCatch,
                        _ = {};
                      (l.prototype.data = function() {
                        return this._data
                      }),
                      (l.prototype.promise = function() {
                        return this._promise
                      }),
                      (l.prototype.resource = function() {
                        return this.promise().isFulfilled()
                          ? this.promise().value()
                          : _
                      }),
                      (l.prototype.tryDispose = function(t) {
                        var e = this.resource(),
                          n = this._context
                        void 0 !== n && n._pushContext()
                        var i = e !== _ ? this.doDispose(e, t) : null
                        return (
                          void 0 !== n && n._popContext(),
                          this._promise._unsetDisposable(),
                          (this._data = null),
                          i
                        )
                      }),
                      (l.isDisposer = function(t) {
                        return (
                          t != null &&
                            typeof t.resource === 'function' &&
                            typeof t.tryDispose === 'function'
                        )
                      }),
                      v(h, l),
                      (h.prototype.doDispose = function(t, e) {
                        var n = this.data()
                        return n.call(t, t, e)
                      }),
                      (p.prototype._resultCancelled = function() {
                        for (var t = this.length, n = 0; t > n; ++n) {
                          var i = this[n]
                          i instanceof e && i.cancel()
                        }
                      }),
                      (e.using = function() {
                        var t = arguments.length
                        if (t < 2)
                          {return n(
                            "you must pass at least 2 arguments to Promise.using"
                          );}
                        var r = arguments[t - 1]
                        if (typeof r !== 'function')
                          {return n(
                            "expecting a function but got " + d.classString(r)
                          );}
                        var o,
                          s = !0
                        2 === t && Array.isArray(arguments[0])
                          ? ((o = arguments[0]), (t = o.length), (s = !1))
                          : ((o = arguments), t--)
                        for (var c = new p(t), h = 0; t > h; ++h) {
                          var m = o[h]
                          if (l.isDisposer(m)) {
                            var v = m;
                            (m = m.promise()), m._setDisposable(v)
                          } else {
                            var _ = i(m)
                            _ instanceof e &&
                                (m = _._then(
                                  f,
                                  null,
                                  null,
                                  { resources: c, index: h },
                                  void 0
                                ))
                          }
                          c[h] = m
                        }
                        for (
                          var E = new Array(c.length), h = 0;
                          h < E.length;
                          ++h
                        )
                          {E[h] = e.resolve(c[h]).reflect()}
                        var b = e.all(E).then(function(t) {
                            for (var e = 0; e < t.length; ++e) {
                              var n = t[e]
                              if (n.isRejected()) return (g.e = n.error()), g
                              if (!n.isFulfilled()) return void b.cancel()
                              t[e] = n.value()
                            }
                            w._pushContext(), (r = y(r))
                            var i = s ? r.apply(void 0, t) : r(t),
                              o = w._popContext()
                            return (
                              a.checkForgottenReturns(
                                i,
                                o,
                                'Promise.using',
                                w
                              ),
                              i
                            )
                          }),
                          w = b.lastly(function() {
                            var t = new e.PromiseInspection(b)
                            return u(c, t)
                          })
                        return (c.promise = w), w._setOnCancel(c), w
                      }),
                      (e.prototype._setDisposable = function(t) {
                        (this._bitField = 131072 | this._bitField),
                        (this._disposer = t)
                      }),
                      (e.prototype._isDisposable = function() {
                        return (131072 & this._bitField) > 0
                      }),
                      (e.prototype._getDisposer = function() {
                        return this._disposer
                      }),
                      (e.prototype._unsetDisposable = function() {
                        (this._bitField = -131073 & this._bitField),
                        (this._disposer = void 0)
                      }),
                      (e.prototype.disposer = function(t) {
                        if (typeof t === 'function')
                          {return new h(t, this, r())}
                        throw new m()
                      })
                    }
                  },
                  { './errors': 12, './util': 36 }
                ],
                36: [
                  function(e, n, r) {
                    'use strict'
                    function o() {
                      try {
                        var t = C
                        return (C = null), t.apply(this, arguments)
                      } catch (e) {
                        return (O.e = e), O
                      }
                    }
                    function a(t) {
                      return (C = t), o
                    }
                    function s(t) {
                      return (
                        t == null ||
                        t === !0 ||
                        t === !1 ||
                        typeof t === 'string' ||
                        typeof t === 'number'
                      )
                    }
                    function c(t) {
                      return (
                        typeof t === 'function' ||
                        (typeof t === 'object' && t !== null)
                      )
                    }
                    function u(t) {
                      return s(t) ? new Error(y(t)) : t
                    }
                    function l(t, e) {
                      var n,
                        i = t.length,
                        r = new Array(i + 1)
                      for (n = 0; i > n; ++n) r[n] = t[n]
                      return (r[n] = e), r
                    }
                    function h(t, e, n) {
                      if (!S.isES5) { return {}.hasOwnProperty.call(t, e) ? t[e] : void 0}
                      var i = Object.getOwnPropertyDescriptor(t, e)
                      return i != null
                        ? i.get == null && i.set == null
                          ? i.value
                          : n
                        : void 0
                    }
                    function f(t, e, n) {
                      if (s(t)) return t
                      var i = {
                        value: n,
                        configurable: !0,
                        enumerable: !1,
                        writable: !0
                      }
                      return S.defineProperty(t, e, i), t
                    }
                    function p(t) {
                      throw t
                    }
                    function d(t) {
                      try {
                        if (typeof t === 'function') {
                          var e = S.names(t.prototype),
                            n = S.isES5 && e.length > 1,
                            i =
                              e.length > 0 &&
                              !(e.length === 1 && e[0] === 'constructor'),
                            r = F.test(t + '') && S.names(t).length > 0
                          if (n || i || r) return !0
                        }
                        return !1
                      } catch (o) {
                        return !1
                      }
                    }
                    function m(t) {
                      function e() {}
                      e.prototype = t
                      for (var n = 8; n--;) new e()
                      return t
                    }
                    function v(t) {
                      return H.test(t)
                    }
                    function g(t, e, n) {
                      for (var i = new Array(t), r = 0; t > r; ++r) { i[r] = e + r + n}
                      return i
                    }
                    function y(t) {
                      try {
                        return t + ''
                      } catch (e) {
                        return '[no string representation]'
                      }
                    }
                    function _(t) {
                      return (
                        t !== null &&
                        typeof t === 'object' &&
                        typeof t.message === 'string' &&
                        typeof t.name === 'string'
                      )
                    }
                    function E(t) {
                      try {
                        f(t, 'isOperational', !0)
                      } catch (e) {}
                    }
                    function b(t) {
                      return t == null
                        ? !1
                        : t instanceof
                            Error.__BluebirdErrorTypes__.OperationalError ||
                            t.isOperational === !0
                    }
                    function w(t) {
                      return _(t) && S.propertyIsWritable(t, 'stack')
                    }
                    function x(t) {
                      return {}.toString.call(t)
                    }
                    function T(t, e, n) {
                      for (var i = S.names(t), r = 0; r < i.length; ++r) {
                        var o = i[r]
                        if (n(o)) {
try {
                          S.defineProperty(e, o, S.getDescriptor(t, o))
                          } catch (a) {}
}
                      }
                    }
                    function R(e, n) {
                      return N ? t.env[e] : n
                    }
                    function M() {
                      if (typeof Promise === 'function') {
try {
                        var t = new Promise(function() {})
                          if ('[object Promise]' === {}.toString.call(t))
                          return Promise
                        } catch (e) {} }
                    }
                    var S = e('./es5'),
                      P = typeof navigator === 'undefined',
                      O = { e: {}},
                      C,
                      A =
                        typeof self !== 'undefined'
                          ? self
                          : typeof window !== 'undefined'
                            ? window
                            : typeof i !== 'undefined'
                              ? i
                              : void 0 !== this
                                ? this
                                : null,
                      k = function(t, e) {
                        function n() {
                          (this.constructor = t), (this.constructor$ = e)
                          for (var n in e.prototype) { i.call(e.prototype, n) &&
                              '$' !== n.charAt(n.length - 1) &&
                              (this[n + '$'] = e.prototype[n])}
                        }
                        var i = {}.hasOwnProperty
                        return (
                          (n.prototype = e.prototype),
                          (t.prototype = new n()),
                          t.prototype
                        )
                      },
                      j = (function() {
                        var t = [
                            Array.prototype,
                            Object.prototype,
                            Function.prototype
                          ],
                          e = function(e) {
                            for (var n = 0; n < t.length; ++n) { if (t[n] === e) return !0}
                            return !1
                          }
                        if (S.isES5) {
                          var n = Object.getOwnPropertyNames
                          return function(t) {
                            for (
                              var i = [], r = Object.create(null);
                              t != null && !e(t);

                            ) {
                              var o
                              try {
                                o = n(t)
                              } catch (a) {
                                return i
                              }
                              for (var s = 0; s < o.length; ++s) {
                                var c = o[s]
                                if (!r[c]) {
                                  r[c] = !0
                                  var u = Object.getOwnPropertyDescriptor(t, c)
                                  u != null &&
                                    u.get == null &&
                                    u.set == null &&
                                    i.push(c)
                                }
                              }
                              t = S.getPrototypeOf(t)
                            }
                            return i
                          }
                        }
                        var i = {}.hasOwnProperty
                        return function(n) {
                          if (e(n)) return []
                          var r = []
                          t: for (var o in n) {
if (i.call(n, o)) r.push(o)
                            else {
                            for (var a = 0; a < t.length; ++a)
                              if (i.call(t[a], o)) continue t
                              r.push(o)
                            }}
                          return r
                        }
                      })(),
                      F = /this\s*\.\s*\S+\s*=/,
                      H = /^[a-z$_][a-z$_0-9]*$/i,
                      L = (function() {
                        return 'stack' in new Error()
                          ? function(t) {
                            return w(t) ? t : new Error(y(t))
                          }
                          : function(t) {
                            if (w(t)) return t
                            try {
                              throw new Error(y(t))
                            } catch (e) {
                              return e
                            }
                          }
                      })(),
                      D = function(t) {
                        return S.isArray(t) ? t : null
                      }
                    if (typeof Symbol !== 'undefined' && Symbol.iterator) {
                      var I =
                        typeof Array.from === 'function'
                          ? function(t) {
                            return Array.from(t)
                          }
                          : function(t) {
                            for (
                              var e, n = [], i = t[Symbol.iterator]();
                              !(e = i.next()).done;

                            )
                              {n.push(e.value)}
                            return n
                          };
                      D = function(t) {
                        return S.isArray(t)
                          ? t
                          : t != null && typeof t[Symbol.iterator] === 'function'
                            ? I(t)
                            : null
                      }
                    }
                    var N =
                        typeof t !== 'undefined' &&
                        x(t).toLowerCase() === '[object process]',
                      U = {
                        isClass: d,
                        isIdentifier: v,
                        inheritedDataKeys: j,
                        getDataPropertyOrDefault: h,
                        thrower: p,
                        isArray: S.isArray,
                        asArray: D,
                        notEnumerableProp: f,
                        isPrimitive: s,
                        isObject: c,
                        isError: _,
                        canEvaluate: P,
                        errorObj: O,
                        tryCatch: a,
                        inherits: k,
                        withAppended: l,
                        maybeWrapAsError: u,
                        toFastProperties: m,
                        filledRange: g,
                        toString: y,
                        canAttachTrace: w,
                        ensureErrorObject: L,
                        originatesFromRejection: b,
                        markAsOriginatingFromRejection: E,
                        classString: x,
                        copyDescriptors: T,
                        hasDevTools:
                          typeof chrome !== 'undefined' &&
                          chrome &&
                          typeof chrome.loadTimes === 'function',
                        isNode: N,
                        env: R,
                        global: A,
                        getNativePromise: M
                      };
                    (U.isRecentNode =
                      U.isNode &&
                      (function() {
                        var e = t.versions.node.split('.').map(Number)
                        return (e[0] === 0 && e[1] > 10) || e[0] > 0
                      })()),
                    U.isNode && U.toFastProperties(t)
                    try {
                      throw new Error()
                    } catch (V) {
                      U.lastLineError = V
                    }
                    n.exports = U
                  },
                  { './es5': 13 }
                ]
              },
              {},
              [4]
            )(4)
          }),
          'undefined' !== typeof window && window !== null
            ? (window.P = window.Promise)
            : typeof self !== 'undefined' &&
                self !== null &&
                (self.P = self.Promise)
        }.call(
          this,
          t('34'),
          typeof global !== 'undefined'
            ? global
            : typeof self !== 'undefined'
              ? self
              : typeof window !== 'undefined'
                ? window
                : {}
        ))
      },
      { 34: 34 }
    ],
    30: [
      function(t, e, n) {
        function i(t) {
          return r.test(t)
        }
        e.exports = i
        var r = /^(?:\w+:)?\/\/([^\s\.]+\.\S{2}|localhost[\:?\d]*)\S*$/
      },
      {}
    ],
    31: [
      function(t, e, n) {
        var i = t('33'),
          r = t('35'),
          o = t('28'),
          a = t('30'),
          n = (e.exports = function() {
            var t = o(arguments).map(c)
            return s(t[0]) ? r.apply(r, t) : i.join.apply(i, t)
          }),
          s = (n.isUrl = function(t) {
            return (
              a(t) || t === 'http://' || t === 'https://' || t === 'ftp://'
            )
          }),
          c = (n.replaceUndefined = function(t, e, n) {
            return void 0 === t || t === null ? (s(n[0]) ? '/' : i.sep) : t
          })
      },
      { 28: 28, 30: 30, 33: 33, 35: 35 }
    ],
    32: [
      function(t, e, n) {
        (function(t) {
          (function() {
            function i(t, e) {
              if (t !== e) {
                var n = t === null,
                  i = t === R,
                  r = t === t,
                  o = e === null,
                  a = e === R,
                  s = e === e
                if ((t > e && !o) || !r || (n && !a && s) || (i && s)) return 1
                if ((e > t && !n) || !s || (o && !i && r) || (a && r)) { return -1}
              }
              return 0
            }
            function r(t, e, n) {
              for (var i = t.length, r = n ? i : -1; n ? r-- : ++r < i;) { if (e(t[r], r, t)) return r}
              return -1
            }
            function o(t, e, n) {
              if (e !== e) return v(t, n)
              for (var i = n - 1, r = t.length; ++i < r;) { if (t[i] === e) return i}
              return -1
            }
            function a(t) {
              return typeof t === 'function' || !1
            }
            function s(t) {
              return t == null ? '' : t + ''
            }
            function c(t, e) {
              for (
                var n = -1, i = t.length;
                ++n < i && e.indexOf(t.charAt(n)) > -1;

              );
              return n
            }
            function u(t, e) {
              for (var n = t.length; n-- && e.indexOf(t.charAt(n)) > -1;);
              return n
            }
            function l(t, e) {
              return i(t.criteria, e.criteria) || t.index - e.index
            }
            function h(t, e, n) {
              for (
                var r = -1,
                  o = t.criteria,
                  a = e.criteria,
                  s = o.length,
                  c = n.length;
                ++r < s;

              ) {
                var u = i(o[r], a[r])
                if (u) {
                  if (r >= c) return u
                  var l = n[r]
                  return u * (l === 'asc' || l === !0 ? 1 : -1)
                }
              }
              return t.index - e.index
            }
            function f(t) {
              return Gt[t]
            }
            function p(t) {
              return Wt[t]
            }
            function d(t, e, n) {
              return e ? (t = qt[t]) : n && (t = Yt[t]), '\\' + t
            }
            function m(t) {
              return '\\' + Yt[t]
            }
            function v(t, e, n) {
              for (
                var i = t.length, r = e + (n ? 0 : -1);
                n ? r-- : ++r < i;

              ) {
                var o = t[r]
                if (o !== o) return r
              }
              return -1
            }
            function g(t) {
              return !!t && typeof t === 'object'
            }
            function y(t) {
              return (
                (t <= 160 && t >= 9 && t <= 13) ||
                t == 32 ||
                t == 160 ||
                t == 5760 ||
                t == 6158 ||
                (t >= 8192 &&
                  (t <= 8202 ||
                    t == 8232 ||
                    t == 8233 ||
                    t == 8239 ||
                    t == 8287 ||
                    t == 12288 ||
                    t == 65279))
              )
            }
            function _(t, e) {
              for (var n = -1, i = t.length, r = -1, o = []; ++n < i;) { t[n] === e && ((t[n] = G), (o[++r] = n))}
              return o
            }
            function E(t, e) {
              for (var n, i = -1, r = t.length, o = -1, a = []; ++i < r;) {
                var s = t[i],
                  c = e ? e(s, i, t) : s;
                (i && n === c) || ((n = c), (a[++o] = s))
              }
              return a
            }
            function b(t) {
              for (var e = -1, n = t.length; ++e < n && y(t.charCodeAt(e)););
              return e
            }
            function w(t) {
              for (var e = t.length; e-- && y(t.charCodeAt(e)););
              return e
            }
            function x(t) {
              return Qt[t]
            }
            function T(t) {
              function e(t) {
                if (g(t) && !Os(t) && !(t instanceof Z)) {
                  if (t instanceof y) return t
                  if (ea.call(t, '__chain__') && ea.call(t, '__wrapped__')) { return pi(t)}
                }
                return new y(t)
              }
              function n() {}
              function y(t, e, n) {
                (this.__wrapped__ = t),
                (this.__actions__ = n || []),
                (this.__chain__ = !!e)
              }
              function Z(t) {
                (this.__wrapped__ = t),
                (this.__actions__ = []),
                (this.__dir__ = 1),
                (this.__filtered__ = !1),
                (this.__iteratees__ = []),
                (this.__takeCount__ = Pa),
                (this.__views__ = [])
              }
              function et() {
                var t = new Z(this.__wrapped__)
                return (
                  (t.__actions__ = te(this.__actions__)),
                  (t.__dir__ = this.__dir__),
                  (t.__filtered__ = this.__filtered__),
                  (t.__iteratees__ = te(this.__iteratees__)),
                  (t.__takeCount__ = this.__takeCount__),
                  (t.__views__ = te(this.__views__)),
                  t
                )
              }
              function it() {
                if (this.__filtered__) {
                  var t = new Z(this);
                  (t.__dir__ = -1), (t.__filtered__ = !0)
                } else (t = this.clone()), (t.__dir__ *= -1)
                return t
              }
              function Gt() {
                var t = this.__wrapped__.value(),
                  e = this.__dir__,
                  n = Os(t),
                  i = e < 0,
                  r = n ? t.length : 0,
                  o = Qn(0, r, this.__views__),
                  a = o.start,
                  s = o.end,
                  c = s - a,
                  u = i ? s : a - 1,
                  l = this.__iteratees__,
                  h = l.length,
                  f = 0,
                  p = xa(c, this.__takeCount__)
                if (!n || U > r || (r == c && p == c)) { return nn(i && n ? t.reverse() : t, this.__actions__)}
                var d = []
                t: for (; c-- && p > f;) {
                  u += e
                  for (var m = -1, v = t[u]; ++m < h;) {
                    var g = l[m],
                      y = g.iteratee,
                      _ = g.type,
                      E = y(v)
                    if (_ == B) v = E
                    else if (!E) {
                      if (_ == V) continue t
                      break t
                    }
                  }
                  d[f++] = v
                }
                return d
              }
              function Wt() {
                this.__data__ = {}
              }
              function Qt(t) {
                return this.has(t) && delete this.__data__[t]
              }
              function $t(t) {
                return t == '__proto__' ? R : this.__data__[t]
              }
              function qt(t) {
                return t != '__proto__' && ea.call(this.__data__, t)
              }
              function Yt(t, e) {
                return t != '__proto__' && (this.__data__[t] = e), this
              }
              function Xt(t) {
                var e = t ? t.length : 0
                for (this.data = { hash: ga(null), set: new ha() }; e--;) { this.push(t[e])}
              }
              function Zt(t, e) {
                var n = t.data,
                  i = typeof e === 'string' || Fr(e) ? n.set.has(e) : n.hash[e]
                return i ? 0 : -1
              }
              function Kt(t) {
                var e = this.data
                'string' === typeof t || Fr(t) ? e.set.add(t) : (e.hash[t] = !0)
              }
              function Jt(t, e) {
                for (
                  var n = -1, i = t.length, r = -1, o = e.length, a = Vo(i + o);
                  ++n < i;

                ) { a[n] = t[n]}
                for (; ++r < o;) a[n++] = e[r]
                return a
              }
              function te(t, e) {
                var n = -1,
                  i = t.length
                for (e || (e = Vo(i)); ++n < i;) e[n] = t[n]
                return e
              }
              function ee(t, e) {
                for (
                  var n = -1, i = t.length;
                  ++n < i && e(t[n], n, t) !== !1;

                );
                return t
              }
              function re(t, e) {
                for (var n = t.length; n-- && e(t[n], n, t) !== !1;);
                return t
              }
              function oe(t, e) {
                for (var n = -1, i = t.length; ++n < i;) { if (!e(t[n], n, t)) return !1}
                return !0
              }
              function ae(t, e, n, i) {
                for (var r = -1, o = t.length, a = i, s = a; ++r < o;) {
                  var c = t[r],
                    u = +e(c)
                  n(u, a) && ((a = u), (s = c))
                }
                return s
              }
              function se(t, e) {
                for (var n = -1, i = t.length, r = -1, o = []; ++n < i;) {
                  var a = t[n]
                  e(a, n, t) && (o[++r] = a)
                }
                return o
              }
              function ce(t, e) {
                for (var n = -1, i = t.length, r = Vo(i); ++n < i;) { r[n] = e(t[n], n, t)}
                return r
              }
              function ue(t, e) {
                for (var n = -1, i = e.length, r = t.length; ++n < i;) { t[r + n] = e[n]}
                return t
              }
              function le(t, e, n, i) {
                var r = -1,
                  o = t.length
                for (i && o && (n = t[++r]); ++r < o;) n = e(n, t[r], r, t)
                return n
              }
              function he(t, e, n, i) {
                var r = t.length
                for (i && r && (n = t[--r]); r--;) n = e(n, t[r], r, t)
                return n
              }
              function fe(t, e) {
                for (var n = -1, i = t.length; ++n < i;) { if (e(t[n], n, t)) return !0}
                return !1
              }
              function pe(t, e) {
                for (var n = t.length, i = 0; n--;) i += +e(t[n]) || 0
                return i
              }
              function de(t, e) {
                return t === R ? e : t
              }
              function me(t, e, n, i) {
                return t !== R && ea.call(i, n) ? t : e
              }
              function ve(t, e, n) {
                for (var i = -1, r = Us(e), o = r.length; ++i < o;) {
                  var a = r[i],
                    s = t[a],
                    c = n(s, e[a], a, t, e);
                  ((c === c ? c === s : s !== s) && (s !== R || a in t)) ||
                    (t[a] = c)
                }
                return t
              }
              function ge(t, e) {
                return e == null ? t : _e(e, Us(e), t)
              }
              function ye(t, e) {
                for (
                  var n = -1,
                    i = t == null,
                    r = !i && Zn(t),
                    o = r ? t.length : 0,
                    a = e.length,
                    s = Vo(a);
                  ++n < a;

                ) {
                  var c = e[n]
                  r ? (s[n] = Kn(c, o) ? t[c] : R) : (s[n] = i ? R : t[c])
                }
                return s
              }
              function _e(t, e, n) {
                n || (n = {})
                for (var i = -1, r = e.length; ++i < r;) {
                  var o = e[i]
                  n[o] = t[o]
                }
                return n
              }
              function Ee(t, e, n) {
                var i = typeof t
                return i == 'function'
                  ? e === R
                    ? t
                    : an(t, e, n)
                  : t == null
                    ? Po
                    : i == 'object'
                      ? Ne(t)
                      : e === R
                        ? Fo(t)
                        : Ue(t, e)
              }
              function be(t, e, n, i, r, o, a) {
                var s
                if ((n && (s = r ? n(t, i, r) : n(t)), s !== R)) return s
                if (!Fr(t)) return t
                var c = Os(t)
                if (c) {
                  if (((s = $n(t)), !e)) return te(t, s)
                } else {
                  var u = ia.call(t),
                    l = u == X
                  if (u != J && u != W && (!l || r)) { return zt[u] ? Yn(t, u, e) : r ? t : {}}
                  if (((s = qn(l ? {} : t)), !e)) return ge(s, t)
                }
                o || (o = []), a || (a = [])
                for (var h = o.length; h--;) if (o[h] == t) return a[h]
                return (
                  o.push(t),
                  a.push(s),
                  (c ? ee : Ae)(t, function(i, r) {
                    s[r] = be(i, e, n, r, t, o, a)
                  }),
                  s
                )
              }
              function we(t, e, n) {
                if (typeof t !== 'function') throw new Xo(z)
                return fa(function() {
                  t.apply(R, n)
                }, e)
              }
              function xe(t, e) {
                var n = t ? t.length : 0,
                  i = []
                if (!n) return i
                var r = -1,
                  a = zn(),
                  s = a == o,
                  c = s && e.length >= U ? mn(e) : null,
                  u = e.length
                c && ((a = Zt), (s = !1), (e = c))
                t: for (; ++r < n;) {
                  var l = t[r]
                  if (s && l === l) {
                    for (var h = u; h--;) if (e[h] === l) continue t
                    i.push(l)
                  } else a(e, l, 0) < 0 && i.push(l)
                }
                return i
              }
              function Te(t, e) {
                var n = !0
                return (
                  La(t, function(t, i, r) {
                    return (n = !!e(t, i, r))
                  }),
                  n
                )
              }
              function Re(t, e, n, i) {
                var r = i,
                  o = r
                return (
                  La(t, function(t, a, s) {
                    var c = +e(t, a, s);
                    (n(c, r) || (c === i && c === o)) && ((r = c), (o = t))
                  }),
                  o
                )
              }
              function Me(t, e, n, i) {
                var r = t.length
                for (
                  n = n == null ? 0 : +n || 0,
                  n < 0 && (n = -n > r ? 0 : r + n),
                  i = i === R || i > r ? r : +i || 0,
                  i < 0 && (i += r),
                  r = n > i ? 0 : i >>> 0,
                  n >>>= 0;
                  r > n;

                ) { t[n++] = e}
                return t
              }
              function Se(t, e) {
                var n = []
                return (
                  La(t, function(t, i, r) {
                    e(t, i, r) && n.push(t)
                  }),
                  n
                )
              }
              function Pe(t, e, n, i) {
                var r
                return (
                  n(t, function(t, n, o) {
                    return e(t, n, o) ? ((r = i ? n : t), !1) : void 0
                  }),
                  r
                )
              }
              function Oe(t, e, n, i) {
                i || (i = [])
                for (var r = -1, o = t.length; ++r < o;) {
                  var a = t[r]
                  g(a) && Zn(a) && (n || Os(a) || Rr(a))
                    ? e
                      ? Oe(a, e, n, i)
                      : ue(i, a)
                    : n || (i[i.length] = a)
                }
                return i
              }
              function Ce(t, e) {
                return Ia(t, e, to)
              }
              function Ae(t, e) {
                return Ia(t, e, Us)
              }
              function ke(t, e) {
                return Na(t, e, Us)
              }
              function je(t, e) {
                for (var n = -1, i = e.length, r = -1, o = []; ++n < i;) {
                  var a = e[n]
                  jr(t[a]) && (o[++r] = a)
                }
                return o
              }
              function Fe(t, e, n) {
                if (t != null) {
                  n !== R && n in hi(t) && (e = [n])
                  for (var i = 0, r = e.length; t != null && r > i;) { t = t[e[i++]]}
                  return i && i == r ? t : R
                }
              }
              function He(t, e, n, i, r, o) {
                return t === e
                  ? !0
                  : t == null || e == null || (!Fr(t) && !g(e))
                    ? t !== t && e !== e
                    : Le(t, e, He, n, i, r, o)
              }
              function Le(t, e, n, i, r, o, a) {
                var s = Os(t),
                  c = Os(e),
                  u = Q,
                  l = Q
                s ||
                  ((u = ia.call(t)), u == W ? (u = J) : u != J && (s = zr(t))),
                c ||
                    ((l = ia.call(e)),
                      l == W ? (l = J) : l != J && (c = zr(e)))
                var h = u == J,
                  f = l == J,
                  p = u == l
                if (p && !s && !h) return Nn(t, e, u)
                if (!r) {
                  var d = h && ea.call(t, '__wrapped__'),
                    m = f && ea.call(e, '__wrapped__')
                  if (d || m) { return n(d ? t.value() : t, m ? e.value() : e, i, r, o, a)}
                }
                if (!p) return !1
                o || (o = []), a || (a = [])
                for (var v = o.length; v--;) if (o[v] == t) return a[v] == e
                o.push(t), a.push(e)
                var g = (s ? In : Un)(t, e, n, i, r, o, a)
                return o.pop(), a.pop(), g
              }
              function De(t, e, n) {
                var i = e.length,
                  r = i,
                  o = !n
                if (t == null) return !r
                for (t = hi(t); i--;) {
                  var a = e[i]
                  if (o && a[2] ? a[1] !== t[a[0]] : !(a[0] in t)) return !1
                }
                for (; ++i < r;) {
                  a = e[i]
                  var s = a[0],
                    c = t[s],
                    u = a[1]
                  if (o && a[2]) {
                    if (c === R && !(s in t)) return !1
                  } else {
                    var l = n ? n(c, u, s) : R
                    if (!(l === R ? He(u, c, n, !0) : l)) return !1
                  }
                }
                return !0
              }
              function Ie(t, e) {
                var n = -1,
                  i = Zn(t) ? Vo(t.length) : []
                return (
                  La(t, function(t, r, o) {
                    i[++n] = e(t, r, o)
                  }),
                  i
                )
              }
              function Ne(t) {
                var e = Gn(t)
                if (e.length == 1 && e[0][2]) {
                  var n = e[0][0],
                    i = e[0][1]
                  return function(t) {
                    return t == null
                      ? !1
                      : t[n] === i && (i !== R || n in hi(t))
                  }
                }
                return function(t) {
                  return De(t, e)
                }
              }
              function Ue(t, e) {
                var n = Os(t),
                  i = ti(t) && ii(e),
                  r = t + ''
                return (
                  (t = fi(t)),
                  function(o) {
                    if (o == null) return !1
                    var a = r
                    if (((o = hi(o)), (n || !i) && !(a in o))) {
                      if (
                        ((o = t.length == 1 ? o : Fe(o, qe(t, 0, -1))),
                          o == null)
                      ) { return !1}
                      (a = Mi(t)), (o = hi(o))
                    }
                    return o[a] === e ? e !== R || a in o : He(e, o[a], R, !0)
                  }
                )
              }
              function Ve(t, e, n, i, r) {
                if (!Fr(t)) return t
                var o = Zn(e) && (Os(e) || zr(e)),
                  a = o ? R : Us(e)
                return (
                  ee(a || e, function(s, c) {
                    if ((a && ((c = s), (s = e[c])), g(s))) { i || (i = []), r || (r = []), Be(t, e, c, Ve, n, i, r)}
                    else {
                      var u = t[c],
                        l = n ? n(u, s, c, t, e) : R,
                        h = l === R
                      h && (l = s),
                      (l === R && (!o || c in t)) ||
                          (!h && (l === l ? l === u : u !== u)) ||
                          (t[c] = l)
                    }
                  }),
                  t
                )
              }
              function Be(t, e, n, i, r, o, a) {
                for (var s = o.length, c = e[n]; s--;) { if (o[s] == c) return void (t[n] = a[s])}
                var u = t[n],
                  l = r ? r(u, c, n, t, e) : R,
                  h = l === R
                h &&
                  ((l = c),
                    Zn(c) && (Os(c) || zr(c))
                      ? (l = Os(u) ? u : Zn(u) ? te(u) : [])
                      : Ur(c) || Rr(c)
                        ? (l = Rr(u) ? qr(u) : Ur(u) ? u : {})
                        : (h = !1)),
                o.push(c),
                a.push(l),
                h
                  ? (t[n] = i(l, c, r, o, a))
                  : (l === l ? l !== u : u === u) && (t[n] = l)
              }
              function ze(t) {
                return function(e) {
                  return e == null ? R : e[t]
                }
              }
              function Ge(t) {
                var e = t + ''
                return (
                  (t = fi(t)),
                  function(n) {
                    return Fe(n, t, e)
                  }
                )
              }
              function We(t, e) {
                for (var n = t ? e.length : 0; n--;) {
                  var i = e[n]
                  if (i != r && Kn(i)) {
                    var r = i
                    pa.call(t, i, 1)
                  }
                }
                return t
              }
              function Qe(t, e) {
                return t + ya(Ma() * (e - t + 1))
              }
              function $e(t, e, n, i, r) {
                return (
                  r(t, function(t, r, o) {
                    n = i ? ((i = !1), t) : e(n, t, r, o)
                  }),
                  n
                )
              }
              function qe(t, e, n) {
                var i = -1,
                  r = t.length;
                (e = e == null ? 0 : +e || 0),
                e < 0 && (e = -e > r ? 0 : r + e),
                (n = n === R || n > r ? r : +n || 0),
                n < 0 && (n += r),
                (r = e > n ? 0 : (n - e) >>> 0),
                (e >>>= 0)
                for (var o = Vo(r); ++i < r;) o[i] = t[i + e]
                return o
              }
              function Ye(t, e) {
                var n
                return (
                  La(t, function(t, i, r) {
                    return (n = e(t, i, r)), !n
                  }),
                  !!n
                )
              }
              function Xe(t, e) {
                var n = t.length
                for (t.sort(e); n--;) t[n] = t[n].value
                return t
              }
              function Ze(t, e, n) {
                var i = Vn(),
                  r = -1
                e = ce(e, function(t) {
                  return i(t)
                })
                var o = Ie(t, function(t) {
                  var n = ce(e, function(e) {
                    return e(t)
                  })
                  return { criteria: n, index: ++r, value: t }
                })
                return Xe(o, function(t, e) {
                  return h(t, e, n)
                })
              }
              function Ke(t, e) {
                var n = 0
                return (
                  La(t, function(t, i, r) {
                    n += +e(t, i, r) || 0
                  }),
                  n
                )
              }
              function Je(t, e) {
                var n = -1,
                  i = zn(),
                  r = t.length,
                  a = i == o,
                  s = a && r >= U,
                  c = s ? mn() : null,
                  u = []
                c ? ((i = Zt), (a = !1)) : ((s = !1), (c = e ? [] : u))
                t: for (; ++n < r;) {
                  var l = t[n],
                    h = e ? e(l, n, t) : l
                  if (a && l === l) {
                    for (var f = c.length; f--;) if (c[f] === h) continue t
                    e && c.push(h), u.push(l)
                  } else i(c, h, 0) < 0 && ((e || s) && c.push(h), u.push(l))
                }
                return u
              }
              function tn(t, e) {
                for (var n = -1, i = e.length, r = Vo(i); ++n < i;) { r[n] = t[e[n]]}
                return r
              }
              function en(t, e, n, i) {
                for (
                  var r = t.length, o = i ? r : -1;
                  (i ? o-- : ++o < r) && e(t[o], o, t);

                );
                return n
                  ? qe(t, i ? 0 : o, i ? o + 1 : r)
                  : qe(t, i ? o + 1 : 0, i ? r : o)
              }
              function nn(t, e) {
                var n = t
                n instanceof Z && (n = n.value())
                for (var i = -1, r = e.length; ++i < r;) {
                  var o = e[i]
                  n = o.func.apply(o.thisArg, ue([n], o.args))
                }
                return n
              }
              function rn(t, e, n) {
                var i = 0,
                  r = t ? t.length : i
                if (typeof e === 'number' && e === e && Aa >= r) {
                  for (; r > i;) {
                    var o = (i + r) >>> 1,
                      a = t[o];
                    (n ? e >= a : e > a) && a !== null ? (i = o + 1) : (r = o)
                  }
                  return r
                }
                return on(t, e, Po, n)
              }
              function on(t, e, n, i) {
                e = n(e)
                for (
                  var r = 0,
                    o = t ? t.length : 0,
                    a = e !== e,
                    s = e === null,
                    c = e === R;
                  o > r;

                ) {
                  var u = ya((r + o) / 2),
                    l = n(t[u]),
                    h = l !== R,
                    f = l === l
                  if (a) var p = f || i
                  else {
p = s
                    ? f && h && (i || l != null)
                    : c
                      ? f && (i || h)
                      : l == null
                        ? !1
                        : i
                          ? e >= l
                          : e > l}
                  p ? (r = u + 1) : (o = u)
                }
                return xa(o, Ca)
              }
              function an(t, e, n) {
                if (typeof t !== 'function') return Po
                if (e === R) return t
                switch (n) {
                  case 1:
                    return function(n) {
                      return t.call(e, n)
                    }
                  case 3:
                    return function(n, i, r) {
                      return t.call(e, n, i, r)
                    }
                  case 4:
                    return function(n, i, r, o) {
                      return t.call(e, n, i, r, o)
                    }
                  case 5:
                    return function(n, i, r, o, a) {
                      return t.call(e, n, i, r, o, a)
                    }
                }
                return function() {
                  return t.apply(e, arguments)
                }
              }
              function sn(t) {
                var e = new aa(t.byteLength),
                  n = new da(e)
                return n.set(new da(t)), e
              }
              function cn(t, e, n) {
                for (
                  var i = n.length,
                    r = -1,
                    o = wa(t.length - i, 0),
                    a = -1,
                    s = e.length,
                    c = Vo(s + o);
                  ++a < s;

                ) { c[a] = e[a]}
                for (; ++r < i;) c[n[r]] = t[r]
                for (; o--;) c[a++] = t[r++]
                return c
              }
              function un(t, e, n) {
                for (
                  var i = -1,
                    r = n.length,
                    o = -1,
                    a = wa(t.length - r, 0),
                    s = -1,
                    c = e.length,
                    u = Vo(a + c);
                  ++o < a;

                ) { u[o] = t[o]}
                for (var l = o; ++s < c;) u[l + s] = e[s]
                for (; ++i < r;) u[l + n[i]] = t[o++]
                return u
              }
              function ln(t, e) {
                return function(n, i, r) {
                  var o = e ? e() : {}
                  if (((i = Vn(i, r, 3)), Os(n))) {
for (var a = -1, s = n.length; ++a < s;) {
                    var c = n[a]
                      t(o, c, i(c, a, n), n)
                    }} else {
La(n, function(e, n, r) {
                    t(o, e, i(e, n, r), r)
                    });
}
                  return o
                }
              }
              function hn(t) {
                return gr(function(e, n) {
                  var i = -1,
                    r = e == null ? 0 : n.length,
                    o = r > 2 ? n[r - 2] : R,
                    a = r > 2 ? n[2] : R,
                    s = r > 1 ? n[r - 1] : R
                  for (
                    typeof o === 'function'
                      ? ((o = an(o, s, 5)), (r -= 2))
                      : ((o = typeof s === 'function' ? s : R),
                        (r -= o ? 1 : 0)),
                    a && Jn(n[0], n[1], a) && ((o = r < 3 ? R : o), (r = 1));
                    ++i < r;

                  ) {
                    var c = n[i]
                    c && t(e, c, o)
                  }
                  return e
                })
              }
              function fn(t, e) {
                return function(n, i) {
                  var r = n ? Ba(n) : 0
                  if (!ni(r)) return t(n, i)
                  for (
                    var o = e ? r : -1, a = hi(n);
                    (e ? o-- : ++o < r) && i(a[o], o, a) !== !1;

                  );
                  return n
                }
              }
              function pn(t) {
                return function(e, n, i) {
                  for (
                    var r = hi(e), o = i(e), a = o.length, s = t ? a : -1;
                    t ? s-- : ++s < a;

                  ) {
                    var c = o[s]
                    if (n(r[c], c, r) === !1) break
                  }
                  return e
                }
              }
              function dn(t, e) {
                function n() {
                  var r = this && this !== ne && this instanceof n ? i : t
                  return r.apply(e, arguments)
                }
                var i = gn(t)
                return n
              }
              function mn(t) {
                return ga && ha ? new Xt(t) : null
              }
              function vn(t) {
                return function(e) {
                  for (
                    var n = -1, i = Ro(lo(e)), r = i.length, o = '';
                    ++n < r;

                  ) { o = t(o, i[n], n)}
                  return o
                }
              }
              function gn(t) {
                return function() {
                  var e = arguments
                  switch (e.length) {
                    case 0:
                      return new t()
                    case 1:
                      return new t(e[0])
                    case 2:
                      return new t(e[0], e[1])
                    case 3:
                      return new t(e[0], e[1], e[2])
                    case 4:
                      return new t(e[0], e[1], e[2], e[3])
                    case 5:
                      return new t(e[0], e[1], e[2], e[3], e[4])
                    case 6:
                      return new t(e[0], e[1], e[2], e[3], e[4], e[5])
                    case 7:
                      return new t(e[0], e[1], e[2], e[3], e[4], e[5], e[6])
                  }
                  var n = Ha(t.prototype),
                    i = t.apply(n, e)
                  return Fr(i) ? i : n
                }
              }
              function yn(t) {
                function e(n, i, r) {
                  r && Jn(n, i, r) && (i = R)
                  var o = Dn(n, t, R, R, R, R, R, i)
                  return (o.placeholder = e.placeholder), o
                }
                return e
              }
              function _n(t, e) {
                return gr(function(n) {
                  var i = n[0]
                  return i == null ? i : (n.push(e), t.apply(R, n))
                })
              }
              function En(t, e) {
                return function(n, i, r) {
                  if (
                    (r && Jn(n, i, r) && (i = R),
                      (i = Vn(i, r, 3)),
                      i.length == 1)
                  ) {
                    n = Os(n) ? n : li(n)
                    var o = ae(n, i, t, e)
                    if (!n.length || o !== e) return o
                  }
                  return Re(n, i, t, e)
                }
              }
              function bn(t, e) {
                return function(n, i, o) {
                  if (((i = Vn(i, o, 3)), Os(n))) {
                    var a = r(n, i, e)
                    return a > -1 ? n[a] : R
                  }
                  return Pe(n, i, t)
                }
              }
              function wn(t) {
                return function(e, n, i) {
                  return e && e.length ? ((n = Vn(n, i, 3)), r(e, n, t)) : -1
                }
              }
              function xn(t) {
                return function(e, n, i) {
                  return (n = Vn(n, i, 3)), Pe(e, n, t, !0)
                }
              }
              function Tn(t) {
                return function() {
                  for (
                    var e,
                      n = arguments.length,
                      i = t ? n : -1,
                      r = 0,
                      o = Vo(n);
                    t ? i-- : ++i < n;

                  ) {
                    var a = (o[r++] = arguments[i])
                    if (typeof a !== 'function') throw new Xo(z)
                    !e &&
                      y.prototype.thru &&
                      Bn(a) == 'wrapper' &&
                      (e = new y([], !0))
                  }
                  for (i = e ? -1 : n; ++i < n;) {
                    a = o[i]
                    var s = Bn(a),
                      c = s == 'wrapper' ? Va(a) : R
                    e =
                      c &&
                      ei(c[0]) &&
                      c[1] == (F | C | k | H) &&
                      !c[4].length &&
                      c[9] == 1
                        ? e[Bn(c[0])].apply(e, c[3])
                        : a.length == 1 && ei(a)
                          ? e[s]()
                          : e.thru(a)
                  }
                  return function() {
                    var t = arguments,
                      i = t[0]
                    if (e && t.length == 1 && Os(i) && i.length >= U) { return e.plant(i).value()}
                    for (var r = 0, a = n ? o[r].apply(this, t) : i; ++r < n;) { a = o[r].call(this, a)}
                    return a
                  }
                }
              }
              function Rn(t, e) {
                return function(n, i, r) {
                  return typeof i === 'function' && r === R && Os(n)
                    ? t(n, i)
                    : e(n, an(i, r, 3))
                }
              }
              function Mn(t) {
                return function(e, n, i) {
                  return (
                    (typeof n === 'function' && i === R) || (n = an(n, i, 3)),
                    t(e, n, to)
                  )
                }
              }
              function Sn(t) {
                return function(e, n, i) {
                  return (
                    (typeof n === 'function' && i === R) || (n = an(n, i, 3)),
                    t(e, n)
                  )
                }
              }
              function Pn(t) {
                return function(e, n, i) {
                  var r = {}
                  return (
                    (n = Vn(n, i, 3)),
                    Ae(e, function(e, i, o) {
                      var a = n(e, i, o);
                      (i = t ? a : i), (e = t ? e : a), (r[i] = e)
                    }),
                    r
                  )
                }
              }
              function On(t) {
                return function(e, n, i) {
                  return (e = s(e)), (t ? e : '') + jn(e, n, i) + (t ? '' : e)
                }
              }
              function Cn(t) {
                var e = gr(function(n, i) {
                  var r = _(i, e.placeholder)
                  return Dn(n, t, R, i, r)
                })
                return e
              }
              function An(t, e) {
                return function(n, i, r, o) {
                  var a = arguments.length < 3
                  return typeof i === 'function' && o === R && Os(n)
                    ? t(n, i, r, a)
                    : $e(n, Vn(i, o, 4), r, a, e)
                }
              }
              function kn(t, e, n, i, r, o, a, s, c, u) {
                function l() {
                  for (var y = arguments.length, E = y, b = Vo(y); E--;) { b[E] = arguments[E]}
                  if (
                    (i && (b = cn(b, i, r)), o && (b = un(b, o, a)), d || v)
                  ) {
                    var w = l.placeholder,
                      x = _(b, w)
                    if (((y -= x.length), u > y)) {
                      var T = s ? te(s) : R,
                        M = wa(u - y, 0),
                        O = d ? x : R,
                        C = d ? R : x,
                        A = d ? b : R,
                        F = d ? R : b;
                      (e |= d ? k : j),
                      (e &= ~(d ? j : k)),
                      m || (e &= ~(S | P))
                      var H = [t, e, n, A, O, F, C, T, c, M],
                        L = kn.apply(R, H)
                      return ei(t) && za(L, H), (L.placeholder = w), L
                    }
                  }
                  var D = f ? n : this,
                    I = p ? D[t] : t
                  return (
                    s && (b = ci(b, s)),
                    h && c < b.length && (b.length = c),
                    this &&
                      this !== ne &&
                      this instanceof l &&
                      (I = g || gn(t)),
                    I.apply(D, b)
                  )
                }
                var h = e & F,
                  f = e & S,
                  p = e & P,
                  d = e & C,
                  m = e & O,
                  v = e & A,
                  g = p ? R : gn(t)
                return l
              }
              function jn(t, e, n) {
                var i = t.length
                if (((e = +e), i >= e || !Ea(e))) return ''
                var r = e - i
                return (
                  (n = n == null ? ' ' : n + ''),
                  go(n, va(r / n.length)).slice(0, r)
                )
              }
              function Fn(t, e, n, i) {
                function r() {
                  for (
                    var e = -1,
                      s = arguments.length,
                      c = -1,
                      u = i.length,
                      l = Vo(u + s);
                    ++c < u;

                  ) { l[c] = i[c]}
                  for (; s--;) l[c++] = arguments[++e]
                  var h = this && this !== ne && this instanceof r ? a : t
                  return h.apply(o ? n : this, l)
                }
                var o = e & S,
                  a = gn(t)
                return r
              }
              function Hn(t) {
                var e = Wo[t]
                return function(t, n) {
                  return (
                    (n = n === R ? 0 : +n || 0),
                    n ? ((n = ua(10, n)), e(t * n) / n) : e(t)
                  )
                }
              }
              function Ln(t) {
                return function(e, n, i, r) {
                  var o = Vn(i)
                  return i == null && o === Ee
                    ? rn(e, n, t)
                    : on(e, n, o(i, r, 1), t)
                }
              }
              function Dn(t, e, n, i, r, o, a, s) {
                var c = e & P
                if (!c && typeof t !== 'function') throw new Xo(z)
                var u = i ? i.length : 0
                if (
                  (u || ((e &= ~(k | j)), (i = r = R)),
                    (u -= r ? r.length : 0),
                    e & j)
                ) {
                  var l = i,
                    h = r
                  i = r = R
                }
                var f = c ? R : Va(t),
                  p = [t, e, n, i, r, l, h, o, a, s]
                if (
                  (f && (ri(p, f), (e = p[1]), (s = p[9])),
                    (p[9] = s == null ? (c ? 0 : t.length) : wa(s - u, 0) || 0),
                    e == S)
                ) { var d = dn(p[0], p[2])}
                else { d =
                    (e != k && e != (S | k)) || p[4].length
                      ? kn.apply(R, p)
                      : Fn.apply(R, p)}
                var m = f ? Ua : za
                return m(d, p)
              }
              function In(t, e, n, i, r, o, a) {
                var s = -1,
                  c = t.length,
                  u = e.length
                if (c != u && !(r && u > c)) return !1
                for (; ++s < c;) {
                  var l = t[s],
                    h = e[s],
                    f = i ? i(r ? h : l, r ? l : h, s) : R
                  if (f !== R) {
                    if (f) continue
                    return !1
                  }
                  if (r) {
                    if (
                      !fe(e, function(t) {
                        return l === t || n(l, t, i, r, o, a)
                      })
                    ) { return !1}
                  } else if (l !== h && !n(l, h, i, r, o, a)) return !1
                }
                return !0
              }
              function Nn(t, e, n) {
                switch (n) {
                  case $:
                  case q:
                    return +t == +e
                  case Y:
                    return t.name == e.name && t.message == e.message
                  case K:
                    return t != +t ? e != +e : t == +e
                  case tt:
                  case nt:
                    return t == e + ''
                }
                return !1
              }
              function Un(t, e, n, i, r, o, a) {
                var s = Us(t),
                  c = s.length,
                  u = Us(e),
                  l = u.length
                if (c != l && !r) return !1
                for (var h = c; h--;) {
                  var f = s[h]
                  if (!(r ? f in e : ea.call(e, f))) return !1
                }
                for (var p = r; ++h < c;) {
                  f = s[h]
                  var d = t[f],
                    m = e[f],
                    v = i ? i(r ? m : d, r ? d : m, f) : R
                  if (!(v === R ? n(d, m, i, r, o, a) : v)) return !1
                  p || (p = f == 'constructor')
                }
                if (!p) {
                  var g = t.constructor,
                    y = e.constructor
                  if (
                    g != y &&
                    'constructor' in t &&
                    'constructor' in e &&
                    !(
                      typeof g === 'function' &&
                      g instanceof g &&
                      typeof y === 'function' &&
                      y instanceof y
                    )
                  ) { return !1}
                }
                return !0
              }
              function Vn(t, n, i) {
                var r = e.callback || Mo
                return (r = r === Mo ? Ee : r), i ? r(t, n, i) : r
              }
              function Bn(t) {
                for (var e = t.name, n = Fa[e], i = n ? n.length : 0; i--;) {
                  var r = n[i],
                    o = r.func
                  if (o == null || o == t) return r.name
                }
                return e
              }
              function zn(t, n, i) {
                var r = e.indexOf || Ti
                return (r = r === Ti ? o : r), t ? r(t, n, i) : r
              }
              function Gn(t) {
                for (var e = eo(t), n = e.length; n--;) e[n][2] = ii(e[n][1])
                return e
              }
              function Wn(t, e) {
                var n = t == null ? R : t[e]
                return Dr(n) ? n : R
              }
              function Qn(t, e, n) {
                for (var i = -1, r = n.length; ++i < r;) {
                  var o = n[i],
                    a = o.size
                  switch (o.type) {
                    case 'drop':
                      t += a
                      break
                    case 'dropRight':
                      e -= a
                      break
                    case 'take':
                      e = xa(e, t + a)
                      break
                    case 'takeRight':
                      t = wa(t, e - a)
                  }
                }
                return { start: t, end: e }
              }
              function $n(t) {
                var e = t.length,
                  n = new t.constructor(e)
                return (
                  e &&
                    typeof t[0] === 'string' &&
                    ea.call(t, 'index') &&
                    ((n.index = t.index), (n.input = t.input)),
                  n
                )
              }
              function qn(t) {
                var e = t.constructor
                return (
                  (typeof e === 'function' && e instanceof e) || (e = $o),
                  new e()
                )
              }
              function Yn(t, e, n) {
                var i = t.constructor
                switch (e) {
                  case rt:
                    return sn(t)
                  case $:
                  case q:
                    return new i(+t)
                  case ot:
                  case at:
                  case st:
                  case ct:
                  case ut:
                  case lt:
                  case ht:
                  case ft:
                  case pt:
                    var r = t.buffer
                    return new i(n ? sn(r) : r, t.byteOffset, t.length)
                  case K:
                  case nt:
                    return new i(t)
                  case tt:
                    var o = new i(t.source, kt.exec(t))
                    o.lastIndex = t.lastIndex
                }
                return o
              }
              function Xn(t, e, n) {
                t == null ||
                  ti(e, t) ||
                  ((e = fi(e)),
                    (t = e.length == 1 ? t : Fe(t, qe(e, 0, -1))),
                    (e = Mi(e)))
                var i = t == null ? t : t[e]
                return i == null ? R : i.apply(t, n)
              }
              function Zn(t) {
                return t != null && ni(Ba(t))
              }
              function Kn(t, e) {
                return (
                  (t = typeof t === 'number' || Ht.test(t) ? +t : -1),
                  (e = e == null ? ka : e),
                  t > -1 && t % 1 == 0 && e > t
                )
              }
              function Jn(t, e, n) {
                if (!Fr(n)) return !1
                var i = typeof e
                if (
                  i == 'number'
                    ? Zn(n) && Kn(e, n.length)
                    : i == 'string' && e in n
                ) {
                  var r = n[e]
                  return t === t ? t === r : r !== r
                }
                return !1
              }
              function ti(t, e) {
                var n = typeof t
                if ((n == 'string' && Rt.test(t)) || n == 'number') return !0
                if (Os(t)) return !1
                var i = !Tt.test(t)
                return i || (e != null && t in hi(e))
              }
              function ei(t) {
                var n = Bn(t)
                if (!(n in Z.prototype)) return !1
                var i = e[n]
                if (t === i) return !0
                var r = Va(i)
                return !!r && t === r[0]
              }
              function ni(t) {
                return typeof t === 'number' && t > -1 && t % 1 == 0 && ka >= t
              }
              function ii(t) {
                return t === t && !Fr(t)
              }
              function ri(t, e) {
                var n = t[1],
                  i = e[1],
                  r = n | i,
                  o = F > r,
                  a =
                    (i == F && n == C) ||
                    (i == F && n == H && t[7].length <= e[8]) ||
                    (i == (F | H) && n == C)
                if (!o && !a) return t
                i & S && ((t[2] = e[2]), (r |= n & S ? 0 : O))
                var s = e[3]
                if (s) {
                  var c = t[3];
                  (t[3] = c ? cn(c, s, e[4]) : te(s)),
                  (t[4] = c ? _(t[3], G) : te(e[4]))
                }
                return (
                  (s = e[5]),
                  s &&
                    ((c = t[5]),
                      (t[5] = c ? un(c, s, e[6]) : te(s)),
                      (t[6] = c ? _(t[5], G) : te(e[6]))),
                  (s = e[7]),
                  s && (t[7] = te(s)),
                  i & F && (t[8] = t[8] == null ? e[8] : xa(t[8], e[8])),
                  t[9] == null && (t[9] = e[9]),
                  (t[0] = e[0]),
                  (t[1] = r),
                  t
                )
              }
              function oi(t, e) {
                return t === R ? e : Cs(t, e, oi)
              }
              function ai(t, e) {
                t = hi(t)
                for (var n = -1, i = e.length, r = {}; ++n < i;) {
                  var o = e[n]
                  o in t && (r[o] = t[o])
                }
                return r
              }
              function si(t, e) {
                var n = {}
                return (
                  Ce(t, function(t, i, r) {
                    e(t, i, r) && (n[i] = t)
                  }),
                  n
                )
              }
              function ci(t, e) {
                for (var n = t.length, i = xa(e.length, n), r = te(t); i--;) {
                  var o = e[i]
                  t[i] = Kn(o, n) ? r[o] : R
                }
                return t
              }
              function ui(t) {
                for (
                  var e = to(t),
                    n = e.length,
                    i = n && t.length,
                    r = !!i && ni(i) && (Os(t) || Rr(t)),
                    o = -1,
                    a = [];
                  ++o < n;

                ) {
                  var s = e[o];
                  ((r && Kn(s, i)) || ea.call(t, s)) && a.push(s)
                }
                return a
              }
              function li(t) {
                return t == null ? [] : Zn(t) ? (Fr(t) ? t : $o(t)) : oo(t)
              }
              function hi(t) {
                return Fr(t) ? t : $o(t)
              }
              function fi(t) {
                if (Os(t)) return t
                var e = []
                return (
                  s(t).replace(Mt, function(t, n, i, r) {
                    e.push(i ? r.replace(Ct, '$1') : n || t)
                  }),
                  e
                )
              }
              function pi(t) {
                return t instanceof Z
                  ? t.clone()
                  : new y(t.__wrapped__, t.__chain__, te(t.__actions__))
              }
              function di(t, e, n) {
                e = (n ? Jn(t, e, n) : e == null) ? 1 : wa(ya(e) || 1, 1)
                for (
                  var i = 0, r = t ? t.length : 0, o = -1, a = Vo(va(r / e));
                  r > i;

                ) { a[++o] = qe(t, i, (i += e))}
                return a
              }
              function mi(t) {
                for (
                  var e = -1, n = t ? t.length : 0, i = -1, r = [];
                  ++e < n;

                ) {
                  var o = t[e]
                  o && (r[++i] = o)
                }
                return r
              }
              function vi(t, e, n) {
                var i = t ? t.length : 0
                return i
                  ? ((n ? Jn(t, e, n) : e == null) && (e = 1),
                    qe(t, e < 0 ? 0 : e))
                  : []
              }
              function gi(t, e, n) {
                var i = t ? t.length : 0
                return i
                  ? ((n ? Jn(t, e, n) : e == null) && (e = 1),
                    (e = i - (+e || 0)),
                    qe(t, 0, e < 0 ? 0 : e))
                  : []
              }
              function yi(t, e, n) {
                return t && t.length ? en(t, Vn(e, n, 3), !0, !0) : []
              }
              function _i(t, e, n) {
                return t && t.length ? en(t, Vn(e, n, 3), !0) : []
              }
              function Ei(t, e, n, i) {
                var r = t ? t.length : 0
                return r
                  ? (n &&
                      typeof n !== 'number' &&
                      Jn(t, e, n) &&
                      ((n = 0), (i = r)),
                    Me(t, e, n, i))
                  : []
              }
              function bi(t) {
                return t ? t[0] : R
              }
              function wi(t, e, n) {
                var i = t ? t.length : 0
                return n && Jn(t, e, n) && (e = !1), i ? Oe(t, e) : []
              }
              function xi(t) {
                var e = t ? t.length : 0
                return e ? Oe(t, !0) : []
              }
              function Ti(t, e, n) {
                var i = t ? t.length : 0
                if (!i) return -1
                if (typeof n === 'number') n = n < 0 ? wa(i + n, 0) : n
                else if (n) {
                  var r = rn(t, e)
                  return i > r && (e === e ? e === t[r] : t[r] !== t[r])
                    ? r
                    : -1
                }
                return o(t, e, n || 0)
              }
              function Ri(t) {
                return gi(t, 1)
              }
              function Mi(t) {
                var e = t ? t.length : 0
                return e ? t[e - 1] : R
              }
              function Si(t, e, n) {
                var i = t ? t.length : 0
                if (!i) return -1
                var r = i
                if (typeof n === 'number') { r = (n < 0 ? wa(i + n, 0) : xa(n || 0, i - 1)) + 1}
                else if (n) {
                  r = rn(t, e, !0) - 1
                  var o = t[r]
                  return (e === e ? e === o : o !== o) ? r : -1
                }
                if (e !== e) return v(t, r, !0)
                for (; r--;) if (t[r] === e) return r
                return -1
              }
              function Pi() {
                var t = arguments,
                  e = t[0]
                if (!e || !e.length) return e
                for (var n = 0, i = zn(), r = t.length; ++n < r;) {
for (var o = 0, a = t[n]; (o = i(e, a, o)) > -1;)
                  pa.call(e, o, 1)}
                return e
              }
              function Oi(t, e, n) {
                var i = []
                if (!t || !t.length) return i
                var r = -1,
                  o = [],
                  a = t.length
                for (e = Vn(e, n, 3); ++r < a;) {
                  var s = t[r]
                  e(s, r, t) && (i.push(s), o.push(r))
                }
                return We(t, o), i
              }
              function Ci(t) {
                return vi(t, 1)
              }
              function Ai(t, e, n) {
                var i = t ? t.length : 0
                return i
                  ? (n &&
                      typeof n !== 'number' &&
                      Jn(t, e, n) &&
                      ((e = 0), (n = i)),
                    qe(t, e, n))
                  : []
              }
              function ki(t, e, n) {
                var i = t ? t.length : 0
                return i
                  ? ((n ? Jn(t, e, n) : e == null) && (e = 1),
                    qe(t, 0, e < 0 ? 0 : e))
                  : []
              }
              function ji(t, e, n) {
                var i = t ? t.length : 0
                return i
                  ? ((n ? Jn(t, e, n) : e == null) && (e = 1),
                    (e = i - (+e || 0)),
                    qe(t, e < 0 ? 0 : e))
                  : []
              }
              function Fi(t, e, n) {
                return t && t.length ? en(t, Vn(e, n, 3), !1, !0) : []
              }
              function Hi(t, e, n) {
                return t && t.length ? en(t, Vn(e, n, 3)) : []
              }
              function Li(t, e, n, i) {
                var r = t ? t.length : 0
                if (!r) return []
                e != null &&
                  typeof e !== 'boolean' &&
                  ((i = n), (n = Jn(t, e, i) ? R : e), (e = !1))
                var a = Vn()
                return (
                  (n == null && a === Ee) || (n = a(n, i, 3)),
                  e && zn() == o ? E(t, n) : Je(t, n)
                )
              }
              function Di(t) {
                if (!t || !t.length) return []
                var e = -1,
                  n = 0
                t = se(t, function(t) {
                  return Zn(t) ? ((n = wa(t.length, n)), !0) : void 0
                })
                for (var i = Vo(n); ++e < n;) i[e] = ce(t, ze(e))
                return i
              }
              function Ii(t, e, n) {
                var i = t ? t.length : 0
                if (!i) return []
                var r = Di(t)
                return e == null
                  ? r
                  : ((e = an(e, n, 4)),
                    ce(r, function(t) {
                      return le(t, e, R, !0)
                    }))
              }
              function Ni() {
                for (var t = -1, e = arguments.length; ++t < e;) {
                  var n = arguments[t]
                  if (Zn(n)) var i = i ? ue(xe(i, n), xe(n, i)) : n
                }
                return i ? Je(i) : []
              }
              function Ui(t, e) {
                var n = -1,
                  i = t ? t.length : 0,
                  r = {}
                for (!i || e || Os(t[0]) || (e = []); ++n < i;) {
                  var o = t[n]
                  e ? (r[o] = e[n]) : o && (r[o[0]] = o[1])
                }
                return r
              }
              function Vi(t) {
                var n = e(t)
                return (n.__chain__ = !0), n
              }
              function Bi(t, e, n) {
                return e.call(n, t), t
              }
              function zi(t, e, n) {
                return e.call(n, t)
              }
              function Gi() {
                return Vi(this)
              }
              function Wi() {
                return new y(this.value(), this.__chain__)
              }
              function Qi(t) {
                for (var e, i = this; i instanceof n;) {
                  var r = pi(i)
                  e ? (o.__wrapped__ = r) : (e = r)
                  var o = r
                  i = i.__wrapped__
                }
                return (o.__wrapped__ = t), e
              }
              function $i() {
                var t = this.__wrapped__,
                  e = function(t) {
                    return n && n.__dir__ < 0 ? t : t.reverse()
                  }
                if (t instanceof Z) {
                  var n = t
                  return (
                    this.__actions__.length && (n = new Z(this)),
                    (n = n.reverse()),
                    n.__actions__.push({ func: zi, args: [e], thisArg: R }),
                    new y(n, this.__chain__)
                  )
                }
                return this.thru(e)
              }
              function qi() {
                return this.value() + ''
              }
              function Yi() {
                return nn(this.__wrapped__, this.__actions__)
              }
              function Xi(t, e, n) {
                var i = Os(t) ? oe : Te
                return (
                  n && Jn(t, e, n) && (e = R),
                  (typeof e === 'function' && n === R) || (e = Vn(e, n, 3)),
                  i(t, e)
                )
              }
              function Zi(t, e, n) {
                var i = Os(t) ? se : Se
                return (e = Vn(e, n, 3)), i(t, e)
              }
              function Ki(t, e) {
                return rs(t, Ne(e))
              }
              function Ji(t, e, n, i) {
                var r = t ? Ba(t) : 0
                return (
                  ni(r) || ((t = oo(t)), (r = t.length)),
                  (n =
                    typeof n !== 'number' || (i && Jn(e, n, i))
                      ? 0
                      : n < 0
                        ? wa(r + n, 0)
                        : n || 0),
                  typeof t === 'string' || (!Os(t) && Br(t))
                    ? r >= n && t.indexOf(e, n) > -1
                    : !!r && zn(t, e, n) > -1
                )
              }
              function tr(t, e, n) {
                var i = Os(t) ? ce : Ie
                return (e = Vn(e, n, 3)), i(t, e)
              }
              function er(t, e) {
                return tr(t, Fo(e))
              }
              function nr(t, e, n) {
                var i = Os(t) ? se : Se
                return (
                  (e = Vn(e, n, 3)),
                  i(t, function(t, n, i) {
                    return !e(t, n, i)
                  })
                )
              }
              function ir(t, e, n) {
                if (n ? Jn(t, e, n) : e == null) {
                  t = li(t)
                  var i = t.length
                  return i > 0 ? t[Qe(0, i - 1)] : R
                }
                var r = -1,
                  o = $r(t),
                  i = o.length,
                  a = i - 1
                for (e = xa(e < 0 ? 0 : +e || 0, i); ++r < e;) {
                  var s = Qe(r, a),
                    c = o[s];
                  (o[s] = o[r]), (o[r] = c)
                }
                return (o.length = e), o
              }
              function rr(t) {
                return ir(t, Pa)
              }
              function or(t) {
                var e = t ? Ba(t) : 0
                return ni(e) ? e : Us(t).length
              }
              function ar(t, e, n) {
                var i = Os(t) ? fe : Ye
                return (
                  n && Jn(t, e, n) && (e = R),
                  (typeof e === 'function' && n === R) || (e = Vn(e, n, 3)),
                  i(t, e)
                )
              }
              function sr(t, e, n) {
                if (t == null) return []
                n && Jn(t, e, n) && (e = R)
                var i = -1
                e = Vn(e, n, 3)
                var r = Ie(t, function(t, n, r) {
                  return { criteria: e(t, n, r), index: ++i, value: t }
                })
                return Xe(r, l)
              }
              function cr(t, e, n, i) {
                return t == null
                  ? []
                  : (i && Jn(e, n, i) && (n = R),
                    Os(e) || (e = e == null ? [] : [e]),
                    Os(n) || (n = n == null ? [] : [n]),
                    Ze(t, e, n))
              }
              function ur(t, e) {
                return Zi(t, Ne(e))
              }
              function lr(t, e) {
                if (typeof e !== 'function') {
                  if (typeof t !== 'function') throw new Xo(z)
                  var n = t;
                  (t = e), (e = n)
                }
                return (
                  (t = Ea((t = +t)) ? t : 0),
                  function() {
                    return --t < 1 ? e.apply(this, arguments) : void 0
                  }
                )
              }
              function hr(t, e, n) {
                return (
                  n && Jn(t, e, n) && (e = R),
                  (e = t && e == null ? t.length : wa(+e || 0, 0)),
                  Dn(t, F, R, R, R, R, e)
                )
              }
              function fr(t, e) {
                var n
                if (typeof e !== 'function') {
                  if (typeof t !== 'function') throw new Xo(z)
                  var i = t;
                  (t = e), (e = i)
                }
                return function() {
                  return (
                    --t > 0 && (n = e.apply(this, arguments)),
                    t <= 1 && (e = R),
                    n
                  )
                }
              }
              function pr(t, e, n) {
                function i() {
                  p && sa(p), u && sa(u), (m = 0), (u = p = d = R)
                }
                function r(e, n) {
                  n && sa(n),
                  (u = p = d = R),
                  e &&
                      ((m = ms()), (l = t.apply(f, c)), p || u || (c = f = R))
                }
                function o() {
                  var t = e - (ms() - h)
                  t <= 0 || t > e ? r(d, u) : (p = fa(o, t))
                }
                function a() {
                  r(g, p)
                }
                function s() {
                  if (
                    ((c = arguments),
                      (h = ms()),
                      (f = this),
                      (d = g && (p || !y)),
                      v === !1)
                  ) { var n = y && !p}
                  else {
                    u || y || (m = h)
                    var i = v - (h - m),
                      r = i <= 0 || i > v
                    r
                      ? (u && (u = sa(u)), (m = h), (l = t.apply(f, c)))
                      : u || (u = fa(a, i))
                  }
                  return (
                    r && p ? (p = sa(p)) : p || e === v || (p = fa(o, e)),
                    n && ((r = !0), (l = t.apply(f, c))),
                    !r || p || u || (c = f = R),
                    l
                  )
                }
                var c,
                  u,
                  l,
                  h,
                  f,
                  p,
                  d,
                  m = 0,
                  v = !1,
                  g = !0
                if (typeof t !== 'function') throw new Xo(z)
                if (((e = e < 0 ? 0 : +e || 0), n === !0)) {
                  var y = !0
                  g = !1
                } else { Fr(n) &&
                    ((y = !!n.leading),
                      (v = 'maxWait' in n && wa(+n.maxWait || 0, e)),
                      (g = 'trailing' in n ? !!n.trailing : g))}
                return (s.cancel = i), s
              }
              function dr(t, e) {
                if (typeof t !== 'function' || (e && typeof e !== 'function')) { throw new Xo(z)}
                var n = function() {
                  var i = arguments,
                    r = e ? e.apply(this, i) : i[0],
                    o = n.cache
                  if (o.has(r)) return o.get(r)
                  var a = t.apply(this, i)
                  return (n.cache = o.set(r, a)), a
                }
                return (n.cache = new dr.Cache()), n
              }
              function mr(t) {
                if (typeof t !== 'function') throw new Xo(z)
                return function() {
                  return !t.apply(this, arguments)
                }
              }
              function vr(t) {
                return fr(2, t)
              }
              function gr(t, e) {
                if (typeof t !== 'function') throw new Xo(z)
                return (
                  (e = wa(e === R ? t.length - 1 : +e || 0, 0)),
                  function() {
                    for (
                      var n = arguments,
                        i = -1,
                        r = wa(n.length - e, 0),
                        o = Vo(r);
                      ++i < r;

                    ) { o[i] = n[e + i]}
                    switch (e) {
                      case 0:
                        return t.call(this, o)
                      case 1:
                        return t.call(this, n[0], o)
                      case 2:
                        return t.call(this, n[0], n[1], o)
                    }
                    var a = Vo(e + 1)
                    for (i = -1; ++i < e;) a[i] = n[i]
                    return (a[e] = o), t.apply(this, a)
                  }
                )
              }
              function yr(t) {
                if (typeof t !== 'function') throw new Xo(z)
                return function(e) {
                  return t.apply(this, e)
                }
              }
              function _r(t, e, n) {
                var i = !0,
                  r = !0
                if (typeof t !== 'function') throw new Xo(z)
                return (
                  n === !1
                    ? (i = !1)
                    : Fr(n) &&
                      ((i = 'leading' in n ? !!n.leading : i),
                        (r = 'trailing' in n ? !!n.trailing : r)),
                  pr(t, e, { leading: i, maxWait: +e, trailing: r })
                )
              }
              function Er(t, e) {
                return (e = e == null ? Po : e), Dn(e, k, R, [t], [])
              }
              function br(t, e, n, i) {
                return (
                  e && typeof e !== 'boolean' && Jn(t, e, n)
                    ? (e = !1)
                    : typeof e === 'function' && ((i = n), (n = e), (e = !1)),
                  typeof n === 'function' ? be(t, e, an(n, i, 1)) : be(t, e)
                )
              }
              function wr(t, e, n) {
                return typeof e === 'function'
                  ? be(t, !0, an(e, n, 1))
                  : be(t, !0)
              }
              function xr(t, e) {
                return t > e
              }
              function Tr(t, e) {
                return t >= e
              }
              function Rr(t) {
                return (
                  g(t) && Zn(t) && ea.call(t, 'callee') && !la.call(t, 'callee')
                )
              }
              function Mr(t) {
                return t === !0 || t === !1 || (g(t) && ia.call(t) == $)
              }
              function Sr(t) {
                return g(t) && ia.call(t) == q
              }
              function Pr(t) {
                return !!t && t.nodeType === 1 && g(t) && !Ur(t)
              }
              function Or(t) {
                return t == null
                  ? !0
                  : Zn(t) && (Os(t) || Br(t) || Rr(t) || (g(t) && jr(t.splice)))
                    ? !t.length
                    : !Us(t).length
              }
              function Cr(t, e, n, i) {
                n = typeof n === 'function' ? an(n, i, 3) : R
                var r = n ? n(t, e) : R
                return r === R ? He(t, e, n) : !!r
              }
              function Ar(t) {
                return g(t) && typeof t.message === 'string' && ia.call(t) == Y
              }
              function kr(t) {
                return typeof t === 'number' && Ea(t)
              }
              function jr(t) {
                return Fr(t) && ia.call(t) == X
              }
              function Fr(t) {
                var e = typeof t
                return !!t && (e == 'object' || e == 'function')
              }
              function Hr(t, e, n, i) {
                return (
                  (n = typeof n === 'function' ? an(n, i, 3) : R),
                  De(t, Gn(e), n)
                )
              }
              function Lr(t) {
                return Nr(t) && t != +t
              }
              function Dr(t) {
                return t == null
                  ? !1
                  : jr(t)
                    ? oa.test(ta.call(t))
                    : g(t) && Ft.test(t)
              }
              function Ir(t) {
                return t === null
              }
              function Nr(t) {
                return typeof t === 'number' || (g(t) && ia.call(t) == K)
              }
              function Ur(t) {
                var e
                if (
                  !g(t) ||
                  ia.call(t) != J ||
                  Rr(t) ||
                  (!ea.call(t, 'constructor') &&
                    ((e = t.constructor),
                      'function' === typeof e && !(e instanceof e)))
                ) { return !1}
                var n
                return (
                  Ce(t, function(t, e) {
                    n = e
                  }),
                  n === R || ea.call(t, n)
                )
              }
              function Vr(t) {
                return Fr(t) && ia.call(t) == tt
              }
              function Br(t) {
                return typeof t === 'string' || (g(t) && ia.call(t) == nt)
              }
              function zr(t) {
                return g(t) && ni(t.length) && !!Bt[ia.call(t)]
              }
              function Gr(t) {
                return t === R
              }
              function Wr(t, e) {
                return e > t
              }
              function Qr(t, e) {
                return e >= t
              }
              function $r(t) {
                var e = t ? Ba(t) : 0
                return ni(e) ? (e ? te(t) : []) : oo(t)
              }
              function qr(t) {
                return _e(t, to(t))
              }
              function Yr(t, e, n) {
                var i = Ha(t)
                return n && Jn(t, e, n) && (e = R), e ? ge(i, e) : i
              }
              function Xr(t) {
                return je(t, to(t))
              }
              function Zr(t, e, n) {
                var i = t == null ? R : Fe(t, fi(e), e + '')
                return i === R ? n : i
              }
              function Kr(t, e) {
                if (t == null) return !1
                var n = ea.call(t, e)
                if (!n && !ti(e)) {
                  if (
                    ((e = fi(e)),
                      (t = e.length == 1 ? t : Fe(t, qe(e, 0, -1))),
                      t == null)
                  ) { return !1}
                  (e = Mi(e)), (n = ea.call(t, e))
                }
                return (
                  n || (ni(t.length) && Kn(e, t.length) && (Os(t) || Rr(t)))
                )
              }
              function Jr(t, e, n) {
                n && Jn(t, e, n) && (e = R)
                for (var i = -1, r = Us(t), o = r.length, a = {}; ++i < o;) {
                  var s = r[i],
                    c = t[s]
                  e
                    ? ea.call(a, c)
                      ? a[c].push(s)
                      : (a[c] = [s])
                    : (a[c] = s)
                }
                return a
              }
              function to(t) {
                if (t == null) return []
                Fr(t) || (t = $o(t))
                var e = t.length
                e = (e && ni(e) && (Os(t) || Rr(t)) && e) || 0
                for (
                  var n = t.constructor,
                    i = -1,
                    r = typeof n === 'function' && n.prototype === t,
                    o = Vo(e),
                    a = e > 0;
                  ++i < e;

                ) { o[i] = i + ''; }
                for (var s in t) {
(a && Kn(s, e)) ||
                    ('constructor' == s && (r || !ea.call(t, s))) ||
                    o.push(s)}
                return o
              }
              function eo(t) {
                t = hi(t)
                for (
                  var e = -1, n = Us(t), i = n.length, r = Vo(i);
                  ++e < i;

                ) {
                  var o = n[e]
                  r[e] = [o, t[o]]
                }
                return r
              }
              function no(t, e, n) {
                var i = t == null ? R : t[e]
                return (
                  i === R &&
                    (t == null ||
                      ti(e, t) ||
                      ((e = fi(e)),
                        (t = e.length == 1 ? t : Fe(t, qe(e, 0, -1))),
                        (i = t == null ? R : t[Mi(e)])),
                      (i = i === R ? n : i)),
                  jr(i) ? i.call(t) : i
                )
              }
              function io(t, e, n) {
                if (t == null) return t
                var i = e + ''
                e = t[i] != null || ti(e, t) ? [i] : fi(e)
                for (
                  var r = -1, o = e.length, a = o - 1, s = t;
                  s != null && ++r < o;

                ) {
                  var c = e[r]
                  Fr(s) &&
                    (r == a
                      ? (s[c] = n)
                      : s[c] == null && (s[c] = Kn(e[r + 1]) ? [] : {})),
                  (s = s[c])
                }
                return t
              }
              function ro(t, e, n, i) {
                var r = Os(t) || zr(t)
                if (((e = Vn(e, i, 4)), n == null)) { if (r || Fr(t)) {
                  var o = t.constructor
                    n = r
                    ? Os(t)
                      ? new o()
                      : []
                    : Ha(jr(o) ? o.prototype : R)
                  } else n = {}}
                return (
                  (r ? ee : Ae)(t, function(t, i, r) {
                    return e(n, t, i, r)
                  }),
                  n
                )
              }
              function oo(t) {
                return tn(t, Us(t))
              }
              function ao(t) {
                return tn(t, to(t))
              }
              function so(t, e, n) {
                return (
                  (e = +e || 0),
                  n === R ? ((n = e), (e = 0)) : (n = +n || 0),
                  t >= xa(e, n) && t < wa(e, n)
                )
              }
              function co(t, e, n) {
                n && Jn(t, e, n) && (e = n = R)
                var i = t == null,
                  r = e == null
                if (
                  (n == null &&
                    (r && typeof t === 'boolean'
                      ? ((n = t), (t = 1))
                      : typeof e === 'boolean' && ((n = e), (r = !0))),
                    i && r && ((e = 1), (r = !1)),
                    (t = +t || 0),
                    r ? ((e = t), (t = 0)) : (e = +e || 0),
                    n || t % 1 || e % 1)
                ) {
                  var o = Ma()
                  return xa(
                    t + o * (e - t + ca('1e-' + ((o + '').length - 1))),
                    e
                  )
                }
                return Qe(t, e)
              }
              function uo(t) {
                return (t = s(t)), t && t.charAt(0).toUpperCase() + t.slice(1)
              }
              function lo(t) {
                return (t = s(t)), t && t.replace(Lt, f).replace(Ot, '')
              }
              function ho(t, e, n) {
                (t = s(t)), (e += '')
                var i = t.length
                return (
                  (n = n === R ? i : xa(n < 0 ? 0 : +n || 0, i)),
                  (n -= e.length),
                  n >= 0 && t.indexOf(e, n) == n
                )
              }
              function fo(t) {
                return (t = s(t)), t && Et.test(t) ? t.replace(yt, p) : t
              }
              function po(t) {
                return (
                  (t = s(t)), t && Pt.test(t) ? t.replace(St, d) : t || '(?:)'
                )
              }
              function mo(t, e, n) {
                (t = s(t)), (e = +e)
                var i = t.length
                if (i >= e || !Ea(e)) return t
                var r = (e - i) / 2,
                  o = ya(r),
                  a = va(r)
                return (n = jn('', a, n)), n.slice(0, o) + t + n
              }
              function vo(t, e, n) {
                return (
                  (n ? Jn(t, e, n) : e == null) ? (e = 0) : e && (e = +e),
                  (t = Eo(t)),
                  Ra(t, e || (jt.test(t) ? 16 : 10))
                )
              }
              function go(t, e) {
                var n = ''
                if (((t = s(t)), (e = +e), e < 1 || !t || !Ea(e))) return n
                do e % 2 && (n += t), (e = ya(e / 2)), (t += t)
                while (e)
                return n
              }
              function yo(t, e, n) {
                return (
                  (t = s(t)),
                  (n = n == null ? 0 : xa(n < 0 ? 0 : +n || 0, t.length)),
                  t.lastIndexOf(e, n) == n
                )
              }
              function _o(t, n, i) {
                var r = e.templateSettings
                i && Jn(t, n, i) && (n = i = R),
                (t = s(t)),
                (n = ve(ge({}, i || n), r, me))
                var o,
                  a,
                  c = ve(ge({}, n.imports), r.imports, me),
                  u = Us(c),
                  l = tn(c, u),
                  h = 0,
                  f = n.interpolate || Dt,
                  p = "__p += '",
                  d = qo(
                    (n.escape || Dt).source +
                      '|' +
                      f.source +
                      '|' +
                      (f === xt ? At : Dt).source +
                      '|' +
                      (n.evaluate || Dt).source +
                      '|$',
                    'g'
                  ),
                  v =
                    '//# sourceURL=' +
                    ('sourceURL' in n
                      ? n.sourceURL
                      : 'lodash.templateSources[' + ++Vt + ']') +
                    '\n'
                t.replace(d, function(e, n, i, r, s, c) {
                  return (
                    i || (i = r),
                    (p += t.slice(h, c).replace(It, m)),
                    n && ((o = !0), (p += "' +\n__e(" + n + ") +\n'")),
                    s && ((a = !0), (p += "';\n" + s + ";\n__p += '")),
                    i &&
                      (p +=
                        "' +\n((__t = (" + i + ")) == null ? '' : __t) +\n'"),
                    (h = c + e.length),
                    e
                  )
                }),
                (p += "';\n")
                var g = n.variable
                g || (p = 'with (obj) {\n' + p + '\n}\n'),
                (p = (a ? p.replace(dt, '') : p)
                  .replace(mt, '$1')
                  .replace(vt, '$1;')),
                (p =
                    'function(' +
                    (g || 'obj') +
                    ') {\n' +
                    (g ? '' : 'obj || (obj = {});\n') +
                    "var __t, __p = ''" +
                    (o ? ', __e = _.escape' : '') +
                    (a
                      ? ", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n"
                      : ';\n') +
                    p +
                    'return __p\n}')
                var y = Zs(function() {
                  return Go(u, v + 'return ' + p).apply(R, l)
                })
                if (((y.source = p), Ar(y))) throw y
                return y
              }
              function Eo(t, e, n) {
                var i = t
                return (t = s(t))
                  ? (n
                    ? Jn(i, e, n)
                    : e == null)
                    ? t.slice(b(t), w(t) + 1)
                    : ((e += ''), t.slice(c(t, e), u(t, e) + 1))
                  : t
              }
              function bo(t, e, n) {
                var i = t
                return (
                  (t = s(t)),
                  t
                    ? (n
                      ? Jn(i, e, n)
                      : e == null)
                      ? t.slice(b(t))
                      : t.slice(c(t, e + ''))
                    : t
                )
              }
              function wo(t, e, n) {
                var i = t
                return (
                  (t = s(t)),
                  t
                    ? (n
                      ? Jn(i, e, n)
                      : e == null)
                      ? t.slice(0, w(t) + 1)
                      : t.slice(0, u(t, e + '') + 1)
                    : t
                )
              }
              function xo(t, e, n) {
                n && Jn(t, e, n) && (e = R)
                var i = L,
                  r = D
                if (e != null) {
if (Fr(e)) {
                  var o = 'separator' in e ? e.separator : o;
                  (i = 'length' in e ? +e.length || 0 : i),
                  (r = 'omission' in e ? s(e.omission) : r)
                  } else i = +e || 0}
                if (((t = s(t)), i >= t.length)) return t
                var a = i - r.length
                if (a < 1) return r
                var c = t.slice(0, a)
                if (o == null) return c + r
                if (Vr(o)) {
                  if (t.slice(a).search(o)) {
                    var u,
                      l,
                      h = t.slice(0, a)
                    for (
                      o.global || (o = qo(o.source, (kt.exec(o) || '') + 'g')),
                      o.lastIndex = 0;
                      (u = o.exec(h));

                    ) { l = u.index}
                    c = c.slice(0, l == null ? a : l)
                  }
                } else if (t.indexOf(o, a) != a) {
                  var f = c.lastIndexOf(o)
                  f > -1 && (c = c.slice(0, f))
                }
                return c + r
              }
              function To(t) {
                return (t = s(t)), t && _t.test(t) ? t.replace(gt, x) : t
              }
              function Ro(t, e, n) {
                return (
                  n && Jn(t, e, n) && (e = R),
                  (t = s(t)),
                  t.match(e || Nt) || []
                )
              }
              function Mo(t, e, n) {
                return n && Jn(t, e, n) && (e = R), g(t) ? Oo(t) : Ee(t, e)
              }
              function So(t) {
                return function() {
                  return t
                }
              }
              function Po(t) {
                return t
              }
              function Oo(t) {
                return Ne(be(t, !0))
              }
              function Co(t, e) {
                return Ue(t, be(e, !0))
              }
              function Ao(t, e, n) {
                if (n == null) {
                  var i = Fr(e),
                    r = i ? Us(e) : R,
                    o = r && r.length ? je(e, r) : R;
                  (o ? o.length : i) ||
                    ((o = !1), (n = e), (e = t), (t = this))
                }
                o || (o = je(e, Us(e)))
                var a = !0,
                  s = -1,
                  c = jr(t),
                  u = o.length
                n === !1 ? (a = !1) : Fr(n) && 'chain' in n && (a = n.chain)
                for (; ++s < u;) {
                  var l = o[s],
                    h = e[l];
                  (t[l] = h),
                  c &&
                      (t.prototype[l] = (function(e) {
                        return function() {
                          var n = this.__chain__
                          if (a || n) {
                            var i = t(this.__wrapped__),
                              r = (i.__actions__ = te(this.__actions__))
                            return (
                              r.push({ func: e, args: arguments, thisArg: t }),
                              (i.__chain__ = n),
                              i
                            )
                          }
                          return e.apply(t, ue([this.value()], arguments))
                        }
                      })(h))
                }
                return t
              }
              function ko() {
                return (ne._ = ra), this
              }
              function jo() {}
              function Fo(t) {
                return ti(t) ? ze(t) : Ge(t)
              }
              function Ho(t) {
                return function(e) {
                  return Fe(t, fi(e), e + '')
                }
              }
              function Lo(t, e, n) {
                n && Jn(t, e, n) && (e = n = R),
                (t = +t || 0),
                (n = n == null ? 1 : +n || 0),
                e == null ? ((e = t), (t = 0)) : (e = +e || 0)
                for (
                  var i = -1, r = wa(va((e - t) / (n || 1)), 0), o = Vo(r);
                  ++i < r;

                ) { (o[i] = t), (t += n)}
                return o
              }
              function Do(t, e, n) {
                if (((t = ya(t)), t < 1 || !Ea(t))) return []
                var i = -1,
                  r = Vo(xa(t, Oa))
                for (e = an(e, n, 1); ++i < t;) Oa > i ? (r[i] = e(i)) : e(i)
                return r
              }
              function Io(t) {
                var e = ++na
                return s(t) + e
              }
              function No(t, e) {
                return (+t || 0) + (+e || 0)
              }
              function Uo(t, e, n) {
                return (
                  n && Jn(t, e, n) && (e = R),
                  (e = Vn(e, n, 3)),
                  e.length == 1 ? pe(Os(t) ? t : li(t), e) : Ke(t, e)
                )
              }
              t = t ? ie.defaults(ne.Object(), t, ie.pick(ne, Ut)) : ne
              var Vo = t.Array,
                Bo = t.Date,
                zo = t.Error,
                Go = t.Function,
                Wo = t.Math,
                Qo = t.Number,
                $o = t.Object,
                qo = t.RegExp,
                Yo = t.String,
                Xo = t.TypeError,
                Zo = Vo.prototype,
                Ko = $o.prototype,
                Jo = Yo.prototype,
                ta = Go.prototype.toString,
                ea = Ko.hasOwnProperty,
                na = 0,
                ia = Ko.toString,
                ra = ne._,
                oa = qo(
                  '^' +
                    ta
                      .call(ea)
                      .replace(/[\\^$.*+?()[\]{}|]/g, '\\$&')
                      .replace(
                        /hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,
                        '$1.*?'
                      ) +
                    '$'
                ),
                aa = t.ArrayBuffer,
                sa = t.clearTimeout,
                ca = t.parseFloat,
                ua = Wo.pow,
                la = Ko.propertyIsEnumerable,
                ha = Wn(t, 'Set'),
                fa = t.setTimeout,
                pa = Zo.splice,
                da = t.Uint8Array,
                ma = Wn(t, 'WeakMap'),
                va = Wo.ceil,
                ga = Wn($o, 'create'),
                ya = Wo.floor,
                _a = Wn(Vo, 'isArray'),
                Ea = t.isFinite,
                ba = Wn($o, 'keys'),
                wa = Wo.max,
                xa = Wo.min,
                Ta = Wn(Bo, 'now'),
                Ra = t.parseInt,
                Ma = Wo.random,
                Sa = Qo.NEGATIVE_INFINITY,
                Pa = Qo.POSITIVE_INFINITY,
                Oa = 4294967295,
                Ca = Oa - 1,
                Aa = Oa >>> 1,
                ka = 9007199254740991,
                ja = ma && new ma(),
                Fa = {}
              e.support = {}
              e.templateSettings = {
                escape: bt,
                evaluate: wt,
                interpolate: xt,
                variable: '',
                imports: { _: e }
              }
              var Ha = (function() {
                  function t() {}
                  return function(e) {
                    if (Fr(e)) {
                      t.prototype = e
                      var n = new t()
                      t.prototype = R
                    }
                    return n || {}
                  }
                })(),
                La = fn(Ae),
                Da = fn(ke, !0),
                Ia = pn(),
                Na = pn(!0),
                Ua = ja
                  ? function(t, e) {
                    return ja.set(t, e), t
                  }
                  : Po,
                Va = ja
                  ? function(t) {
                    return ja.get(t)
                  }
                  : jo,
                Ba = ze('length'),
                za = (function() {
                  var t = 0,
                    e = 0
                  return function(n, i) {
                    var r = ms(),
                      o = N - (r - e)
                    if (((e = r), o > 0)) {
                      if (++t >= I) return n
                    } else t = 0
                    return Ua(n, i)
                  }
                })(),
                Ga = gr(function(t, e) {
                  return g(t) && Zn(t) ? xe(t, Oe(e, !1, !0)) : []
                }),
                Wa = wn(),
                Qa = wn(!0),
                $a = gr(function(t) {
                  for (
                    var e = t.length,
                      n = e,
                      i = Vo(h),
                      r = zn(),
                      a = r == o,
                      s = [];
                    n--;

                  ) {
                    var c = (t[n] = Zn((c = t[n])) ? c : [])
                    i[n] = a && c.length >= 120 ? mn(n && c) : null
                  }
                  var u = t[0],
                    l = -1,
                    h = u ? u.length : 0,
                    f = i[0]
                  t: for (; ++l < h;) { if (((c = u[l]), (f ? Zt(f, c) : r(s, c, 0)) < 0)) {
                    for (var n = e; --n;) {
                      var p = i[n]
                        if ((p ? Zt(p, c) : r(t[n], c, 0)) < 0) continue t
                      }
                    f && f.push(c), s.push(c)
                    }}
                  return s
                }),
                qa = gr(function(t, e) {
                  e = Oe(e)
                  var n = ye(t, e)
                  return We(t, e.sort(i)), n
                }),
                Ya = Ln(),
                Xa = Ln(!0),
                Za = gr(function(t) {
                  return Je(Oe(t, !1, !0))
                }),
                Ka = gr(function(t, e) {
                  return Zn(t) ? xe(t, e) : []
                }),
                Ja = gr(Di),
                ts = gr(function(t) {
                  var e = t.length,
                    n = e > 2 ? t[e - 2] : R,
                    i = e > 1 ? t[e - 1] : R
                  return (
                    e > 2 && typeof n === 'function'
                      ? (e -= 2)
                      : ((n = e > 1 && typeof i === 'function' ? (--e, i) : R),
                        (i = R)),
                    (t.length = e),
                    Ii(t, n, i)
                  )
                }),
                es = gr(function(t) {
                  return (
                    (t = Oe(t)),
                    this.thru(function(e) {
                      return Jt(Os(e) ? e : [hi(e)], t)
                    })
                  )
                }),
                ns = gr(function(t, e) {
                  return ye(t, Oe(e))
                }),
                is = ln(function(t, e, n) {
                  ea.call(t, n) ? ++t[n] : (t[n] = 1)
                }),
                rs = bn(La),
                os = bn(Da, !0),
                as = Rn(ee, La),
                ss = Rn(re, Da),
                cs = ln(function(t, e, n) {
                  ea.call(t, n) ? t[n].push(e) : (t[n] = [e])
                }),
                us = ln(function(t, e, n) {
                  t[n] = e
                }),
                ls = gr(function(t, e, n) {
                  var i = -1,
                    r = typeof e === 'function',
                    o = ti(e),
                    a = Zn(t) ? Vo(t.length) : []
                  return (
                    La(t, function(t) {
                      var s = r ? e : o && t != null ? t[e] : R
                      a[++i] = s ? s.apply(t, n) : Xn(t, e, n)
                    }),
                    a
                  )
                }),
                hs = ln(
                  function(t, e, n) {
                    t[n ? 0 : 1].push(e)
                  },
                  function() {
                    return [[], []]
                  }
                ),
                fs = An(le, La),
                ps = An(he, Da),
                ds = gr(function(t, e) {
                  if (t == null) return []
                  var n = e[2]
                  return (
                    n && Jn(e[0], e[1], n) && (e.length = 1), Ze(t, Oe(e), [])
                  )
                }),
                ms =
                  Ta ||
                  function() {
                    return new Bo().getTime()
                  },
                vs = gr(function(t, e, n) {
                  var i = S
                  if (n.length) {
                    var r = _(n, vs.placeholder)
                    i |= k
                  }
                  return Dn(t, i, e, n, r)
                }),
                gs = gr(function(t, e) {
                  e = e.length ? Oe(e) : Xr(t)
                  for (var n = -1, i = e.length; ++n < i;) {
                    var r = e[n]
                    t[r] = Dn(t[r], S, t)
                  }
                  return t
                }),
                ys = gr(function(t, e, n) {
                  var i = S | P
                  if (n.length) {
                    var r = _(n, ys.placeholder)
                    i |= k
                  }
                  return Dn(e, i, t, n, r)
                }),
                _s = yn(C),
                Es = yn(A),
                bs = gr(function(t, e) {
                  return we(t, 1, e)
                }),
                ws = gr(function(t, e, n) {
                  return we(t, e, n)
                }),
                xs = Tn(),
                Ts = Tn(!0),
                Rs = gr(function(t, e) {
                  if (((e = Oe(e)), typeof t !== 'function' || !oe(e, a))) { throw new Xo(z)}
                  var n = e.length
                  return gr(function(i) {
                    for (var r = xa(i.length, n); r--;) i[r] = e[r](i[r])
                    return t.apply(this, i)
                  })
                }),
                Ms = Cn(k),
                Ss = Cn(j),
                Ps = gr(function(t, e) {
                  return Dn(t, H, R, R, R, Oe(e))
                }),
                Os =
                  _a ||
                  function(t) {
                    return g(t) && ni(t.length) && ia.call(t) == Q
                  },
                Cs = hn(Ve),
                As = hn(function(t, e, n) {
                  return n ? ve(t, e, n) : ge(t, e)
                }),
                ks = _n(As, de),
                js = _n(Cs, oi),
                Fs = xn(Ae),
                Hs = xn(ke),
                Ls = Mn(Ia),
                Ds = Mn(Na),
                Is = Sn(Ae),
                Ns = Sn(ke),
                Us = ba
                  ? function(t) {
                    var e = t == null ? R : t.constructor
                    return (typeof e === 'function' && e.prototype === t) ||
                        (typeof t !== 'function' && Zn(t))
                      ? ui(t)
                      : Fr(t)
                        ? ba(t)
                        : []
                  }
                  : ui,
                Vs = Pn(!0),
                Bs = Pn(),
                zs = gr(function(t, e) {
                  if (t == null) return {}
                  if (typeof e[0] !== 'function') {
                    var e = ce(Oe(e), Yo)
                    return ai(t, xe(to(t), e))
                  }
                  var n = an(e[0], e[1], 3)
                  return si(t, function(t, e, i) {
                    return !n(t, e, i)
                  })
                }),
                Gs = gr(function(t, e) {
                  return t == null
                    ? {}
                    : typeof e[0] === 'function'
                      ? si(t, an(e[0], e[1], 3))
                      : ai(t, Oe(e))
                }),
                Ws = vn(function(t, e, n) {
                  return (
                    (e = e.toLowerCase()),
                    t + (n ? e.charAt(0).toUpperCase() + e.slice(1) : e)
                  )
                }),
                Qs = vn(function(t, e, n) {
                  return t + (n ? '-' : '') + e.toLowerCase()
                }),
                $s = On(),
                qs = On(!0),
                Ys = vn(function(t, e, n) {
                  return t + (n ? '_' : '') + e.toLowerCase()
                }),
                Xs = vn(function(t, e, n) {
                  return (
                    t +
                    (n ? ' ' : '') +
                    (e.charAt(0).toUpperCase() + e.slice(1))
                  )
                }),
                Zs = gr(function(t, e) {
                  try {
                    return t.apply(R, e)
                  } catch (n) {
                    return Ar(n) ? n : new zo(n)
                  }
                }),
                Ks = gr(function(t, e) {
                  return function(n) {
                    return Xn(n, t, e)
                  }
                }),
                Js = gr(function(t, e) {
                  return function(n) {
                    return Xn(t, n, e)
                  }
                }),
                tc = Hn('ceil'),
                ec = Hn('floor'),
                nc = En(xr, Sa),
                ic = En(Wr, Pa),
                rc = Hn('round')
              return (
                (e.prototype = n.prototype),
                (y.prototype = Ha(n.prototype)),
                (y.prototype.constructor = y),
                (Z.prototype = Ha(n.prototype)),
                (Z.prototype.constructor = Z),
                (Wt.prototype['delete'] = Qt),
                (Wt.prototype.get = $t),
                (Wt.prototype.has = qt),
                (Wt.prototype.set = Yt),
                (Xt.prototype.push = Kt),
                (dr.Cache = Wt),
                (e.after = lr),
                (e.ary = hr),
                (e.assign = As),
                (e.at = ns),
                (e.before = fr),
                (e.bind = vs),
                (e.bindAll = gs),
                (e.bindKey = ys),
                (e.callback = Mo),
                (e.chain = Vi),
                (e.chunk = di),
                (e.compact = mi),
                (e.constant = So),
                (e.countBy = is),
                (e.create = Yr),
                (e.curry = _s),
                (e.curryRight = Es),
                (e.debounce = pr),
                (e.defaults = ks),
                (e.defaultsDeep = js),
                (e.defer = bs),
                (e.delay = ws),
                (e.difference = Ga),
                (e.drop = vi),
                (e.dropRight = gi),
                (e.dropRightWhile = yi),
                (e.dropWhile = _i),
                (e.fill = Ei),
                (e.filter = Zi),
                (e.flatten = wi),
                (e.flattenDeep = xi),
                (e.flow = xs),
                (e.flowRight = Ts),
                (e.forEach = as),
                (e.forEachRight = ss),
                (e.forIn = Ls),
                (e.forInRight = Ds),
                (e.forOwn = Is),
                (e.forOwnRight = Ns),
                (e.functions = Xr),
                (e.groupBy = cs),
                (e.indexBy = us),
                (e.initial = Ri),
                (e.intersection = $a),
                (e.invert = Jr),
                (e.invoke = ls),
                (e.keys = Us),
                (e.keysIn = to),
                (e.map = tr),
                (e.mapKeys = Vs),
                (e.mapValues = Bs),
                (e.matches = Oo),
                (e.matchesProperty = Co),
                (e.memoize = dr),
                (e.merge = Cs),
                (e.method = Ks),
                (e.methodOf = Js),
                (e.mixin = Ao),
                (e.modArgs = Rs),
                (e.negate = mr),
                (e.omit = zs),
                (e.once = vr),
                (e.pairs = eo),
                (e.partial = Ms),
                (e.partialRight = Ss),
                (e.partition = hs),
                (e.pick = Gs),
                (e.pluck = er),
                (e.property = Fo),
                (e.propertyOf = Ho),
                (e.pull = Pi),
                (e.pullAt = qa),
                (e.range = Lo),
                (e.rearg = Ps),
                (e.reject = nr),
                (e.remove = Oi),
                (e.rest = Ci),
                (e.restParam = gr),
                (e.set = io),
                (e.shuffle = rr),
                (e.slice = Ai),
                (e.sortBy = sr),
                (e.sortByAll = ds),
                (e.sortByOrder = cr),
                (e.spread = yr),
                (e.take = ki),
                (e.takeRight = ji),
                (e.takeRightWhile = Fi),
                (e.takeWhile = Hi),
                (e.tap = Bi),
                (e.throttle = _r),
                (e.thru = zi),
                (e.times = Do),
                (e.toArray = $r),
                (e.toPlainObject = qr),
                (e.transform = ro),
                (e.union = Za),
                (e.uniq = Li),
                (e.unzip = Di),
                (e.unzipWith = Ii),
                (e.values = oo),
                (e.valuesIn = ao),
                (e.where = ur),
                (e.without = Ka),
                (e.wrap = Er),
                (e.xor = Ni),
                (e.zip = Ja),
                (e.zipObject = Ui),
                (e.zipWith = ts),
                (e.backflow = Ts),
                (e.collect = tr),
                (e.compose = Ts),
                (e.each = as),
                (e.eachRight = ss),
                (e.extend = As),
                (e.iteratee = Mo),
                (e.methods = Xr),
                (e.object = Ui),
                (e.select = Zi),
                (e.tail = Ci),
                (e.unique = Li),
                Ao(e, e),
                (e.add = No),
                (e.attempt = Zs),
                (e.camelCase = Ws),
                (e.capitalize = uo),
                (e.ceil = tc),
                (e.clone = br),
                (e.cloneDeep = wr),
                (e.deburr = lo),
                (e.endsWith = ho),
                (e.escape = fo),
                (e.escapeRegExp = po),
                (e.every = Xi),
                (e.find = rs),
                (e.findIndex = Wa),
                (e.findKey = Fs),
                (e.findLast = os),
                (e.findLastIndex = Qa),
                (e.findLastKey = Hs),
                (e.findWhere = Ki),
                (e.first = bi),
                (e.floor = ec),
                (e.get = Zr),
                (e.gt = xr),
                (e.gte = Tr),
                (e.has = Kr),
                (e.identity = Po),
                (e.includes = Ji),
                (e.indexOf = Ti),
                (e.inRange = so),
                (e.isArguments = Rr),
                (e.isArray = Os),
                (e.isBoolean = Mr),
                (e.isDate = Sr),
                (e.isElement = Pr),
                (e.isEmpty = Or),
                (e.isEqual = Cr),
                (e.isError = Ar),
                (e.isFinite = kr),
                (e.isFunction = jr),
                (e.isMatch = Hr),
                (e.isNaN = Lr),
                (e.isNative = Dr),
                (e.isNull = Ir),
                (e.isNumber = Nr),
                (e.isObject = Fr),
                (e.isPlainObject = Ur),
                (e.isRegExp = Vr),
                (e.isString = Br),
                (e.isTypedArray = zr),
                (e.isUndefined = Gr),
                (e.kebabCase = Qs),
                (e.last = Mi),
                (e.lastIndexOf = Si),
                (e.lt = Wr),
                (e.lte = Qr),
                (e.max = nc),
                (e.min = ic),
                (e.noConflict = ko),
                (e.noop = jo),
                (e.now = ms),
                (e.pad = mo),
                (e.padLeft = $s),
                (e.padRight = qs),
                (e.parseInt = vo),
                (e.random = co),
                (e.reduce = fs),
                (e.reduceRight = ps),
                (e.repeat = go),
                (e.result = no),
                (e.round = rc),
                (e.runInContext = T),
                (e.size = or),
                (e.snakeCase = Ys),
                (e.some = ar),
                (e.sortedIndex = Ya),
                (e.sortedLastIndex = Xa),
                (e.startCase = Xs),
                (e.startsWith = yo),
                (e.sum = Uo),
                (e.template = _o),
                (e.trim = Eo),
                (e.trimLeft = bo),
                (e.trimRight = wo),
                (e.trunc = xo),
                (e.unescape = To),
                (e.uniqueId = Io),
                (e.words = Ro),
                (e.all = Xi),
                (e.any = ar),
                (e.contains = Ji),
                (e.eq = Cr),
                (e.detect = rs),
                (e.foldl = fs),
                (e.foldr = ps),
                (e.head = bi),
                (e.include = Ji),
                (e.inject = fs),
                Ao(
                  e,
                  (function() {
                    var t = {}
                    return (
                      Ae(e, function(n, i) {
                        e.prototype[i] || (t[i] = n)
                      }),
                      t
                    )
                  })(),
                  !1
                ),
                (e.sample = ir),
                (e.prototype.sample = function(t) {
                  return this.__chain__ || t != null
                    ? this.thru(function(e) {
                      return ir(e, t)
                    })
                    : ir(this.value())
                }),
                (e.VERSION = M),
                ee(
                  [
                    'bind',
                    'bindKey',
                    'curry',
                    'curryRight',
                    'partial',
                    'partialRight'
                  ],
                  function(t) {
                    e[t].placeholder = e
                  }
                ),
                ee(['drop', 'take'], function(t, e) {
                  (Z.prototype[t] = function(n) {
                    var i = this.__filtered__
                    if (i && !e) return new Z(this)
                    n = n == null ? 1 : wa(ya(n) || 0, 0)
                    var r = this.clone()
                    return (
                      i
                        ? (r.__takeCount__ = xa(r.__takeCount__, n))
                        : r.__views__.push({
                          size: n,
                          type: t + (r.__dir__ < 0 ? 'Right' : '')
                        }),
                      r
                    )
                  }),
                  (Z.prototype[t + 'Right'] = function(e) {
                    return this.reverse()
                      [t](e)
                      .reverse()
                  })
                }),
                ee(['filter', 'map', 'takeWhile'], function(t, e) {
                  var n = e + 1,
                    i = n != B
                  Z.prototype[t] = function(t, e) {
                    var r = this.clone()
                    return (
                      r.__iteratees__.push({ iteratee: Vn(t, e, 1), type: n }),
                      (r.__filtered__ = r.__filtered__ || i),
                      r
                    )
                  }
                }),
                ee(['first', 'last'], function(t, e) {
                  var n = 'take' + (e ? 'Right' : '')
                  Z.prototype[t] = function() {
                    return this[n](1).value()[0]
                  }
                }),
                ee(['initial', 'rest'], function(t, e) {
                  var n = 'drop' + (e ? '' : 'Right')
                  Z.prototype[t] = function() {
                    return this.__filtered__ ? new Z(this) : this[n](1)
                  }
                }),
                ee(['pluck', 'where'], function(t, e) {
                  var n = e ? 'filter' : 'map',
                    i = e ? Ne : Fo
                  Z.prototype[t] = function(t) {
                    return this[n](i(t))
                  }
                }),
                (Z.prototype.compact = function() {
                  return this.filter(Po)
                }),
                (Z.prototype.reject = function(t, e) {
                  return (
                    (t = Vn(t, e, 1)),
                    this.filter(function(e) {
                      return !t(e)
                    })
                  )
                }),
                (Z.prototype.slice = function(t, e) {
                  t = t == null ? 0 : +t || 0
                  var n = this
                  return n.__filtered__ && (t > 0 || e < 0)
                    ? new Z(n)
                    : (t < 0 ? (n = n.takeRight(-t)) : t && (n = n.drop(t)),
                      e !== R &&
                        ((e = +e || 0),
                          (n = e < 0 ? n.dropRight(-e) : n.take(e - t))),
                      n)
                }),
                (Z.prototype.takeRightWhile = function(t, e) {
                  return this.reverse()
                    .takeWhile(t, e)
                    .reverse()
                }),
                (Z.prototype.toArray = function() {
                  return this.take(Pa)
                }),
                Ae(Z.prototype, function(t, n) {
                  var i = /^(?:filter|map|reject)|While$/.test(n),
                    r = /^(?:first|last)$/.test(n),
                    o = e[r ? 'take' + (n == 'last' ? 'Right' : '') : n]
                  o &&
                    (e.prototype[n] = function() {
                      var e = r ? [1] : arguments,
                        n = this.__chain__,
                        a = this.__wrapped__,
                        s = !!this.__actions__.length,
                        c = a instanceof Z,
                        u = e[0],
                        l = c || Os(a)
                      l &&
                        i &&
                        typeof u === 'function' &&
                        u.length != 1 &&
                        (c = l = !1)
                      var h = function(t) {
                          return r && n ? o(t, 1)[0] : o.apply(R, ue([t], e))
                        },
                        f = { func: zi, args: [h], thisArg: R },
                        p = c && !s
                      if (r && !n) {
return p
                        ? ((a = a.clone()), a.__actions__.push(f), t.call(a))
                        : o.call(R, this.value())[0]}
                      if (!r && l) {
                        a = p ? a : new Z(this)
                        var d = t.apply(a, e)
                        return d.__actions__.push(f), new y(d, n)
                      }
                      return this.thru(h)
                    })
                }),
                ee(
                  [
                    'join',
                    'pop',
                    'push',
                    'replace',
                    'shift',
                    'sort',
                    'splice',
                    'split',
                    'unshift'
                  ],
                  function(t) {
                    var n = (/^(?:replace|split)$/.test(t) ? Jo : Zo)[t],
                      i = /^(?:push|sort|unshift)$/.test(t) ? 'tap' : 'thru',
                      r = /^(?:join|pop|replace|shift)$/.test(t)
                    e.prototype[t] = function() {
                      var t = arguments
                      return r && !this.__chain__
                        ? n.apply(this.value(), t)
                        : this[i](function(e) {
                          return n.apply(e, t)
                        })
                    }
                  }
                ),
                Ae(Z.prototype, function(t, n) {
                  var i = e[n]
                  if (i) {
                    var r = i.name,
                      o = Fa[r] || (Fa[r] = [])
                    o.push({ name: n, func: i })
                  }
                }),
                (Fa[kn(R, P).name] = [{ name: 'wrapper', func: R }]),
                (Z.prototype.clone = et),
                (Z.prototype.reverse = it),
                (Z.prototype.value = Gt),
                (e.prototype.chain = Gi),
                (e.prototype.commit = Wi),
                (e.prototype.concat = es),
                (e.prototype.plant = Qi),
                (e.prototype.reverse = $i),
                (e.prototype.toString = qi),
                (e.prototype.run = e.prototype.toJSON = e.prototype.valueOf = e.prototype.value = Yi),
                (e.prototype.collect = e.prototype.map),
                (e.prototype.head = e.prototype.first),
                (e.prototype.select = e.prototype.filter),
                (e.prototype.tail = e.prototype.rest),
                e
              )
            }
            var R,
              M = '3.10.1',
              S = 1,
              P = 2,
              O = 4,
              C = 8,
              A = 16,
              k = 32,
              j = 64,
              F = 128,
              H = 256,
              L = 30,
              D = '...',
              I = 150,
              N = 16,
              U = 200,
              V = 1,
              B = 2,
              z = 'Expected a function',
              G = '__lodash_placeholder__',
              W = '[object Arguments]',
              Q = '[object Array]',
              $ = '[object Boolean]',
              q = '[object Date]',
              Y = '[object Error]',
              X = '[object Function]',
              Z = '[object Map]',
              K = '[object Number]',
              J = '[object Object]',
              tt = '[object RegExp]',
              et = '[object Set]',
              nt = '[object String]',
              it = '[object WeakMap]',
              rt = '[object ArrayBuffer]',
              ot = '[object Float32Array]',
              at = '[object Float64Array]',
              st = '[object Int8Array]',
              ct = '[object Int16Array]',
              ut = '[object Int32Array]',
              lt = '[object Uint8Array]',
              ht = '[object Uint8ClampedArray]',
              ft = '[object Uint16Array]',
              pt = '[object Uint32Array]',
              dt = /\b__p \+= '';/g,
              mt = /\b(__p \+=) '' \+/g,
              vt = /(__e\(.*?\)|\b__t\)) \+\n'';/g,
              gt = /&(?:amp|lt|gt|quot|#39|#96);/g,
              yt = /[&<>"'`]/g,
              _t = RegExp(gt.source),
              Et = RegExp(yt.source),
              bt = /<%-([\s\S]+?)%>/g,
              wt = /<%([\s\S]+?)%>/g,
              xt = /<%=([\s\S]+?)%>/g,
              Tt = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,
              Rt = /^\w*$/,
              Mt = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,
              St = /^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,
              Pt = RegExp(St.source),
              Ot = /[\u0300-\u036f\ufe20-\ufe23]/g,
              Ct = /\\(\\)?/g,
              At = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,
              kt = /\w*$/,
              jt = /^0[xX]/,
              Ft = /^\[object .+?Constructor\]$/,
              Ht = /^\d+$/,
              Lt = /[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,
              Dt = /($^)/,
              It = /['\n\r\u2028\u2029\\]/g,
              Nt = (function() {
                var t = '[A-Z\\xc0-\\xd6\\xd8-\\xde]',
                  e = '[a-z\\xdf-\\xf6\\xf8-\\xff]+'
                return RegExp(
                  t +
                    '+(?=' +
                    t +
                    e +
                    ')|' +
                    t +
                    '?' +
                    e +
                    '|' +
                    t +
                    '+|[0-9]+',
                  'g'
                )
              })(),
              Ut = [
                'Array',
                'ArrayBuffer',
                'Date',
                'Error',
                'Float32Array',
                'Float64Array',
                'Function',
                'Int8Array',
                'Int16Array',
                'Int32Array',
                'Math',
                'Number',
                'Object',
                'RegExp',
                'Set',
                'String',
                '_',
                'clearTimeout',
                'isFinite',
                'parseFloat',
                'parseInt',
                'setTimeout',
                'TypeError',
                'Uint8Array',
                'Uint8ClampedArray',
                'Uint16Array',
                'Uint32Array',
                'WeakMap'
              ],
              Vt = -1,
              Bt = {};
            (Bt[ot] = Bt[at] = Bt[st] = Bt[ct] = Bt[ut] = Bt[lt] = Bt[ht] = Bt[
              ft
            ] = Bt[pt] = !0),
            (Bt[W] = Bt[Q] = Bt[rt] = Bt[$] = Bt[q] = Bt[Y] = Bt[X] = Bt[
              Z
            ] = Bt[K] = Bt[J] = Bt[tt] = Bt[et] = Bt[nt] = Bt[it] = !1)
            var zt = {};
            (zt[W] = zt[Q] = zt[rt] = zt[$] = zt[q] = zt[ot] = zt[at] = zt[
              st
            ] = zt[ct] = zt[ut] = zt[K] = zt[J] = zt[tt] = zt[nt] = zt[lt] = zt[
              ht
            ] = zt[ft] = zt[pt] = !0),
            (zt[Y] = zt[X] = zt[Z] = zt[et] = zt[it] = !1)
            var Gt = {
                : 'A',
                : 'A',
                : 'A',
                : 'A',
                : 'A',
                : 'A',
                : 'a',
                : 'a',
                : 'a',
                : 'a',
                : 'a',
                : 'a',
                : 'C',
                : 'c',
                : 'D',
                : 'd',
                : 'E',
                : 'E',
                : 'E',
                : 'E',
                : 'e',
                : 'e',
                : 'e',
                : 'e',
                : 'I',
                : 'I',
                : 'I',
                : 'I',
                : 'i',
                : 'i',
                : 'i',
                : 'i',
                : 'N',
                : 'n',
                : 'O',
                : 'O',
                : 'O',
                : 'O',
                : 'O',
                : 'O',
                : 'o',
                : 'o',
                : 'o',
                : 'o',
                : 'o',
                : 'o',
                : 'U',
                : 'U',
                : 'U',
                : 'U',
                : 'u',
                : 'u',
                : 'u',
                : 'u',
                : 'Y',
                : 'y',
                : 'y',
                : 'Ae',
                : 'ae',
                : 'Th',
                : 'th',
                : 'ss'
              },
              Wt = {
                '&': '&amp;',
                '<': '&lt;',
                '>': '&gt;',
                '"': '&quot;',
                "'": '&#39;',
                '`': '&#96;'
              },
              Qt = {
                '&amp;': '&',
                '&lt;': '<',
                '&gt;': '>',
                '&quot;': '"',
                '&#39;': "'",
                '&#96;': '`'
              },
              $t = { function: !0, object: !0 },
              qt = {
                0: 'x30',
                1: 'x31',
                2: 'x32',
                3: 'x33',
                4: 'x34',
                5: 'x35',
                6: 'x36',
                7: 'x37',
                8: 'x38',
                9: 'x39',
                A: 'x41',
                B: 'x42',
                C: 'x43',
                D: 'x44',
                E: 'x45',
                F: 'x46',
                a: 'x61',
                b: 'x62',
                c: 'x63',
                d: 'x64',
                e: 'x65',
                f: 'x66',
                n: 'x6e',
                r: 'x72',
                t: 'x74',
                u: 'x75',
                v: 'x76',
                x: 'x78'
              },
              Yt = {
                '\\': '\\',
                "'": "'",
                '\n': 'n',
                '\r': 'r',
                '\u2028': 'u2028',
                '\u2029': 'u2029'
              },
              Xt = $t[typeof n] && n && !n.nodeType && n,
              Zt = $t[typeof e] && e && !e.nodeType && e,
              Kt = Xt && Zt && typeof t === 'object' && t && t.Object && t,
              Jt = $t[typeof self] && self && self.Object && self,
              te = $t[typeof window] && window && window.Object && window,
              ee = Zt && Zt.exports === Xt && Xt,
              ne = Kt || (te !== (this && this.window) && te) || Jt || this,
              ie = T()
            'function' === typeof define &&
            typeof define.amd === 'object' &&
            define.amd
              ? ((ne._ = ie),
                define(function() {
                  return ie
                }))
              : Xt && Zt
                ? ee
                  ? ((Zt.exports = ie)._ = ie)
                  : (Xt._ = ie)
                : (ne._ = ie)
          }.call(this))
        }.call(
          this,
          typeof global !== 'undefined'
            ? global
            : typeof self !== 'undefined'
              ? self
              : typeof window !== 'undefined'
                ? window
                : {}
        ))
      },
      {}
    ],
    33: [
      function(t, e, n) {
        (function(t) {
          function e(t, e) {
            for (var n = 0, i = t.length - 1; i >= 0; i--) {
              var r = t[i]
              '.' === r
                ? t.splice(i, 1)
                : r === '..'
                  ? (t.splice(i, 1), n++)
                  : n && (t.splice(i, 1), n--)
            }
            if (e) for (; n--; n) t.unshift('..')
            return t
          }
          function i(t, e) {
            if (t.filter) return t.filter(e)
            for (var n = [], i = 0; i < t.length; i++) { e(t[i], i, t) && n.push(t[i])}
            return n
          }
          var r = /^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,
            o = function(t) {
              return r.exec(t).slice(1)
            };
          (n.resolve = function() {
            for (
              var n = '', r = !1, o = arguments.length - 1;
              o >= -1 && !r;
              o--
            ) {
              var a = o >= 0 ? arguments[o] : t.cwd()
              if (typeof a !== 'string') {
throw new TypeError(
                "Arguments to path.resolve must be strings"
              ); }
              a && ((n = a + '/' + n), (r = a.charAt(0) === '/'))
            }
            return (
              (n = e(
                i(n.split('/'), function(t) {
                  return !!t
                }),
                !r
              ).join('/')),
              (r ? '/' : '') + n || '.'
            )
          }),
          (n.normalize = function(t) {
            var r = n.isAbsolute(t),
              o = a(t, -1) === '/'
            return (
              (t = e(
                i(t.split('/'), function(t) {
                  return !!t
                }),
                !r
              ).join('/')),
              t || r || (t = '.'),
              t && o && (t += '/'),
              (r ? '/' : '') + t
            )
          }),
          (n.isAbsolute = function(t) {
            return t.charAt(0) === '/'
          }),
          (n.join = function() {
            var t = Array.prototype.slice.call(arguments, 0)
            return n.normalize(
              i(t, function(t, e) {
                if (typeof t !== 'string')
                  {throw new TypeError(
                    "Arguments to path.join must be strings"
                  );}
                return t
              }).join('/')
            )
          }),
          (n.relative = function(t, e) {
            function i(t) {
              for (var e = 0; e < t.length && t[e] === ''; e++);
              for (var n = t.length - 1; n >= 0 && t[n] === ''; n--);
              return e > n ? [] : t.slice(e, n - e + 1)
            }
            (t = n.resolve(t).substr(1)), (e = n.resolve(e).substr(1))
            for (
              var r = i(t.split('/')),
                o = i(e.split('/')),
                a = Math.min(r.length, o.length),
                s = a,
                c = 0;
              a > c;
              c++
            )
              {if (r[c] !== o[c]) {
                s = c
                  break;
              }}
            for (var u = [], c = s; c < r.length; c++) u.push('..')
            return (u = u.concat(o.slice(s))), u.join('/')
          }),
          (n.sep = '/'),
          (n.delimiter = ':'),
          (n.dirname = function(t) {
            var e = o(t),
              n = e[0],
              i = e[1]
            return n || i
              ? (i && (i = i.substr(0, i.length - 1)), n + i)
              : '.'
          }),
          (n.basename = function(t, e) {
            var n = o(t)[2]
            return (
              e &&
                  n.substr(-1 * e.length) === e &&
                  (n = n.substr(0, n.length - e.length)),
              n
            )
          }),
          (n.extname = function(t) {
            return o(t)[3]
          })
          var a =
            'ab'.substr(-1) === 'b'
              ? function(t, e, n) {
                return t.substr(e, n)
              }
              : function(t, e, n) {
                return e < 0 && (e = t.length + e), t.substr(e, n)
              };
        }.call(this, t('34')))
      },
      { 34: 34 }
    ],
    34: [
      function(t, e, n) {
        function i() {
          l &&
            s &&
            ((l = !1),
              s.length ? (u = s.concat(u)) : (h = -1),
              u.length && r())
        }
        function r() {
          if (!l) {
            var t = setTimeout(i)
            l = !0
            for (var e = u.length; e;) {
              for (s = u, u = []; ++h < e;) s && s[h].run();
              (h = -1), (e = u.length)
            }
            (s = null), (l = !1), clearTimeout(t)
          }
        }
        function o(t, e) {
          (this.fun = t), (this.array = e)
        }
        function a() {}
        var s,
          c = (e.exports = {}),
          u = [],
          l = !1,
          h = -1;
        (c.nextTick = function(t) {
          var e = new Array(arguments.length - 1)
          if (arguments.length > 1) { for (var n = 1; n < arguments.length; n++) e[n - 1] = arguments[n]}
          u.push(new o(t, e)), u.length !== 1 || l || setTimeout(r, 0)
        }),
        (o.prototype.run = function() {
          this.fun.apply(null, this.array)
        }),
        (c.title = 'browser'),
        (c.browser = !0),
        (c.env = {}),
        (c.argv = []),
        (c.version = ''),
        (c.versions = {}),
        (c.on = a),
        (c.addListener = a),
        (c.once = a),
        (c.off = a),
        (c.removeListener = a),
        (c.removeAllListeners = a),
        (c.emit = a),
        (c.binding = function(t) {
          throw new Error('process.binding is not supported')
        }),
        (c.cwd = function() {
          return '/'
        }),
        (c.chdir = function(t) {
          throw new Error('process.chdir is not supported')
        }),
        (c.umask = function() {
          return 0
        })
      },
      {}
    ],
    35: [
      function(t, e, n) {
        function i(t) {
          return t
            .replace(/[\/]+/g, '/')
            .replace(/\/\?/g, '?')
            .replace(/\/\#/g, '#')
            .replace(/\:\//g, '://')
        }
        e.exports = function() {
          var t = [].slice.call(arguments, 0).join('/')
          return i(t)
        }
      },
      {}
    ],
    36: [
      function(t, e, n) {
        function i(t, e) {
          var n = []
          return (
            t.traverse(function(t) {
              t.name === e && n.push(t)
            }),
            n
          )
        }
        function r(t) {
          return _.contains(
            _.map(x, function(t) {
              return t.name
            }),
            t.name
          )
        }
        function o(t, e, n, i) {
          var r = t.pageX - e.x,
            o = t.pageY - e.y,
            a = { x: (r / n) * 2 - 1, y: 1 - (o / i) * 2 }
          return a
        }
        var a = t('1'),
          s = t('3'),
          c = t('16'),
          u = t('8'),
          l = (t('21'), t('20')),
          h = t('19'),
          f = t('66'),
          p = t('55'),
          d = t('38'),
          m = t('67'),
          v = t('56'),
          g = t('44'),
          y = t('59'),
          E = t('61'),
          b = t('63'),
          w = t('60'),
          x = t('40'),
          T = function(t) {
            a.call(this, t),
            (this.mode = t.vr ? T.VR_MODE : T.DEFAULT_MODE),
            (this.vrDisplay = t.vrDisplay)
          }
        T.inherit(a, {
          init: function() {
            this.mode === T.VR_MODE && this.initWebVR(this.vrDisplay),
            (this.$container = $(document.body)),
            this.updateContainerInfo(),
            $(window).on(
              'resize',
              function() {
                this.updateContainerInfo(),
                this.mode === T.DEFAULT_MODE && this.hud.resize()
              }.bind(this)
            ),
            (this.startScene = this.scenes[0]),
            (this.exteriorScene = this.scenes[1]),
            (this.interiorScene = this.scenes[2]),
            (this.enteredRoom = !1),
            (this.renderer.autoClear = !1),
            this.scene.updateMatrixWorld(!0),
            this.initMaterialManager(),
            this.initCamera(),
            this.initUI(),
            this.initObjectPickers(),
            this.initObjectsRenderOrder(),
            this.initMaterialsExposure(),
            this.initPool(),
            this.initSeaHighlights(),
            this.initFlares(),
            this.initDirLight(),
            this.initHoverScene(),
            this.initCameraScene(),
            Config.DEBUG_KEYS && this.initDebugKeyEvents(),
            this.mode === T.VR_MODE
              ? (this.initInstructions(),
                this.initInputManager(),
                this.handleVREvents(),
                this.initCrosshair(),
                this.initTransitionScene())
              : this.mode === T.DEFAULT_MODE && this.handleNonVREvents(),
            this.config.fps && this.initFPSCounter(),
            this.config.logCalls && this.initDrawCallsCounter(),
            this.handleHudEvents(),
            this.handleCameraEvents(),
            $(window).trigger('resize'),
            _.defer(this.preRenderHUD.bind(this))
          },
          initInstructions: function() {
            (this.startInstructions = this.startScene.getObjectByName(
              'instructions'
            )),
            this.startInstructions &&
                ((this.startInstructions.position.z = -0.75),
                  this.camera.add(this.startInstructions))
          },
          updateInstructions: function(t) {
            var e = 3,
              n = 0.25 + 0.75 * Math.abs(Math.sin(e * t.elapsed))
            this.startInstructionsCTA ||
              (this.startInstructionsCTA = this.startInstructions.getObjectByName(
                'cta'
              )),
            (this.startInstructionsCTA.material.opacity = n)
          },
          initDirLight: function() {
            (this.dirLight = this.interiorScene.getObjectByName(
              'Directional Light'
            )),
            _.each([this.interiorScene, this.exteriorScene], function(t) {
              _.each(t.materials, function(t) {
                t.pbr &&
                    !t.ignoreDirLight &&
                    ((t.defines.USE_DIR_LIGHT = !0),
                      t.uniforms.lightColor.value.setRGB(1, 1, 1),
                      (t.needsUpdate = !0))
              })
            })
          },
          initHoverScene: function() {
            this.hoverScene = new THREE.Scene()
          },
          initCameraScene: function() {
            (this.cameraScene = new THREE.Scene()),
            this.cameraScene.add(this.camera)
          },
          initDebugKeyEvents: function() {
            var t = function(t) {
              _.each(this.scenes, function(e) {
                _.each(e.materials, function(e) {
                  e.pbr && t(e.uniforms.uMode)
                })
              }),
              _.each(
                this.hud.palettes,
                function(e) {
                  e.children.forEach(function(e) {
                    t(e.material.uniforms.uMode)
                  }, this)
                },
                this
              )
            }.bind(this)
            $(document).on(
              'keypress',
              function(e) {
                e.keyCode == 99
                  ? t(function(t) {
                    t.value == 6 ? (t.value = 1) : t.value++
                  })
                  : e.keyCode == 109
                    ? t(function(t) {
                      t.value = 0
                    })
                    : e.keyCode == 116
                      ? (this.ratio
                        ? ((this.ratio += 1),
                          this.ratio > 2 && (this.ratio = 1))
                        : (this.ratio = 1),
                        this.renderer.setPixelRatio(this.ratio))
                      : e.keyCode == 110
                        ? t(function(t) {
                          t.value >= 0 ? (t.value = -1) : (t.value = 0)
                        })
                        : e.keyCode == 104
                          ? _.each(
                            [this.interiorScene, this.exteriorScene],
                            function(t) {
                              _.each(t.materials, function(t) {
                                t.pbr &&
                                    (t.uniforms.highlights.value == 0
                                      ? (t.uniforms.highlights.value = 1)
                                      : (t.uniforms.highlights.value = 0))
                              })
                            }
                          )
                          : e.keyCode === 80
                            ? this.captureFrame(5e3, 2e3)
                            : e.keyCode === 115 &&
                              ($(this.counter).toggle(),
                                $(this.dcCounter).toggle())
              }.bind(this)
            )
          },
          initFPSCounter: function() {
            var t = $(this.counter)
            t.css('left', '20px'),
            t.css('padding', '3px'),
            t.css('font-size', '2em'),
            t.css('background-color', 'black')
          },
          initDrawCallsCounter: function() {
            var t = $("<div id='dc'></div>")
            $('body').append(t),
            t
              .css('position', 'absolute')
              .css('display', 'block !important')
              .css('color', 'yellow')
              .css('top', '60px')
              .css('left', '20px')
              .css('padding', '3px')
              .css('font-size', '2em')
              .css('background-color', 'black')
              .css('z-index', '999999'),
            (this.dcCounter = t[0])
          },
          initInputManager: function() {
            this.inputManager = new v()
          },
          start: function() {
            this.camera.enableControls(),
            this.mode !== T.DEFAULT_MODE || window.isMobile
              ? this.mode === T.DEFAULT_MODE &&
                  window.isMobile &&
                  this.ui.showMoveInstructions()
              : this.ui.showLookInstructions(),
            a.prototype.start.call(this)
          },
          enterVR: function() {
            this.camera.vrControls.hasInput() && this.effect.requestPresent()
          },
          handleVREvents: function() {
            this.inputManager.on(
              'press',
              function() {
                this.enteredRoom
                  ? this.hud.visible && this.hudPicker.hitTest()
                    ? this.hudPicker.onTap()
                    : this.scenePicker.hitTest() && this.scenePicker.onTap()
                  : this.fadeOut(750).onComplete(
                    function() {
                      this.camera.moveTo(0, 0),
                      (this.enteredRoom = !0),
                      this.fadeIn(2e3),
                      this.camera.remove(this.startInstructions)
                    }.bind(this)
                  )
              }.bind(this)
            )
          },
          handleNonVREvents: (function() {
            var t = null
            return function() {
              window.isMobile ||
                $('canvas').on(
                  'mousemove',
                  function(t) {
                    var e = o(
                      t,
                      this.containerOffset,
                      this.containerWidth,
                      this.containerHeight
                    )
                    this.scenePicker.updateMouseCoords(e),
                    this.hudPicker.updateMouseCoords(e)
                  }.bind(this)
                ),
              $('canvas').on(
                'tap',
                function(e) {
                  if (window.isMobile) {
                    var n = o(
                      e,
                      this.containerOffset,
                      this.containerWidth,
                      this.containerHeight
                    )
                    this.scenePicker.updateMouseCoords(n),
                    this.hudPicker.updateMouseCoords(n)
                  }
                  var i = null,
                    r = null
                  this.camera.moving ||
                      this.camera.rotating ||
                      !this.camera.enabled ||
                      ((i = this.hud.visible && this.hudPicker.hitTest()),
                        (r = this.scenePicker.hitTest())),
                  window.isMobile &&
                        !i &&
                        r &&
                        r.name === 'floor' &&
                        (this.ui.updateMarker(this.scenePicker.getPoint()),
                          this.ui.showMarker(),
                          t && clearTimeout(t),
                          (t = setTimeout(
                            function() {
                              this.ui.hideMarker(), (t = null)
                            }.bind(this),
                            2e3
                          ))),
                  i
                    ? this.hudPicker.onTap()
                    : r && this.scenePicker.onTap()
                }.bind(this)
              )
            }
          })(),
          handleHudEvents: function() {
            this.hud.on(
              'selectMaterial',
              function(t) {
                this.materialManager.setObjectMaterial(this.currentSelected, t),
                this.hud.setCurrent(t),
                this.materialInstructionsVisible &&
                    (this.ui.hideMaterialInstructions(),
                      (this.materialInstructionsVisible = !1))
              },
              this
            )
          },
          handleCameraEvents: function() {
            this.camera.on(
              'startMove',
              function() {
                this.ui.freezeMarker()
              },
              this
            ),
            this.camera.on(
              'endMove',
              function() {
                this.ui.unfreezeMarker()
              },
              this
            ),
            this.camera.on(
              'firstMove',
              function() {
                this.ui.hideMoveInstructions()
              },
              this
            ),
            this.camera.on(
              'firstRotate',
              function() {
                this.ui.hideLookInstructions()
              },
              this
            )
          },
          updateContainerInfo: function() {
            (this.containerOffset = {
              x: this.$container.offset().left,
              y: this.$container.offset().top
            }),
            (this.containerWidth = this.$container.width()),
            (this.containerHeight = this.$container.height())
          },
          initMaterialManager: function() {
            this.materialManager = new y({
              scenes: this.scenes,
              configurables: x
            })
          },
          initCamera: function() {
            var t = (this.camera = new d({
              vr: this.mode === T.VR_MODE,
              states: this.scene.getObjectByName('cameras').children,
              $container: this.$container
            }))
            this.scene.add(t),
            (t.enabled = !0),
            this.mode === T.VR_MODE &&
                this.camera.vrControls.setVRDisplay(this.vrDisplay)
          },
          initTransitionScene: function() {
            var t = new THREE.Mesh(new THREE.PlaneGeometry(2, 2), new w());
            (t.material.uniforms.diffuse.value = new THREE.Color(0)),
            (t.material.uniforms.opacity.value = 0),
            (t.material.transparent = !0),
            (t.frustumCulled = !1)
            var e = new THREE.Scene()
            e.add(t), (this.transitionQuad = t), (this.transitionScene = e)
          },
          fadeOut: function(t) {
            return h.tween(t || 500).onUpdate(
              function(t) {
                this.transitionQuad.material.opacity = t
              }.bind(this)
            )
          },
          fadeIn: function(t) {
            return h.tween(t || 500).onUpdate(
              function(t) {
                this.transitionQuad.material.opacity = 1 - t
              }.bind(this)
            )
          },
          initObjectPickers: function() {
            var t = ['floor', 'walls', 'armchairs', 'colliders'],
              e = []
            x.forEach(function(e) {
              t.push(e.name)
            }),
            _.each(
              t,
              function(t) {
                var n = i(this.scene, t)
                _.each(
                  n,
                  function(t) {
                    t.traverse(
                      function(t) {
                        e.push(t)
                      }
                    )
                  },
                  this
                )
              },
              this
            ),
            _.each(this.scene.getObjectByName('colliders').children, function(
              t
            ) {
              (t.visible = !0), (t.material.visible = !1)
            }),
            (this.scenePicker = new g({
              camera: this.camera,
              checkFlag: !0,
              vr: this.mode === T.VR_MODE
            })),
            this.scenePicker.add(e),
            (this.hudPicker = new g({
              camera: this.hud.camera,
              checkFlag: !0,
              vr: this.mode === T.VR_MODE
            })),
            this.mode === T.VR_MODE && (this.hudPicker.camera = this.camera),
            this.hudPicker.add(this.hud.getPickables()),
            this.handlePickerEvents()
          },
          handlePickerEvents: function() {
            this.scenePicker.on(
              'pick',
              function(t, e) {
                var n
                'floor' === t.name
                  ? (this.VREnabled && !this.warping
                    ? ((this.warping = !0),
                      this.fadeOut(200).onComplete(
                        function() {
                          this.camera.moveTo(e.x, e.z, 1e3),
                          this.fadeIn(200).onComplete(
                            function() {
                              this.warping = !1
                            }.bind(this)
                          )
                        }.bind(this)
                      ),
                      this.ui.hideMoveInstructions())
                    : this.VREnabled || this.camera.moveTo(e.x, e.z, 1e3),
                    this.$container.removeClass('hovering'),
                    this.ui.activateMarker(),
                    this.currentSelected &&
                      this.deselectObject(this.currentSelected))
                  : r(t)
                    ? (n = t)
                    : r(t.parent) && (n = t.parent),
                n && n !== this.currentSelected && this.selectObject(n)
              },
              this
            ),
            this.scenePicker.on(
              'enter',
              function(t) {
                (this.VREnabled && !this.enteredRoom) ||
                    (t.name !== 'floor' ||
                      window.isMobile ||
                      this.ui.showMarker(),
                      r(t) && t !== this.currentSelected
                        ? this.highlightObject(t)
                        : r(t.parent) &&
                        t.parent !== this.currentSelected &&
                        this.highlightObject(t.parent))
              },
              this
            ),
            this.scenePicker.on(
              'leave',
              function(t) {
                (this.VREnabled && !this.enteredRoom) ||
                    (t.name !== 'floor' ||
                      window.isMobile ||
                      this.ui.hideMarker(),
                      r(t) && t !== this.currentSelected
                        ? this.clearHighlight(t)
                        : r(t.parent) &&
                        t.parent !== this.currentSelected &&
                        this.clearHighlight(t.parent))
              },
              this
            ),
            this.hudPicker.on(
              'pick',
              function(t) {
                this.hud.select(t)
              },
              this
            ),
            this.hudPicker.on(
              'enter',
              function(t) {
                window.isMobile ||
                    (this.hud.enter(t),
                      this.ui.onEnterObject(),
                      this.ui.hideMarker())
              },
              this
            ),
            this.hudPicker.on(
              'leave',
              function(t) {
                window.isMobile ||
                    (this.hud.leave(t), this.ui.onLeaveObject())
              },
              this
            )
          },
          initUI: function() {
            (this.ui = new f({
              container: this.$container,
              scene: this.scene,
              camera: this.camera,
              configurables: x,
              vr: this.mode === T.VR_MODE
            })),
            (this.hud = new p({
              scene: this.scene,
              configurables: x,
              vr: this.mode === T.VR_MODE
            }))
          },
          initWebVR: function(t) {
            (this.effect = new l(this.renderer)),
            (this.effect.autoSubmitFrame = !1),
            (this.VREnabled = !1),
            this.effect.setVRDisplay(t)
          },
          selectObject: function(t) {
            var e = t.name,
              n = function(t) {
                return _.find(x, function(e) {
                  return e.name === t
                })
              };
            (window.isMobile && this.isSelecting) ||
              ((this.isSelecting = !0),
                setTimeout(
                  function() {
                    this.isSelecting = !1
                  }.bind(this),
                  1500
                ),
                this.clearHighlight(t),
                (this.currentSelected = t),
                this.hud.show(),
                this.hud.setPanel(e),
                window.isMobile
                  ? this.selectObjectMobile(e)
                  : this.VREnabled
                    ? this.selectObjectVR(e)
                    : (this.camera.setOrbitDistances(0, 1 / 0),
                      this.camera.setState(e).onComplete(
                        function() {
                          this.hud.setPalette(e),
                          this.camera.setOrbitDistances(
                            n(e).minDistance,
                            n(e).maxDistance
                          ),
                          this.materialHelpDisplayed
                            ? this.materialInstructionsVisible &&
                              (this.ui.hideMaterialInstructions(),
                                (this.materialInstructionsVisible = !1))
                            : ((this.materialHelpDisplayed = !0),
                              this.ui.showMaterialInstructions(),
                              (this.materialInstructionsVisible = !0))
                        }.bind(this)
                      )),
                this.mode !== T.VR_MODE &&
                !window.isMobile &&
                this.hud.currentPalette &&
                this.hud.currentPalette.fadeOut())
          },
          selectObjectMobile: function(t) {
            this.hud.setPalette(t, 1e3),
            setTimeout(
              function() {
                this.materialHelpDisplayed
                  ? this.materialInstructionsVisible &&
                      (this.ui.hideMaterialInstructions(),
                        (this.materialInstructionsVisible = !1))
                  : ((this.materialHelpDisplayed = !0),
                    this.ui.showMaterialInstructions(),
                    (this.materialInstructionsVisible = !0))
              }.bind(this),
              1e3
            ),
            this.ui.hideMoveInstructions()
          },
          selectObjectVR: function(t) {
            var e = this.hud.palettes[t],
              n = e.children.length,
              i = 0.2,
              r = -((n - 1) * i) / 2;
            (this.hud.maxScale = 0.07),
            this.hud.setPalette(t, 1e3),
            _.each(
              e.children,
              function(t, e) {
                t.position.set(e * i + r, 0, 0),
                t.scale.set(0, 0, 0),
                (t.tweenValue.scale = this.hud.maxScale),
                t.rotation.set(0, 0, 0),
                (this.scene.materials[t.material.uuid] = t.material)
              },
              this
            ),
            e.position.set(0, -0.25, -0.6),
            e.rotation.set(0, 0, 0),
            e.scale.set(1, 1, 1),
            this.camera.add(e),
            this.camera.updateMatrixWorld(!0),
            e.getWorldPosition(e.position),
            e.getWorldQuaternion(e.quaternion),
            this.camera.remove(e)
            var o = e.quaternion,
              a = new THREE.Vector3(0, 1, 0),
              s = a
                .clone()
                .applyQuaternion(o)
                .normalize(),
              c = a.angleTo(s),
              u = new THREE.Vector3()
            u.crossVectors(s, a).normalize()
            var l = new THREE.Quaternion()
            l.setFromAxisAngle(u, c).normalize(),
            e.quaternion.multiplyQuaternions(l, o),
            this.hoverScene.add(e)
            var h = this.hud.panels[t]
            h.position.set(0.25, -0.1, -0.55),
            h.rotation.set(0, 0, 0),
            h.scale.set(85e-5, 85e-5, 85e-5),
            this.camera.add(h),
            this.camera.updateMatrixWorld(!0),
            h.getWorldPosition(h.position),
            h.getWorldQuaternion(h.quaternion),
            this.camera.remove(h),
            this.hoverScene.add(h)
            var o = h.quaternion,
              f = a
                .clone()
                .applyQuaternion(o)
                .normalize(),
              c = a.angleTo(f),
              u = new THREE.Vector3()
            u.crossVectors(f, a).normalize()
            var l = new THREE.Quaternion()
            l.setFromAxisAngle(u, c).normalize(),
            h.quaternion.multiplyQuaternions(l, o),
            this.ui.hideConfigureInstructions()
          },
          deselectObject: function(t) {
            this.hud.hide(),
            (this.currentSelected = null),
            this.materialInstructionsVisible &&
                (this.ui.hideMaterialInstructions(),
                  (this.materialInstructionsVisible = !1))
          },
          highlightObject: function(t) {
            var e = t.group ? t.group : t
            e.worldPosition || (e.worldPosition = new THREE.Vector3()),
            e.previousPosition || (e.previousPosition = new THREE.Vector3()),
            this.ui.highlightObject(t),
            e.getWorldPosition(e.worldPosition),
            e.previousPosition.copy(e.position),
            (e.previousParent = e.parent),
            this.hoverScene.add(e),
            e.position.copy(e.worldPosition)
          },
          clearHighlight: function(t) {
            var e = t.group ? t.group : t
            this.ui.clearHighlight(),
            e.previousParent.add(e),
            e.position.copy(e.previousPosition)
          },
          initObjectsRenderOrder: function() {
            var t = this.interiorScene.getObjectByName('glassrail')
            t && (t.renderOrder = 50)
            var e = this.interiorScene.getObjectByName('glasses')
            e && (e.renderOrder = 100)
            var n = this.interiorScene.getObjectByName('sea')
            n && (n.renderOrder = 100)
            var i = this.interiorScene.getObjectByName('sky')
            i && ((i.renderOrder = 95), (i.visible = !0))
            var r = this.interiorScene.getObjectByName('clouds')
            r &&
              r.traverse(function(t) {
                t.renderOrder = 98
              })
            var o = this.interiorScene.getObjectByName('sun')
            o &&
              o.traverse(function(t) {
                t.renderOrder = 97
              })
            var a = this.interiorScene.getObjectByName('sun_and_clouds_merged')
            a && (a.renderOrder = 97)
            var s = this.interiorScene.getObjectByName('sea_highlight')
            s && (s.renderOrder = 101)
            var c = this.interiorScene.getObjectByName('islands')
            c &&
              c.traverse(function(t) {
                t.renderOrder = 102
              })
            var u = this.interiorScene.getObjectByName('islands_merged')
            u && (u.renderOrder = 102)
            var l = this.interiorScene.getObjectByName('sea_highlights2')
            l && (l.renderOrder = 103)
          },
          initCrosshair: function() {
            (this.crosshair = new u()),
            this.crosshair.fadeOut(),
            this.camera.add(this.crosshair)
          },
          initMaterialsExposure: function() {
            var t = this.scene.getObjectByName('feet')
            t.material.exposure = 0.3
          },
          initFlares: function() {
            this.flares = []
            var t = this.interiorScene.getObjectByName('spots'),
              e = c.getTexture('textures/flare.png')
            t &&
              t.children.forEach(function(t) {
                var n = new THREE.PointsMaterial({
                    size: 1.5,
                    map: e,
                    transparent: !0,
                    depthWrite: !1,
                    depthTest: !1,
                    blending: THREE.AdditiveBlending,
                    opacity: 0.35
                  }),
                  i = new THREE.Geometry()
                i.vertices.push(new THREE.Vector3())
                var r = new THREE.Points(i, n)
                t.getWorldPosition(r.position),
                this.flares.push(r),
                this.interiorScene.add(r)
              }, this)
          },
          initPool: function() {
            (this.water = new m({
              light: this.scene.getObjectByName('ocean light'),
              camera: this.camera,
              renderer: this.renderer,
              object: this.exteriorScene.getObjectByName('pool_water'),
              transparent: !0,
              opacity: 0.6
            })),
            (this.exteriorScene.getObjectByName('pool_water').visible = !1),
            this.exteriorScene.add(this.water)
          },
          initSeaHighlights: function() {
            var t = this.interiorScene.getObjectByName('sea_highlights2'),
              e = t.material,
              n = e.map;
            (this.noise = new b()),
            (t.material = new E()),
            (t.material.map = n),
            t.material.uniforms.offsetRepeat.value.set(
              n.offset.x,
              n.offset.y,
              n.repeat.x,
              n.repeat.y
            ),
            (t.material.transparent = e.transparent),
            (t.material.noiseMap = this.noise.target.texture),
            (this.seaHighlights = t)
          },
          updateSeaHighlights: function(t) {
            this.seaHighlights.material.updateUniforms(t)
          },
          updateDirLight: (function() {
            var t = new THREE.Vector3(),
              e = new THREE.Vector3()
            return function() {
              e.setFromMatrixPosition(this.dirLight.matrixWorld),
              t.setFromMatrixPosition(this.dirLight.target.matrixWorld),
              e.sub(t),
              e.transformDirection(this.camera.matrixWorldInverse),
              _.each([this.interiorScene, this.exteriorScene], function(t) {
                _.each(t.materials, function(t) {
                  t.pbr && t.uniforms.viewLightDir.value.copy(e)
                })
              })
            }
          })(),
          updateCrosshair: (function() {
            var t = new THREE.Vector3(),
              e = new THREE.Vector3(),
              n = new THREE.Vector2(),
              i = new THREE.Vector2()
            return function() {
              if (this.VREnabled) {
                var r = this.hud.currentPalette
                if (
                  (this.camera.updateMatrixWorld(!0),
                    this.crosshair.getWorldPosition(e),
                    e.project(this.camera),
                    n.set(e.x, e.y),
                    r)
                ) {
                  var o = 1 / 0
                  r.children.forEach(function(e) {
                    e.getWorldPosition(t),
                    t.project(this.camera),
                    i.set(t.x, t.y)
                    var r = n.distanceTo(i)
                    o > r && (o = r)
                  }, this),
                  o > 0.5
                    ? (this.crosshair.fadeOut(), this.ui.fadeInMarker())
                    : (this.crosshair.fadeIn(), this.ui.fadeOutMarker())
                }
              }
            }
          })(),
          updateUI: function() {
            return window.isMobile
              ? void this.scenePicker.hitTest(!0)
              : (this.camera.moving ||
                  this.camera.rotating ||
                  !this.camera.enabled ||
                  (this.hud.visible
                    ? this.hudPicker.hitTest()
                      ? (this.scenePicker.clearState(),
                        this.ui.onEnterObject(),
                        this.camera.vr ||
                          (this.camera.orbitControls.enabled = !1))
                      : (this.scenePicker.hitTest(),
                        this.camera.mode === d.ORBIT_MODE &&
                          (this.camera.orbitControls.enabled = !0))
                    : this.scenePicker.hitTest()),
                this.camera.rotating &&
                  (this.scenePicker.clearState(),
                    this.hudPicker.clearState(),
                    this.ui.currentHighlighted &&
                    this.clearHighlight(this.ui.currentHighlighted)),
                void this.ui.update(this.scenePicker.getPoint()))
          },
          updateFlares: (function() {
            var t = new THREE.Raycaster(),
              e = new THREE.Vector3(),
              n = new THREE.Vector3(),
              i = [
                'walls',
                'sofa_main',
                'laptop',
                'suspended_lamp',
                'table_objects_merged',
                'bottle',
                'seat_main_left'
              ],
              r = []
            return function() {
              r.length === 0 &&
                i.forEach(function(t) {
                  var e = this.interiorScene.getObjectByName(t)
                  e && r.push(e)
                }, this),
              this.camera.getWorldPosition(n),
              this.flares.forEach(function(i, o) {
                e.subVectors(i.position, n).normalize(), t.set(n, e)
                var a = t.intersectObjects(r)
                a.length > 1 ? (i.visible = !1) : (i.visible = !0)
              }, this)
            }
          })(),
          update: function(t) {
            this.VREnabled ||
              this.mode !== T.VR_MODE ||
              (this.effect.requestPresent(), (this.VREnabled = !0)),
            this.camera.enabled && this.camera.update(),
            this.startInstructions &&
                !this.enteredRoom &&
                this.updateInstructions(t),
            this.flares && this.updateFlares(),
            this.updateUI(),
            this.hud.update(t),
            this.water.update(t),
            this.updateSeaHighlights(t),
            this.updateDirLight(),
            this.updateCrosshair(),
            this.inputManager && this.inputManager.update(),
            a.prototype.update.call(this, t)
          },
          preRenderHUD: function() {
            this.renderer.clear(),
            (this.hud.visible = !0),
            this.hud.showAllPalettes(!1),
            this.hud.showAllPanels(),
            this.hud.render(this.renderer),
            (this.hud.visible = !1),
            this.hud.hideAllPalettes(),
            this.hud.hideAllPanels()
          },
          preRenderAll: function() {
            this.renderer.clear(),
            this.scene.traverse(function(t) {
              (t.frustumCulled = !1),
              (t.wasVisible = t.visible),
              (t.visible = !0)
            }),
            (this.hud.visible = !0),
            this.hud.showAllPalettes(!1),
            this.hud.showAllPanels(),
            this.water.render(),
            this.renderScene(this.scene, this.camera),
            this.hud.render(this.renderer),
            (this.hud.visible = !1),
            this.hud.hideAllPalettes(),
            this.hud.hideAllPanels(),
            this.scene.traverse(function(t) {
              (t.frustumCulled = !0),
              (t.visible = t.wasVisible),
              delete t.wasVisible
            })
          },
          render: function() {
            var t = 0,
              e = function() {
                this.config.logCalls && (t += this.renderer.info.render.calls)
              }.bind(this)
            this.renderer.clear(),
            this.noise.render(this.renderer),
            this.mode === T.VR_MODE
              ? (this.enteredRoom
                ? (this.effect.render(this.exteriorScene, this.camera),
                  this.effect.render(this.interiorScene, this.camera),
                  this.hoverScene.children.length > 0 &&
                        this.effect.render(this.hoverScene, this.camera))
                : this.effect.render(this.startScene, this.camera),
                this.effect.render(this.cameraScene, this.camera),
                this.effect.render(this.transitionScene, this.camera),
                this.effect.submitFrame())
              : this.mode === T.DEFAULT_MODE &&
                  (this.renderScene(this.interiorScene, this.camera),
                    e(),
                    this.renderScene(this.exteriorScene, this.camera),
                    e(),
                    this.hoverScene.children.length > 0 &&
                    (this.renderScene(this.hoverScene, this.camera), e()),
                    this.hud.render(this.renderer),
                    e(),
                    this.renderScene(this.cameraScene, this.camera),
                    e(),
                    this.config.logCalls &&
                    (this.dcCounter.textContent = t + ' DC'))
          },
          requestAnimationFrame: function(t) {
            this.effect
              ? this.effect.requestAnimationFrame(t)
              : requestAnimationFrame(t)
          },
          captureFrame: function(t, e) {
            this.setSize(t, e), this.render()
            var n = document.querySelector('canvas')
            window.open(n.toDataURL())
          }
        }),
        T.mixin(s),
        (T.DEFAULT_MODE = 0),
        (T.VR_MODE = 1),
        (e.exports = T)
      },
      {
        1: 1,
        16: 16,
        19: 19,
        20: 20,
        21: 21,
        3: 3,
        38: 38,
        40: 40,
        44: 44,
        55: 55,
        56: 56,
        59: 59,
        60: 60,
        61: 61,
        63: 63,
        66: 66,
        67: 67,
        8: 8
      }
    ],
    37: [
      function(t, e, n) {
        e.exports = {
          'basic.fs':
            '#ifdef USE_MAP\n  varying vec2 vUv;\n\n  uniform sampler2D map;\n#endif\n\nuniform vec3 diffuse;\nuniform float opacity;\nuniform float bias;\n\nvoid main() {\n  gl_FragColor = vec4(diffuse, opacity);\n\n  #ifdef USE_MAP\n    vec4 mapTexel = texture2D(map, vUv, bias);\n\n    gl_FragColor *= mapTexel;\n  #endif\n}',
          'basic.vs':
            '#ifdef USE_MAP\n  varying vec2 vUv;\n  uniform vec4 offsetRepeat;\n#endif\n\nvoid main() {\n  #ifdef USE_MAP\n    vUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n  #endif\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}',
          'clipspace.vs':
            '#ifdef USE_MAP\n  varying vec2 vUv;\n  uniform vec4 offsetRepeat;\n#endif\n\nvoid main() {\n  #ifdef USE_MAP\n    vUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n  #endif\n\n  gl_Position = vec4(position.x, position.y, 0.0, 1.0);\n}',
          'highlights.fs':
            '#ifdef USE_MAP\n  varying vec2 vUv;\n\n  uniform sampler2D map;\n#endif\n\nuniform sampler2D noiseMap;\n\nuniform vec3 diffuse;\nuniform float opacity;\nuniform float threshold;\nuniform float range;\n\nconst vec3 white = vec3(1.0);\n\nvoid main() {\n  gl_FragColor = vec4(diffuse, opacity);\n\n  #ifdef USE_MAP\n    vec4 mapTexel = texture2D(map, vUv);\n  #endif\n\n  vec3 noise = texture2D(noiseMap, vUv).rgb;\n\n  float v = fract(noise.r + threshold * 0.75);\n  v = step(0.9, v);\n\n  float alpha = step(0.5, (v * mapTexel.a));\n\n  gl_FragColor = vec4(white, alpha);\n}\n',
          'highlights.vs':
            '#ifdef USE_MAP\n  varying vec2 vUv;\n  uniform vec4 offsetRepeat;\n#endif\n\nvoid main() {\n  #ifdef USE_MAP\n    vUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n  #endif\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}',
          'noise.fs':
            'varying vec2 vUv;\n\nfloat rand(vec2 co) {\n  return fract(sin(dot(co.xy, vec2(12.9898,78.233))) * 43758.5453);\n}\n\nvoid main() {\n  gl_FragColor = vec4(vec3(rand(vUv)), 1.0);\n}',
          'noise.vs':
            'varying vec2 vUv;\n\nvoid main() {\n  vUv = uv;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}',
          'pbr.fs':
            '#define MOBILE\n#define LUV\n\nuniform float uAOPBRFactor;\nuniform float uAlbedoPBRFactor;\nuniform float uEnvironmentExposure;\nuniform float uGlossinessPBRFactor;\nuniform float uMetalnessPBRFactor;\nuniform float uNormalMapFactor;\nuniform float uOpacityFactor;\nuniform float uSpecularF0Factor;\n\nuniform int uMode;\nuniform vec3 uColor;\nuniform float uAlphaTest;\n\nuniform int uFlipY;\nuniform int uOccludeSpecular;\nuniform int uOutputLinear;\n\nuniform samplerCube sSpecularPBR;\nuniform sampler2D sPanoramaPBR;\n\nuniform sampler2D sTextureAlbedoMap;\nuniform sampler2D sTextureAlbedoMap2;\nuniform sampler2D sTextureNormalMap;\nuniform sampler2D sTextureNormalMap2;\n#ifdef USE_PACKEDMAP\nuniform sampler2D sTexturePackedMap;\n#else\nuniform sampler2D sTextureAOMap;\nuniform sampler2D sTextureMetalGlossMap;\n#endif\nuniform sampler2D sTextureAOMap2;\nuniform sampler2D sTextureEmissiveMap;\n\nuniform vec2 uTextureEnvironmentSpecularPBRLodRange;\nuniform vec2 uTextureEnvironmentSpecularPBRTextureSize;\nuniform vec3 uDiffuseSPH[9];\nuniform mat4 uEnvironmentTransform;\n\n\nvarying vec3 FragNormal;\nvarying vec4 FragTangent;\nvarying vec4 FragEyeVector;\nvarying vec2 vUv;\n\n#if defined(USE_ALBEDO2) || defined(USE_NORMALMAP2) || defined(USE_AOMAP2)\nvarying vec2 vUvDetail;\n#endif\n\n#ifdef USE_LIGHTMAP\n  uniform sampler2D sTextureLightMap;\n  uniform sampler2D sTextureLightMapM;\n  varying vec2 vUv2;\n#endif\n\n#ifdef USE_DIR_LIGHT\nuniform vec3 viewLightDir;\nuniform vec3 lightColor;\nuniform int highlights;\n#endif\n\nvec3 DecodeLightmapRGBM(vec4 data, vec2 decodeInstructions) {\n  return (decodeInstructions.x * pow(abs(data.a), decodeInstructions.y)) * data.rgb;\n}\n\n\n\n\n\n\nfloat linearTosRGB(const in float c) {\n  if (c >= 1.0) return 1.0;\n  float S1 = sqrt(c);\n  float S2 = sqrt(S1);\n  float S3 = sqrt(S2);\n  return 0.662002687 * S1 + 0.684122060 * S2 - 0.323583601 * S3 - 0.0225411470 * c;\n}\n\nvec3 linearTosRGB(const in vec3 c) {\n  \n  vec3 cm = c;\n  vec3 S1 = sqrt(cm);\n  vec3 S2 = sqrt(S1);\n  vec3 S3 = sqrt(S2);\n  return 0.662002687 * S1 + 0.684122060 * S2 - 0.323583601 * S3 - 0.0225411470 * cm;\n}\n\nvec4 linearTosRGB(const in vec4 c) {\n  vec3 cm = min(c.rgb, 1.0);\n  vec3 S1 = sqrt(cm);\n  vec3 S2 = sqrt(S1);\n  vec3 S3 = sqrt(S2);\n  return vec4(0.662002687 * S1 + 0.684122060 * S2 - 0.323583601 * S3 - 0.0225411470 * cm, c.a);\n}\n\nfloat sRGBToLinear(const in float c) {\n  return c * (c * (c * 0.305306011 + 0.682171111) + 0.012522878);\n}\n\nvec3 sRGBToLinear(const in vec3 c) {\n  return c * (c * (c * 0.305306011 + 0.682171111) + 0.012522878);\n}\n\nvec4 sRGBToLinear(const in vec4 c) {\n  return vec4(c.rgb * (c.rgb * (c.rgb * 0.305306011 + 0.682171111) + 0.012522878), c.a);\n}\n\n\nvec3 RGBMToRGB(const in vec4 rgba) {\n  const float maxRange = 8.0;\n  return rgba.rgb * maxRange * rgba.a;\n}\n\nconst mat3 LUVInverse = mat3(6.0013,    -2.700,   -1.7995,\n                -1.332,    3.1029,   -5.7720,\n                0.3007,    -1.088,    5.6268);\n\nvec3 LUVToRGB(const in vec4 vLogLuv) {\n  float Le = vLogLuv.z * 255.0 + vLogLuv.w;\n  vec3 Xp_Y_XYZp;\n  Xp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n  Xp_Y_XYZp.z = Xp_Y_XYZp.y / vLogLuv.y;\n  Xp_Y_XYZp.x = vLogLuv.x * Xp_Y_XYZp.z;\n  vec3 vRGB = LUVInverse * Xp_Y_XYZp;\n  return max(vRGB, 0.0);\n}\n\n\nvec4 encodeRGBM(const in vec3 col, const in float range) {\n  if(range <= 0.0)\n    return vec4(col, 1.0);\n  vec4 rgbm;\n  vec3 color = col / range;\n  rgbm.a = clamp(max(max(color.r, color.g), max(color.b, 1e-6)), 0.0, 1.0);\n  rgbm.a = ceil(rgbm.a * 255.0) / 255.0;\n  rgbm.rgb = color / rgbm.a;\n  return rgbm;\n}\n\nvec3 decodeRGBM(const in vec4 col, const in float range) {\n  if(range <= 0.0)\n    return col.rgb;\n  return range * col.rgb * col.a;\n}\n\nvec3 textureRGB(const in sampler2D texture, const in vec2 uv) {\n  return texture2D(texture, uv.xy).rgb;\n}\n\nvec4 textureRGBA(const in sampler2D texture, const in vec2 uv) {\n  return texture2D(texture, uv.xy).rgba;\n}\n\nfloat textureIntensity(const in sampler2D texture, const in vec2 uv) {\n  return texture2D(texture, uv).r;\n}\n\nfloat textureAlpha(const in sampler2D texture, const in vec2 uv) {\n  return texture2D(texture, uv.xy).a;\n}\n\nfloat adjustSpecular(const in float specular, const in vec3 normal) {\n  \n  float normalLen = length(normal);\n  if (normalLen < 1.0) {\n    float normalLen2 = normalLen * normalLen;\n    float kappa = (3.0 * normalLen -  normalLen2 * normalLen)/(1.0 - normalLen2);\n    \n    \n    return 1.0-min(1.0, sqrt((1.0-specular) * (1.0-specular) + 1.0/kappa));\n  }\n  return specular;\n}\n\nvec3 mtexNspaceTangent(const in vec4 tangent, const in vec3 normal, const in vec3 texnormal) {\n  vec3 tang = vec3(0.0,1.0,0.0);\n  float l = length(tangent.xyz);\n  if (l != 0.0) {\n    \n    \n    tang =  tangent.xyz / l;\n  }\n  vec3 B = tangent.w * normalize(cross(normal, tang));\n  return normalize(texnormal.x*tang + texnormal.y*B + texnormal.z*normal);\n}\n\nvec2 normalMatcap(const in vec3 normal, const in vec3 nm_z) {\n  vec3 nm_x = vec3(-nm_z.z, 0.0, nm_z.x);\n  vec3 nm_y = cross(nm_x, nm_z);\n  return vec2(dot(normal.xz, nm_x.xz), dot(normal, nm_y)) * vec2(0.5)  + vec2(0.5) ; \n}\n\nvec3 rgbToNormal(const in vec3 texel, const in int flipNormalY) {\n  vec3 rgb = texel * vec3(2.0) + vec3(-1.0); \n  rgb[1] = flipNormalY == 1 ? -rgb[1] : rgb[1];\n  return rgb;\n}\n\nvec3 bumpMap(const in vec4 tangent, const in vec3 normal, const in vec2 gradient) {\n  vec3 outnormal;\n  float l = length(tangent.xyz);\n  if (l != 0.0) {\n    \n    \n    vec3 tang =  tangent.xyz / l;\n    vec3 binormal = tangent.w * normalize(cross(normal, tang));\n    outnormal = normal + gradient.x * tang + gradient.y * binormal;\n  }\n  else {\n     outnormal = vec3(normal.x + gradient.x, normal.y + gradient.y, normal.z);\n  }\n  return normalize(outnormal);\n}\n\nfloat specularOcclusion(const in int occlude, const in float ao, const in vec3 N, const in vec3 V) {\n  if(occlude == 0)\n    return 1.0;\n  \n  \n  float d = dot(N, V) + ao;\n  return clamp((d * d) - 1.0 + ao, 0.0, 1.0);\n}\n\nfloat adjustRoughnessNormalMap(const in float roughness, const in vec3 normal) {\n  \n  float normalLen = length(normal);\n  if (normalLen < 1.0) {\n    float normalLen2 = normalLen * normalLen;\n    float kappa = (3.0 * normalLen -  normalLen2 * normalLen)/(1.0 - normalLen2);\n    \n    \n    return min(1.0, sqrt(roughness * roughness + 1.0/kappa));\n  }\n  return roughness;\n}\n\nfloat adjustRoughnessGeometry(const in float roughness, const in vec3 normal) {\n  \n  \n\n\n\n\n\n  return roughness;\n\n}\n\nmat3 environmentTransformPBR(const in mat4 tr) {\n  \n  vec3 x = vec3(tr[0][0], tr[1][0], tr[2][0]);\n  vec3 y = vec3(tr[0][1], tr[1][1], tr[2][1]);\n  vec3 z = vec3(tr[0][2], tr[1][2], tr[2][2]);\n  mat3 m = mat3(x, y, z);\n  return m;\n}\n\nvec3 evaluateDiffuseSphericalHarmonics(const in vec3 s[9], const in mat3 envTrans, const in vec3 N) {\n  vec3 n = envTrans * N;\n  \n  vec3 result = (s[0]+s[1]*n.y+s[2]*n.z+s[3]*n.x+s[4]*n.y*n.x+s[5]*n.y*n.z+s[6]*(3.0*n.z*n.z-1.0)+s[7]*(n.z*n.x)+s[8]*(n.x*n.x-n.y*n.y));\n  return max(result, vec3(0.0));\n}\n\n\n\nfloat linRoughnessToMipmap(const in float roughnessLinear) {\n  return sqrt(roughnessLinear);\n}\n\nvec3 integrateBRDF(const in vec3 specular, const in float r, const in float NoV, const in sampler2D tex) {\n  vec4 rgba = texture2D(tex, vec2(NoV, r));\n  float b = (rgba[3] * 65280.0 + rgba[2] * 255.0);\n  float a = (rgba[1] * 65280.0 + rgba[0] * 255.0);\n  const float div = 1.0/65535.0;\n  return (specular * a + b) * div;\n}\n\n\n\nvec3 integrateBRDFApprox(const in vec3 specular, const in float roughness, const in float NoV) {\n  const vec4 c0 = vec4(-1, -0.0275, -0.572, 0.022);\n  const vec4 c1 = vec4(1, 0.0425, 1.04, -0.04);\n  vec4 r = roughness * c0 + c1;\n  float a004 = min(r.x * r.x, exp2(-9.28 * NoV)) * r.x + r.y;\n  vec2 AB = vec2(-1.04, 1.04) * a004 + r.zw;\n  return specular * AB.x + AB.y;\n}\n\nvec3 computeIBLDiffuseUE4(const in vec3 normal, const in vec3 albedo, const in mat3 envTrans, const in vec3 sphHarm[9]) {\n  \n  \n  return evaluateDiffuseSphericalHarmonics(sphHarm, envTrans, normal);\n}\n\n\n#ifdef CUBEMAP\nvec3 textureCubemapLod(const in samplerCube texture, const in vec3 dir, const in float lod) {\n  vec4 rgba = textureCubeLodEXT(texture, dir, lod);\n#ifdef FLOAT\n  return rgba.rgb;\n#endif\n#ifdef RGBM\n  return RGBMToRGB(rgba);\n#endif\n#ifdef LUV\n  return LUVToRGB(rgba);\n#endif\n}\n\nvec3 textureCubeLodEXTFixed(const in samplerCube texture, const in vec2 size, const in vec3 direction, const in float lodInput, const in float maxLod) {\n  vec3 dir = direction;\n  float lod = min(maxLod, lodInput);\n\n  \n  float scale = 1.0 - exp2(lod) / size.x;\n  vec3 absDir = abs(dir);\n  float M = max(max(absDir.x, absDir.y), absDir.z);\n\n  if (absDir.x != M) dir.x *= scale;\n  if (absDir.y != M) dir.y *= scale;\n  if (absDir.z != M) dir.z *= scale;\n\n  return textureCubemapLod(texture, dir, lod);\n}\n\nvec3 prefilterEnvMapCube(const in float rLinear, const in vec3 R, const in samplerCube tex, const in vec2 lodRange, const in vec2 size){\n  float lod = linRoughnessToMipmap(rLinear) * lodRange[1];\n  return textureCubeLodEXTFixed(tex, size, R, lod, lodRange[0]);\n}\n\n#define samplerEnv samplerCube\n#define prefilterEnvMap prefilterEnvMapCube\n\n#else\n#ifdef PANORAMA\nvec2 computeUVForMipmap(const in float level, const in vec2 uvBase, const in float size, const in float maxLOD) {\n  vec2 uv = uvBase;\n  float widthForLevel = exp2(maxLOD - level);\n  float heightForLevel = widthForLevel * 0.5;\n  float widthFactor = pow(0.5, level);\n  float heightFactor = widthFactor * 0.5;\n  float texelSize = 1.0 / size;\n\n  uv.y = 1.0 - uv.y;\n\n  float resizeX = (widthForLevel - 2.0) * texelSize;\n  float resizeY = (heightForLevel - 2.0) * texelSize;\n\n  float uvSpaceLocalX = texelSize + uv.x * resizeX;\n  float uvSpaceLocalY = texelSize + uv.y * resizeY;\n\n  uvSpaceLocalY += heightFactor;\n\n  return vec2(uvSpaceLocalX, uvSpaceLocalY);\n}\n\nvec2 normalToPanoramaUVY(const in vec3 dir) {\n  float n = length(dir.xz);\n\n  \n  vec2 pos = vec2((n > 0.0000001) ? max(-1.0, dir.x / n) : 0.0, dir.y);\n\n  \n  if (pos.x > 0.0) pos.x = min(0.999999, pos.x);\n\n  pos = acos(pos) * 0.3183098861837907; \n\n  pos.x = (dir.z > 0.0) ? pos.x * 0.5 : 1.0 - (pos.x * 0.5);\n\n  \n  pos.x = mod(pos.x - 0.25 + 1.0, 1.0);\n  pos.y = 1.0 - pos.y;\n  return pos;\n}\n\nvec3 texturePanorama(const in sampler2D texture, const in vec2 uv) {\n  vec4 rgba = texture2D(texture, uv);\n#ifdef FLOAT\n  return rgba.rgb;\n#endif\n#ifdef RGBM\n  return RGBMToRGB(rgba);\n#endif\n#ifdef LUV\n  return LUVToRGB(rgba);\n#endif\n}\n\nvec3 texturePanoramaLod(const in sampler2D texture, const in vec2 size, const in vec3 direction, const in float lodInput, const in float maxLOD) {\n  float lod = min(maxLOD, lodInput);\n  vec2 uvBase = normalToPanoramaUVY(direction);\n\n  float lod0 = floor(lod);\n  vec2 uv0 = computeUVForMipmap(lod0, uvBase, size.x, maxLOD);\n  vec3 texel0 = texturePanorama(texture, uv0.xy);\n\n  float lod1 = ceil(lod);\n  vec2 uv1 = computeUVForMipmap(lod1, uvBase, size.x, maxLOD);\n  vec3 texel1 = texturePanorama(texture, uv1.xy);\n\n  return mix(texel0, texel1, fract(lod));\n}\n\nvec3 prefilterEnvMapPanorama(const in float rLinear, const in vec3 R, const in sampler2D tex, const in vec2 lodRange, const in vec2 size) {\n  float lod = linRoughnessToMipmap(rLinear) * lodRange[1]; \n  return texturePanoramaLod(tex, size, R, lod, lodRange[0]);\n}\n\n#define samplerEnv sampler2D\n#define prefilterEnvMap prefilterEnvMapPanorama\n\n#else\n\nvec3 prefilterEnvMap(const in float rLinear, const in vec3 R, const in sampler2D tex, const in vec2 lodRange, const in vec2 size) {\n  return vec3(0.0);\n}\n#define samplerEnv sampler2D\n#endif // PANORAMA\n\n#endif // CUBEMAP\n\nvec3 getSpecularDominantDir(const in vec3 N, const in vec3 R, const in float realRoughness) {\n  float smoothness = 1.0 - realRoughness;\n  float lerpFactor = smoothness * (sqrt(smoothness) + realRoughness);\n  \n  return mix(N, R, lerpFactor);\n}\n\n\nvec3 computeIBLSpecularUE4(\n  const in vec3 N,\n  const in vec3 V,\n  const in float rLinear,\n  const in vec3 specular,\n  const in mat3 envTrans,\n  const in samplerEnv texEnv,\n  const in vec2 lodRange,\n  const in vec2 size,\n  const in vec3 frontNormal\n  #ifdef MOBILE\n){\n  #else\n  ,const in sampler2D texBRDF) {\n  #endif\n\n  float rough = max(rLinear, 0.0);\n\n  float NoV = clamp(dot(N, V), 0.0, 1.0);\n  vec3 R = normalize(NoV * 2.0 * N - V);\n\n  R = getSpecularDominantDir(N, R, rLinear);\n  \n  \n\n  vec3 dir = envTrans * R;\n  dir.xz *= -1.0;\n\n  vec3 prefilteredColor = prefilterEnvMap(rough, dir, texEnv, lodRange, size);\n  \n  \n  float factor = clamp(1.0 + 1.3 * dot(R, frontNormal), 0.1, 1.0);\n  prefilteredColor *= factor * factor;\n  #ifdef MOBILE\n  return prefilteredColor * integrateBRDFApprox(specular, rough, NoV);\n  #else\n  return prefilteredColor * integrateBRDF(specular, rough, NoV, texBRDF);\n  #endif\n}\n\nfloat luma(vec3 color) {\n  return dot(color, vec3(0.299, 0.587, 0.114));\n}\n\n\n#ifdef USE_DIR_LIGHT\n\n#define PI 3.141593\n#define G1V(dotNV, k) (1.0 / (dotNV * (1.0 - k) + k))\n#define saturate(_x) clamp(_x, 0.0, 1.0)\n\nvec4 LightingFuncPrep(const in vec3 N,\n                      const in vec3 V,\n                      const in float roughness)\n{\n\n    float dotNV = saturate(dot(N,V));\n    float alpha = roughness * roughness;\n    float k = alpha * .5;\n    float visNV = G1V(dotNV,k);\n\n    vec4 prepSpec;\n\n    prepSpec.x = alpha;\n    prepSpec.y = alpha * alpha;\n    prepSpec.z = k;\n    prepSpec.w = visNV;\n\n    return prepSpec;\n\n}\n\nvec3 LightingFuncUsePrepGGX(const vec4 prepSpec,\n              const vec3 N,\n              const vec3 V,\n              const vec3 L,\n              const vec3 F0,\n              const float dotNL)\n{\n  vec3 H = normalize(V + L);\n  float dotNH = saturate(dot(N, H));\n  \n  float alphaSqr = prepSpec.y;\n  float denom = dotNH * dotNH * (alphaSqr - 1.0) + 1.0;\n  float D = alphaSqr / (PI * denom * denom);\n  \n  float dotLH = saturate(dot(L, H));\n  float dotLH5 = pow(1.0 - dotLH, 5.0);\n  vec3 F = vec3(F0) + (vec3(1.0) - F0) * (dotLH5);\n  \n  float visNL = G1V(dotNL, prepSpec.z);\n  vec3 specular = D * F * visNL * prepSpec.w;\n\n  return specular;\n}\n\n\nvec3 computeLight(const in vec3 lightColor,\n          const in vec3 albedoColor,\n          const in vec3 normal,\n          const in vec3 viewDir,\n          const in vec3 lightDir,\n          const in vec3 specular,\n          const in vec4 prepSpec,\n          const in float dotNL)\n{\n  vec3 cSpec = LightingFuncUsePrepGGX(prepSpec, normal, viewDir, lightDir, specular, dotNL);\n  return lightColor * dotNL * cSpec;\n}\n\nvec3 computeSunLightPBRShading(\n  const in vec3 normal,\n  const in vec3 eyeVector,\n\n  const in vec3 albedo,\n  const in vec4 prepSpec,\n  const in vec3 specular,\n\n  const in vec3 lightColor,\n  const in vec3 lightEyeDir)\n{\n  bool lighted = false;\n  float NdotL = dot(lightEyeDir, normal);\n  if (NdotL > 0.0)\n  {\n    lighted = true;\n    return computeLight(lightColor, albedo, normal, eyeVector, lightEyeDir, specular, prepSpec,  NdotL);\n  }\n  return vec3(0.0);\n}\n#endif\n\n\nvoid main() {\n  vec3 eyeVector = normalize(-FragEyeVector.rgb);\n  mat3 transform = environmentTransformPBR(uEnvironmentTransform);\n\n  vec4 frontTangent = gl_FrontFacing ? FragTangent : -FragTangent;\n  vec3 frontNormal = gl_FrontFacing ? FragNormal : -FragNormal;\n\n  vec3 normal = normalize(frontNormal);\n\n  \n  #ifdef USE_NORMALMAP\n    vec3 nmTexel = rgbToNormal(textureRGB(sTextureNormalMap, vUv.xy), uFlipY);\n    vec3 normalMap = vec3(uNormalMapFactor * nmTexel.xy, nmTexel.z);\n    vec3 geoNormal = mtexNspaceTangent(frontTangent, normal, normalMap);\n\n  #else\n    vec3 geoNormal = normal;\n  #endif\n\n  \n  #ifdef USE_NORMALMAP2\n    vec3 nm2Texel = rgbToNormal(textureRGB(sTextureNormalMap2, vUvDetail.xy), uFlipY);\n    vec3 normalMap2 = vec3(uNormalMapFactor * nm2Texel.xy, nm2Texel.z);\n    vec3 geoNormal2 = mtexNspaceTangent(frontTangent, normal, normalMap2);\n\n    geoNormal = mix(geoNormal, geoNormal2, 0.5);\n  #endif\n\n  \n  #if defined(USE_PACKEDMAP)\n  vec3 combinedTexel = textureRGB(sTexturePackedMap, vUv.xy);\n  #elif defined(USE_METALGLOSSMAP)\n  vec3 combinedTexel = textureRGB(sTextureMetalGlossMap, vUv.xy);\n  #else\n  vec3 combinedTexel = vec3(1.0, 1.0, 1.0);\n  #endif\n  float metalness = combinedTexel.r;\n  float glossiness = combinedTexel.b;\n  float channelMetalnessPBR = metalness * uMetalnessPBRFactor;\n  float channelGlossinessPBR = glossiness * uGlossinessPBRFactor;\n  float roughness = 1.0 - channelGlossinessPBR;\n  float tmp_51 = max(1.e-4, roughness);\n  #ifdef USE_NORMALMAP\n    float tmp_52 = adjustRoughnessNormalMap(tmp_51, normalMap);\n    float materialRoughness = adjustRoughnessGeometry(tmp_52, normal);\n  #else\n    float materialRoughness = tmp_51;\n  #endif\n\n  \n  vec4 albedoMap = vec4(uColor, 1.0);\n  #ifdef USE_ALBEDOMAP\n    albedoMap *= textureRGBA(sTextureAlbedoMap, vUv.xy);\n  #endif\n\n  \n  #ifdef USE_ALBEDOMAP2\n    albedoMap *= textureRGBA(sTextureAlbedoMap2, vUvDetail.xy);\n  #endif\n\n  vec3 channelAlbedoPBR = sRGBToLinear(albedoMap.rgb) * uAlbedoPBRFactor;\n  vec3 materialDiffusePBR = channelAlbedoPBR * (1.0 - channelMetalnessPBR);\n\n  \n  #if defined(USE_PACKEDMAP)\n  float ao = combinedTexel.g;\n  #elif defined(USE_AOMAP)\n  float ao = textureIntensity(sTextureAOMap, vUv.xy);\n  #else\n  float ao = 1.0;\n  #endif\n\n  #ifdef USE_AOMAP2\n    ao *= textureIntensity(sTextureAOMap2, vUvDetail.xy);\n  #endif\n  float channelAOPBR = mix(1.0, ao, uAOPBRFactor);\n\n  \n  float luminance = 1.0;\n  #ifdef USE_LIGHTMAP\n    #ifdef USE_NORMALMAP\n      luminance = luma(computeIBLDiffuseUE4(geoNormal, materialDiffusePBR, transform, uDiffuseSPH));\n      luminance = mix(luminance, 1.0, abs(dot(geoNormal, normal)));\n      if (uMode == -1) {\n        luminance = 1.0;\n      }\n\n      vec3 diffuse = materialDiffusePBR * luminance;\n    #else\n      vec3 diffuse = materialDiffusePBR;\n    #endif\n  #else\n  vec3 diffuse = materialDiffusePBR * computeIBLDiffuseUE4(geoNormal, materialDiffusePBR, transform, uDiffuseSPH);\n  #endif\n\n  diffuse *= channelAOPBR;\n\n  #ifdef USE_LIGHTMAP\n    vec3 lightmapTexel = textureRGB(sTextureLightMap, vUv2);\n    float lightmapM = textureIntensity(sTextureLightMapM, vUv2);\n    vec3 lightmap = DecodeLightmapRGBM(sRGBToLinear(vec4(lightmapTexel, lightmapM)), vec2(34.0, 2.2));\n\n    diffuse *= lightmap;\n  #endif\n\n  \n  float materialSpecularf0 = mix(0.0, 0.08, uSpecularF0Factor);\n  vec3 materialSpecularPBR = mix(vec3(materialSpecularf0), channelAlbedoPBR, channelMetalnessPBR);\n  #ifdef CUBEMAP\n  vec3 specular = computeIBLSpecularUE4(geoNormal, eyeVector, materialRoughness, materialSpecularPBR, transform, sSpecularPBR, uTextureEnvironmentSpecularPBRLodRange, uTextureEnvironmentSpecularPBRTextureSize, normal);\n  #else\n  #ifdef PANORAMA\n  vec3 specular = computeIBLSpecularUE4(geoNormal, eyeVector, materialRoughness, materialSpecularPBR, transform, sPanoramaPBR, uTextureEnvironmentSpecularPBRLodRange, uTextureEnvironmentSpecularPBRTextureSize, normal);\n  #endif\n  #endif\n\n  \n  #if defined(OCCLUDE_SPECULAR) && defined(USE_LIGHTMAP)\n    float factor = 3.;\n    specular = mix(specular * 0.0, specular, clamp(min(lightmap, vec3(channelAOPBR)) * (factor * channelGlossinessPBR), 0.0, 1.0));\n  #endif\n\n  \n  #ifdef USE_EMISSIVEMAP\n  vec3 emissive = textureRGB(sTextureEmissiveMap, vUv.xy);\n  #endif\n\n  vec3 color = diffuse + specular;\n\n  color *= uEnvironmentExposure;\n\n  #ifdef USE_DIR_LIGHT\n  vec4 prepSpec = LightingFuncPrep(geoNormal, eyeVector, materialRoughness);\n  vec3 lightEyeDir = viewLightDir;\n  float lightIntensity = 0.4;\n  vec3 lightDiffuse = lightColor * lightIntensity;\n  vec3 lightSpecular = computeSunLightPBRShading(geoNormal, eyeVector, materialDiffusePBR, prepSpec, materialSpecularPBR, lightDiffuse, lightEyeDir);\n\n  float lmf = 1.0;\n\n    #ifdef USE_LIGHTMAP\n      lmf = clamp(pow(abs(luma(lightmap)), 4.0), 0.0, 1.0);\n      lightSpecular = mix(vec3(0.0), lightSpecular, lmf);\n    #endif\n\n  if (highlights == 1) {\n    color += lightSpecular;\n  }\n  #endif\n\n  float channelOpacity = mix(albedoMap.a * uOpacityFactor, 1.0, luma(specular) * 2.0);\n\n  #ifdef USE_EMISSIVEMAP\n    color += sRGBToLinear(emissive);\n  #endif\n\n  if (uMode <= 0) {\n    gl_FragColor = vec4(linearTosRGB(color), channelOpacity);\n  } else if (uMode == 1) {\n    gl_FragColor = vec4(linearTosRGB(geoNormal), 1.0);\n  } else if (uMode == 2) {\n    #ifdef USE_LIGHTMAP\n    gl_FragColor = vec4(linearTosRGB(lightmap), 1.0);\n    #else\n    gl_FragColor = vec4(1.0, 0.0, 1.0, 1.0);\n    #endif\n  } else if (uMode == 3) {\n    gl_FragColor = vec4(linearTosRGB(vec3(channelAOPBR)), 1.0);\n  } else if (uMode == 4) {\n    gl_FragColor = vec4(linearTosRGB(vec3(channelMetalnessPBR)), 1.0);\n  } else if (uMode == 5) {\n    gl_FragColor = vec4(linearTosRGB(vec3(channelGlossinessPBR)), 1.0);\n  } else if (uMode == 6) {\n    gl_FragColor = vec4(linearTosRGB(channelAlbedoPBR), 1.0);\n  } else if (uMode == 7) {\n    gl_FragColor = vec4(linearTosRGB(vec3(luminance)), 1.0);\n  }\n\n  #ifdef ALPHATEST\n    if (gl_FragColor.a < uAlphaTest) {\n      discard;\n    } else {\n      gl_FragColor.a = 1.0;\n    }\n  #endif\n}',
          'pbr.vs':
            'attribute vec3 position;\nattribute vec3 normal;\nattribute vec4 tangent;\nattribute vec2 uv;\nattribute vec2 uv2;\n\nuniform mat4 modelMatrix;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 cameraPosition;\n\nuniform vec4 offsetRepeat;\nuniform vec4 offsetRepeatDetail;\n\n\nvarying vec3 FragNormal;\nvarying vec4 FragTangent;\nvarying vec4 FragEyeVector;\nvarying vec2 vUv;\n\n#if defined(USE_ALBEDO2) || defined(USE_NORMALMAP2) || defined(USE_AOMAP2)\nvarying vec2 vUvDetail;\n#endif\n\n#ifdef USE_LIGHTMAP\nvarying vec2 vUv2;\n#endif\n\nvoid main() {\n  vec4 worldPosition = modelMatrix * vec4(position, 1.0);\n\n  FragEyeVector = viewMatrix * worldPosition;\n\n  \n\n  gl_Position = projectionMatrix * FragEyeVector;\n\n  vUv = uv.xy * offsetRepeat.zw + offsetRepeat.xy;\n\n  #if defined(USE_ALBEDO2) || defined(USE_NORMALMAP2) || defined(USE_AOMAP2)\n  vUvDetail = uv.xy * offsetRepeatDetail.zw + offsetRepeatDetail.xy;\n  #endif\n\n  FragNormal = normalMatrix * normal;\n  FragTangent.xyz = normalMatrix * tangent.xyz;\n  FragTangent.w = tangent.w;\n\n  #ifdef USE_LIGHTMAP\n  vUv2 = uv2.xy;\n  #endif\n}\n',
          'skybox.fs':
            'uniform samplerCube tCube;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n\nvoid main() {\n  vec3 dir = vWorldPosition;\n  dir.z *= -1.0;\n\n  vec4 texel = textureCube(tCube, dir);\n\n  gl_FragColor = vec4(texel.rgb, 1.0);\n}',
          'skybox.vs':
            'varying vec3 vWorldPosition;\n\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\n\nvoid main() {\n  vWorldPosition = transformDirection( position, modelMatrix );\n  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}',
          'stroke.fs':
            'uniform vec3 diffuse;\nuniform float opacity;\n\nvoid main() {\n  gl_FragColor = vec4(diffuse, opacity);\n}',
          'stroke.vs':
            'uniform float objectScale;\n\nvoid main() {\n  float thickness = 0.015 / objectScale;\n  vec4 worldPos = modelMatrix * vec4(position, 1.0);\n  vec4 worldNormal = modelMatrix * vec4(normal, 0.0);\n \n  worldPos += worldNormal * thickness;\n  gl_Position = projectionMatrix * viewMatrix * worldPos;\n}'
        }
      },
      {}
    ],
    38: [
      function(t, e, n) {
        var i = THREE.PerspectiveCamera,
          r = t('3'),
          o = t('7'),
          a = t('43'),
          s = t('53'),
          c = t('45'),
          u = t('39'),
          l = function(t) {
            i.call(this),
            (this.fov = 50),
            (this.near = 0.01),
            (this.far = 1500),
            this.updateProjectionMatrix(),
            (this.moving = !1),
            (this.rotating = !1),
            t.vr
              ? ((this.vr = !0),
                (this.vrControls = new o(this)),
                (this.mode = l.VR_MODE),
                this.moveTo(0, 0))
              : (window.isMobile
                ? ((this.lookControls = new s(
                  this,
                  document.getElementById('main_canvas')
                )),
                  this.lookControls.setRotationAngle(3.6))
                : ((this.lookControls = new a(this, t.$container)),
                  u.ENABLE_DAMPING &&
                        ((this.lookControls.enableDamping = !0),
                          (this.lookControls.dampingFactor = 0.25))),
                (this.orbitControls = new c(this, {
                  autoSpeed: u.ENABLE_DAMPING ? 0.1 : 1,
                  autoDelay: 3e3,
                  domElement: document.getElementById('main_canvas')
                })),
                (this.orbitControls.enableZoom = !!u.ENABLE_ZOOM),
                (this.orbitControls.enablePan = !!u.ENABLE_PAN),
                (this.orbitControls.enabled = !1),
                (this.orbitControls.maxPolarAngle = Math.PI / 2),
                u.ENABLE_DAMPING &&
                    ((this.orbitControls.enableDamping = !0),
                      (this.orbitControls.dampingFactor = 0.065),
                      (this.orbitControls.rotateSpeed = 0.05)),
                (this._target = new THREE.Object3D()),
                (this._target.position.z = -1),
                this.add(this._target),
                (this.mode = l.LOOK_MODE)),
            t.states &&
                (this.initStates(t.states),
                  this.states.start
                    ? (this.position.copy(this.states.start[0].position),
                      this.quaternion.copy(this.states.start[0].quaternion),
                      this.vr || this.lookControls.setOrientationFromCamera())
                    : this.moveTo(-3.5, 3))
          }
        l.inherit(i, {
          initStates: function(t) {
            (this.states = {}),
            t.forEach(function(t) {
              var e = t.name.replace('_camera', '')
              this.states[e]
                ? this.states[e].push(t)
                : (this.states[e] = [t]),
              t.children.length > 0 &&
                    ((t.target = new THREE.Vector3()),
                      t.children[0].getWorldPosition(t.target))
            }, this)
          },
          setState: function(t) {
            if (!this.vr) {
              if (void 0 === t) {
return void console.warn(
                "setCameraState() requires an argument"
              ); }
              if (!this.states.hasOwnProperty(t)) { return void console.error('Camera state was not found:', t)}
              this.setMode(l.ORBIT_MODE)
              var e = _.min(
                  this.states[t],
                  function(t) {
                    return this.position.distanceTo(t.position)
                  }.bind(this)
                ),
                n = 1e3
              return (
                (this.isTransitioning = !0),
                this.tweenOrbitTargetTo(e.target, n).onComplete(
                  function() {
                    (this.isTransitioning = !1),
                    this.orbitControls.startAutoOrbit(1e3)
                  }.bind(this)
                ),
                this.tweenPositionTo(e.position, n)
              )
            }
          },
          setMode: (function(t) {
            var e = new THREE.Vector3()
            return function(t) {
              switch (t) {
                case l.ORBIT_MODE:
                  this._target.getWorldPosition(e),
                  this.orbitControls.setTarget(e),
                  (this.orbitControls.enabled = !0)
                  break
                case l.LOOK_MODE:
                  this.lookControls.setOrientationFromCamera(),
                  (this.orbitControls.enabled = !1),
                  this.orbitControls.stopAutoOrbit()
                  break
                case l.VR_MODE:
                  this.orbitControls.enabled = !1
              }
              this.mode = t
            }
          })(),
          moveTo: (function() {
            var t = new THREE.Vector3()
            return function(e, n, i) {
              (i = i || 0),
              t.set(e, this.vr ? l.DEFAULT_HEIGHT_VR : l.DEFAULT_HEIGHT, n),
              i > 0 && !this.vr
                ? (this.trigger('startMove'),
                  (this.moving = !0),
                  this.tweenPositionTo(t, i).onComplete(
                    function() {
                      this.trigger('endMove'), (this.moving = !1)
                    }.bind(this)
                  ))
                : (this.position.copy(t),
                  this.vr &&
                      (this.updateMatrixWorld(!0),
                        this.vrControls.setPosition(this))),
              this.firstMove ||
                  (this.trigger('firstMove'), (this.firstMove = !0)),
              this.vr || this.setMode(l.LOOK_MODE)
            }
          })(),
          tweenPositionTo: (function() {
            var t = { x: 0, y: 0, z: 0 },
              e = new TWEEN.Tween()
            return function(n, i) {
              return (
                (t.x = this.position.x),
                (t.y = this.position.y),
                (t.z = this.position.z),
                e
                  .reset(t)
                  .to({ x: n.x, y: n.y, z: n.z }, i)
                  .easing(TWEEN.Easing.Quadratic.InOut)
                  .onUpdate(
                    function() {
                      this.position.set(t.x, t.y, t.z)
                    }.bind(this)
                  )
                  .start()
              )
            }
          })(),
          tweenOrbitTargetTo: (function() {
            var t = { x: 0, y: 0, z: 0 },
              e = new TWEEN.Tween()
            return function(n, i) {
              if (!this.orbitControls) { throw new Error('Orbit controls required'); }
              var r = this.orbitControls.getTarget()
              return (
                (t.x = r.x),
                (t.y = r.y),
                (t.z = r.z),
                e
                  .reset(t)
                  .to({ x: n.x, y: n.y, z: n.z }, i)
                  .easing(TWEEN.Easing.Quadratic.InOut)
                  .onUpdate(
                    function() {
                      this.orbitControls.target.set(t.x, t.y, t.z)
                    }.bind(this)
                  )
                  .start()
              )
            }
          })(),
          enableControls: function() {
            this.vr || (this.lookControls.enabled = !0)
          },
          setOrbitDistances: function(t, e) {
            (this.orbitControls.minDistance = t),
            (this.orbitControls.maxDistance = e)
          },
          update: function() {
            this.mode === l.VR_MODE
              ? this.vrControls.update()
              : (this.mode === l.ORBIT_MODE
                ? (this.orbitControls.update(),
                  (this.rotating =
                      this.orbitControls.isRotating || this.isTransitioning))
                : (this.lookControls.update(),
                  (this.rotating = this.lookControls.isRotating)),
                this.rotating &&
                  !this.firstRotate &&
                  (this.trigger('firstRotate'), (this.firstRotate = !0)))
          }
        }),
        (l.LOOK_MODE = 0),
        (l.ORBIT_MODE = 1),
        (l.VR_MODE = 2),
        (l.DEFAULT_HEIGHT = 1.4),
        (l.DEFAULT_HEIGHT_VR = 1.55),
        l.mixin(r),
        (e.exports = l)
      },
      { 3: 3, 39: 39, 43: 43, 45: 45, 53: 53, 7: 7 }
    ],
    39: [
      function(t, e, n) {
        (Config = {
          ASSET_COUNT: 140,
          DEBUG_KEYS: !1,
          AUTOSTART: !1,
          ENABLE_ZOOM: !0,
          ENABLE_PAN: !1,
          ENABLE_DAMPING: !0
        }),
        (e.exports = Config)
      },
      {}
    ],
    40: [
      function(t, e, n) {
        e.exports = [
          {
            name: 'fauteuil',
            linkedObjects: ['seat_main'],
            panel_data: {
              name: 'OSCAR',
              type: 'LOUNGE SEAT',
              dimensions: '100 x 94 x 97 cm',
              materials: [
                'Blue Leather',
                'Grey Knit Fabric',
                'Blue Knit Fabric',
                'Dark Grey Cotton'
              ]
            },
            minDistance: 1,
            maxDistance: 2
          },
          {
            name: 'fauteuil2',
            linkedObjects: ['seat_main'],
            panel_data: {
              name: 'OSCAR',
              type: 'LOUNGE SEAT',
              dimensions: '100 x 94 x 97 cm',
              materials: [
                'Blue Leather',
                'Grey Knit Fabric',
                'Blue Knit Fabric',
                'Dark Grey Cotton'
              ]
            },
            minDistance: 1,
            maxDistance: 2
          },
          {
            name: 'table',
            linkedObjects: ['table_top'],
            panel_data: {
              name: 'CHLOE',
              type: 'DINING TABLE',
              dimensions: '180 x 90 x 75 cm',
              materials: [
                'Ash Wood',
                'Walnut',
                'Grey Blue Granite',
                'Painted Metal'
              ]
            },
            minDistance: 1.65,
            maxDistance: 2.55
          },
          {
            name: 'coffee_table',
            linkedObjects: ['board'],
            panel_data: {
              name: 'ELENA',
              type: 'COFFEE TABLE',
              dimensions: '120 x 120 x 35 cm',
              materials: [
                'Natural Beech Wood',
                'Vintage Plastic',
                'Glossy White',
                'Polished Copper'
              ]
            },
            minDistance: 0.95,
            maxDistance: 1.6
          },
          {
            name: 'canape',
            linkedObjects: ['sofa_main'],
            panel_data: {
              name: 'BARNEY',
              type: 'LOUNGE SOFA',
              dimensions: '274 x 95 x 83 cm',
              materials: [
                'White Bull Leather',
                'Brown Leather',
                'Grey Fabric',
                'Dark Grey Cotton'
              ]
            },
            minDistance: 2,
            maxDistance: 3
          },
          {
            name: 'suspended_lamp',
            linkedObjects: ['suspended_lamp'],
            panel_data: {
              name: 'SARAH',
              type: 'PENDANT LAMP',
              dimensions: '35 x 35 x 30 cm',
              materials: [
                'Black & Gold',
                'Glossy White',
                'Glossy Blue',
                'Yellow Rubber'
              ]
            },
            minDistance: 1,
            maxDistance: 2
          }
        ]
      },
      {}
    ],
    41: [
      function(t, e, n) {
        e.exports = '.js'
      },
      {}
    ],
    42: [
      function(t, e, n) {
        function i() {
          (c = document.createElement('canvas')), (s = c.getContext('2d'))
        }
        function r(t, e) {
          (c.width = t), (c.height = e), o()
        }
        function o() {
          s.clearRect(0, 0, c.width, c.height),
          (s.fillStyle = 'rgba(255, 255, 255, 0.001)'),
          s.fillRect(0, 0, c.width, c.height)
        }
        function a(t, e, n, i) {
          (s.font = e),
          (s.fillStyle = n),
          (s.textBaseline = 'hanging'),
          s.fillText(t, 0, u + i)
        }
        var s,
          c,
          u = 1,
          l = function() {
            i(), (this.canvas = c)
          };
        (l.prototype.draw = function(t, e, n, i) {
          t.length > 0 && a(t, e, n, i)
        }),
        (l.prototype.resize = function(t, e) {
          r(t, e)
        }),
        (l.prototype.reset = function() {
          o()
        }),
        (e.exports = l)
      },
      {}
    ],
    43: [
      function(t, e, n) {
        function i(t, e) {
          var n = document.getElementById('main_canvas')
          n.addEventListener('mousemove', this.onMouseMove.bind(this)),
          n.addEventListener('mousedown', this.onMouseDown.bind(this)),
          n.addEventListener('mouseup', this.onMouseUp.bind(this)),
          (this.camera = t),
          (this.phi = 0),
          (this.theta = 0),
          (this.rotateStart = new THREE.Vector2()),
          (this.rotateEnd = new THREE.Vector2()),
          (this.rotateDelta = new THREE.Vector2()),
          (this.isDragging = !1),
          (this.isRotating = !1),
          (this.enableDamping = !1),
          (this.dampingFactor = 0.25),
          (this.$container = e)
        }
        function r(t) {
          var e = t.clientX == o && t.clientY == a
          return (o = t.clientX), (a = t.clientY), e
        }
        var o,
          a,
          s = 0.5,
          c = 0.3;
        (i.prototype = {
          update: (function() {
            var t = new THREE.Euler(0, 0, 0, 'YXZ'),
              e = new THREE.Quaternion()
            return function() {
              return (
                t.set(this.phi, this.theta, 0),
                e.setFromEuler(t),
                this.enableDamping
                  ? this.camera.quaternion.slerp(e, this.dampingFactor)
                  : this.camera.quaternion.copy(e),
                this
              )
            }
          })(),
          setOrientationFromCamera: (function() {
            var t = new THREE.Euler(0, 0, 0, 'YXZ')
            return function() {
              return (
                t.setFromQuaternion(this.camera.quaternion),
                (this.phi = t.x),
                (this.theta = t.y),
                this
              )
            }
          })(),
          reset: function() {
            return (this.phi = 0), (this.theta = 0), this.update(), this
          },
          onMouseDown: function(t) {
            this.rotateStart.set(t.clientX, t.clientY),
            (this.isMouseDown = !0),
            (o = t.clientX),
            (a = t.clientY)
          },
          onMouseMove: function(t) {
            if (
              !r(t) &&
              (this.isMouseDown || this.isPointerLocked()) &&
              this.enabled
            ) {
              if (
                ((this.isRotating = !0),
                  this.$container.hasClass('rotating') ||
                  this.$container.addClass('rotating'),
                  this.isPointerLocked())
              ) {
                var e = t.movementX || t.mozMovementX || 0,
                  n = t.movementY || t.mozMovementY || 0
                this.rotateEnd.set(
                  this.rotateStart.x - e,
                  this.rotateStart.y - n
                )
              } else this.rotateEnd.set(t.clientX, t.clientY)
              this.rotateDelta.subVectors(this.rotateEnd, this.rotateStart),
              this.rotateStart.copy(this.rotateEnd),
              (this.phi +=
                  ((2 * Math.PI * this.rotateDelta.y) / screen.height) * c),
              (this.theta +=
                  ((2 * Math.PI * this.rotateDelta.x) / screen.width) * s),
              (this.phi = THREE.Math.clamp(
                this.phi,
                -Math.PI / 2,
                Math.PI / 2
              ))
            }
          },
          onMouseUp: function(t) {
            (this.isMouseDown = !1),
            (this.isRotating = !1),
            this.$container.removeClass('rotating')
          },
          isPointerLocked: function() {
            var t =
              document.pointerLockElement ||
              document.mozPointerLockElement ||
              document.webkitPointerLockElement
            return void 0 !== t
          }
        }),
        (e.exports = i)
      },
      {}
    ],
    44: [
      function(t, e, n) {
        var i = t('3'),
          r = function(t) {
            (t = t || {}),
            (this.objects = []),
            (this.mouseCoords = { x: 0, y: 0 }),
            (this.camera = t.camera),
            (this.vr = t.vr),
            (this.checkFlag = void 0 !== t.checkFlag ? t.checkFlag : !1)
          };
        (r.prototype = {
          add: function(t) {
            _.isArray(t) || (t = [t]),
            _.each(
              t,
              function(t) {
                this.objects.push(t), (t.pickable = !0)
              },
              this
            )
          },
          remove: function(t) {
            for (var e = 0; e < this.objects.length; e++) {
              var n = this.objects[e].id
              if (n === t.id) {
                this.objects.splice(e, 1)
                break
              }
            }
          },
          clear: function() {
            this.objects = []
          },
          clearState: function() {
            this.currentObj &&
              (this.trigger('leave', this.currentObj),
                (this.currentObj = null))
          },
          onTap: function() {
            this.currentObj &&
              this.trigger('pick', this.currentObj, this.point)
          },
          hitTest: (function() {
            var t = new THREE.Raycaster(),
              e = new THREE.Vector3(),
              n = new THREE.Vector3()
            new THREE.Vector3()
            return function(i) {
              var r
              this.camera.getWorldPosition(n),
              this.vr || i
                ? (this.camera.getWorldDirection(e), t.set(n, e))
                : t.setFromCamera(this.mouseCoords, this.camera)
              var o = t.intersectObjects(this.objects)
              if (o.length > 0) {
                var a = _.find(
                  o,
                  function(t) {
                    return this.checkFlag
                      ? void 0 !== t.object.pickable && t.object.pickable === !0
                      : t.object
                  },
                  this
                )
                a && ((this.point = a.point), (r = a.object))
              }
              return (
                ((r && this.currentObj && this.currentObj !== r) ||
                  (!r && this.currentObj)) &&
                  (this.trigger('leave', this.currentObj),
                    (this.currentObj = null)),
                r &&
                  !this.currentObj &&
                  (this.trigger('enter', r, this.point), (this.currentObj = r)),
                r
              )
            }
          })(),
          updateMouseCoords: function(t) {
            this.mouseCoords = t
          },
          getPoint: function() {
            return this.point
          }
        }),
        r.mixin(i),
        (e.exports = r)
      },
      { 3: 3 }
    ],
    45: [
      function(t, e, n) {
        function i(t, e) {
          r.call(this, t, e.domElement),
          (this.autoSpeed = e.autoSpeed),
          (this.autoDelay = e.autoDelay),
          (this.autoOrbitTimer = o.createTimer({
            duration: this.autoDelay,
            onEnd: function() {
              this.startAutoOrbit()
            }.bind(this)
          }))
        }
        var r = t('6'),
          o = t('5')
        i.inherit(r, {
          setTarget: function(t) {
            this.constraint.target.copy(t)
          },
          getTarget: function(t) {
            return this.constraint.target
          },
          startAutoOrbit: function(t) {
            var e = function() {
              (this.autoRotateSpeed = this.autoSpeed),
              (this.autoRotate = !0),
              (this.startTimeout = null)
            }.bind(this)
            this.stopAutoOrbit(),
            void 0 !== t ? (this.startTimeout = setTimeout(e, t)) : e()
          },
          stopAutoOrbit: function() {
            (this.autoRotate = !1), this.autoOrbitTimer.reset()
          },
          onMouseMove: function() {
            this.stopAutoOrbit(),
            this.autoOrbitTimer.start(),
            this.startTimeout && clearTimeout(this.startTimeout)
          }
        }),
        (e.exports = i)
      },
      { 5: 5, 6: 6 }
    ],
    46: [
      function(t, e, n) {
        function i(t) {
          (this.kFilter = t),
          (this.currentAccelMeasurement = new r()),
          (this.currentGyroMeasurement = new r()),
          (this.previousGyroMeasurement = new r()),
          o.isIOS()
            ? (this.filterQ = new THREE.Quaternion(-1, 0, 0, 1))
            : (this.filterQ = new THREE.Quaternion(1, 0, 0, 1)),
          (this.previousFilterQ = new THREE.Quaternion()),
          this.previousFilterQ.copy(this.filterQ),
          (this.accelQ = new THREE.Quaternion()),
          (this.isOrientationInitialized = !1),
          (this.estimatedGravity = new THREE.Vector3()),
          (this.measuredGravity = new THREE.Vector3()),
          (this.gyroIntegralQ = new THREE.Quaternion())
        }
        var r = t('50'),
          o = t('52'),
          a = !1;
        (i.prototype.addAccelMeasurement = function(t, e) {
          this.currentAccelMeasurement.set(t, e)
        }),
        (i.prototype.addGyroMeasurement = function(t, e) {
          this.currentGyroMeasurement.set(t, e)
          var n = e - this.previousGyroMeasurement.timestampS
          o.isTimestampDeltaValid(n) && this.run_(),
          this.previousGyroMeasurement.copy(this.currentGyroMeasurement)
        }),
        (i.prototype.run_ = function() {
          if (!this.isOrientationInitialized)
            {return (
              (this.accelQ = this.accelToQuaternion_(
                this.currentAccelMeasurement.sample
              )),
              this.previousFilterQ.copy(this.accelQ),
              void (this.isOrientationInitialized = !0)
            );}
          var t =
                this.currentGyroMeasurement.timestampS -
                this.previousGyroMeasurement.timestampS,
            e = this.gyroToQuaternionDelta_(
              this.currentGyroMeasurement.sample,
              t
            )
          this.gyroIntegralQ.multiply(e),
          this.filterQ.copy(this.previousFilterQ),
          this.filterQ.multiply(e)
          var n = new THREE.Quaternion()
          n.copy(this.filterQ),
          n.inverse(),
          this.estimatedGravity.set(0, 0, -1),
          this.estimatedGravity.applyQuaternion(n),
          this.estimatedGravity.normalize(),
          this.measuredGravity.copy(this.currentAccelMeasurement.sample),
          this.measuredGravity.normalize()
          var i = new THREE.Quaternion()
          i.setFromUnitVectors(this.estimatedGravity, this.measuredGravity),
          i.inverse(),
          a &&
                console.log(
                  'Delta: %d deg, G_est: (%s, %s, %s), G_meas: (%s, %s, %s)',
                  THREE.Math.radToDeg(o.getQuaternionAngle(i)),
                  this.estimatedGravity.x.toFixed(1),
                  this.estimatedGravity.y.toFixed(1),
                  this.estimatedGravity.z.toFixed(1),
                  this.measuredGravity.x.toFixed(1),
                  this.measuredGravity.y.toFixed(1),
                  this.measuredGravity.z.toFixed(1)
                )
          var r = new THREE.Quaternion()
          r.copy(this.filterQ),
          r.multiply(i),
          this.filterQ.slerp(r, 1 - this.kFilter),
          this.previousFilterQ.copy(this.filterQ)
        }),
        (i.prototype.getOrientation = function() {
          return this.filterQ
        }),
        (i.prototype.accelToQuaternion_ = function(t) {
          var e = new THREE.Vector3()
          e.copy(t), e.normalize()
          var n = new THREE.Quaternion()
          return (
            n.setFromUnitVectors(new THREE.Vector3(0, 0, -1), e),
            n.inverse(),
            n
          )
        }),
        (i.prototype.gyroToQuaternionDelta_ = function(t, e) {
          var n = new THREE.Quaternion(),
            i = new THREE.Vector3()
          return (
            i.copy(t), i.normalize(), n.setFromAxisAngle(i, t.length() * e), n
          )
        }),
        (e.exports = i)
      },
      { 50: 50, 52: 52 }
    ],
    47: [
      function(t, e, n) {
        e.exports = {
          K_FILTER: 0.98,
          PREDICTION_TIME_S: 0.01,
          TOUCH_PANNER_DISABLED: !1,
          YAW_ONLY: !1
        }
      },
      {}
    ],
    48: [
      function(t, e, n) {
        function i(t) {
          (this.deviceId = 'webvr-polyfill:fused'),
          (this.deviceName = 'VR Position Device (webvr-polyfill:fused)'),
          (this.accelerometer = new THREE.Vector3()),
          (this.gyroscope = new THREE.Vector3()),
          window.addEventListener(
            'devicemotion',
            this.onDeviceMotionChange_.bind(this)
          ),
          window.addEventListener(
            'orientationchange',
            this.onScreenOrientationChange_.bind(this)
          ),
          (this.filter = new o(r.K_FILTER)),
          (this.posePredictor = new a(r.PREDICTION_TIME_S)),
          (this.touchPanner = new s(t)),
          (this.filterToWorldQ = new THREE.Quaternion()),
          c.isIOS()
            ? this.filterToWorldQ.setFromAxisAngle(
              new THREE.Vector3(1, 0, 0),
              Math.PI / 2
            )
            : this.filterToWorldQ.setFromAxisAngle(
              new THREE.Vector3(1, 0, 0),
              -Math.PI / 2
            ),
          (this.inverseWorldToScreenQ = new THREE.Quaternion()),
          (this.worldToScreenQ = new THREE.Quaternion()),
          (this.originalPoseAdjustQ = new THREE.Quaternion()),
          this.originalPoseAdjustQ.setFromAxisAngle(
            new THREE.Vector3(0, 0, 1),
            (-window.orientation * Math.PI) / 180
          ),
          this.setScreenTransform_(),
          c.isLandscapeMode() &&
              this.filterToWorldQ.multiply(this.inverseWorldToScreenQ),
          (this.resetQ = new THREE.Quaternion()),
          (this.isFirefoxAndroid = c.isFirefoxAndroid()),
          (this.isIOS = c.isIOS())
        }
        var r = t('47'),
          o = t('46'),
          a = t('49'),
          s = t('51'),
          c = t('52'),
          u = new THREE.Quaternion(),
          l = new THREE.Quaternion();
        (i.prototype.getOrientation = function() {
          var t = new THREE.Quaternion(),
            e = l.slerp(this.filter.getOrientation(), 0.5)
          this.predictedQ = this.posePredictor.getPrediction(
            e,
            this.gyroscope,
            this.previousTimestampS
          )
          var t = u
          return (
            t.copy(this.filterToWorldQ),
            t.multiply(this.resetQ),
            r.TOUCH_PANNER_DISABLED ||
              t.multiply(this.touchPanner.getOrientation()),
            t.multiply(this.predictedQ),
            t.multiply(this.worldToScreenQ),
            r.YAW_ONLY && ((t.x = 0), (t.z = 0), t.normalize()),
            t
          )
        }),
        (i.prototype.resetPose = function() {
          this.resetQ.copy(this.filter.getOrientation()),
          (this.resetQ.x = 0),
          (this.resetQ.y = 0),
          (this.resetQ.z *= -1),
          this.resetQ.normalize(),
          c.isLandscapeMode() &&
                this.resetQ.multiply(this.inverseWorldToScreenQ),
          this.resetQ.multiply(this.originalPoseAdjustQ),
          r.TOUCH_PANNER_DISABLED || this.touchPanner.resetSensor()
        }),
        (i.prototype.onDeviceMotionChange_ = function(t) {
          var e = t.accelerationIncludingGravity,
            n = t.rotationRate,
            i = t.timeStamp / 1e3
          this.isFirefoxAndroid && (i /= 1e3)
          var r = i - this.previousTimestampS
          return r <= c.MIN_TIMESTEP || r > c.MAX_TIMESTEP
            ? (console.warn(
              'Invalid timestamps detected. Time step between successive gyroscope sensor samples is very small or not monotonic'
            ),
              void (this.previousTimestampS = i))
            : (this.accelerometer.set(-e.x, -e.y, -e.z),
              this.gyroscope.set(n.alpha, n.beta, n.gamma),
              (this.isIOS || this.isFirefoxAndroid) &&
                  this.gyroscope.multiplyScalar(Math.PI / 180),
              this.filter.addAccelMeasurement(this.accelerometer, i),
              this.filter.addGyroMeasurement(this.gyroscope, i),
              void (this.previousTimestampS = i))
        }),
        (i.prototype.onScreenOrientationChange_ = function(t) {
          this.setScreenTransform_()
        }),
        (i.prototype.setScreenTransform_ = function() {
          switch ((this.worldToScreenQ.set(0, 0, 0, 1), window.orientation)) {
            case 0:
              break
            case 90:
              this.worldToScreenQ.setFromAxisAngle(
                new THREE.Vector3(0, 0, 1),
                -Math.PI / 2
              )
              break;
            case -90:
              this.worldToScreenQ.setFromAxisAngle(
                new THREE.Vector3(0, 0, 1),
                Math.PI / 2
              )
              break;
            case 180:
          }
          this.inverseWorldToScreenQ.copy(this.worldToScreenQ),
          this.inverseWorldToScreenQ.inverse()
        }),
        (e.exports = i)
      },
      { 46: 46, 47: 47, 49: 49, 51: 51, 52: 52 }
    ],
    49: [
      function(t, e, n) {
        function i(t) {
          (this.predictionTimeS = t),
          (this.previousQ = new THREE.Quaternion()),
          (this.previousTimestampS = null),
          (this.deltaQ = new THREE.Quaternion()),
          (this.outQ = new THREE.Quaternion())
        }
        var r = !1;
        (i.prototype.getPrediction = function(t, e, n) {
          if (!this.previousTimestampS) { return this.previousQ.copy(t), (this.previousTimestampS = n), t}
          var i = new THREE.Vector3()
          i.copy(e), i.normalize()
          var o = e.length()
          if (o < THREE.Math.degToRad(20)) { return (
            r &&
                console.log(
                  'Moving slowly, at %s deg/s: no prediction',
                  THREE.Math.radToDeg(o).toFixed(1)
                ),
            this.outQ.copy(t),
            this.previousQ.copy(t),
            this.outQ
          );
}
          var a = (n - this.previousTimestampS, o * this.predictionTimeS)
          return (
            this.deltaQ.setFromAxisAngle(i, a),
            this.outQ.copy(this.previousQ),
            this.outQ.multiply(this.deltaQ),
            this.previousQ.copy(t),
            (this.previousTimestampS = n),
            this.outQ
          )
        }),
        (e.exports = i)
      },
      {}
    ],
    50: [
      function(t, e, n) {
        function i(t, e) {
          this.set(t, e)
        }
        (i.prototype.set = function(t, e) {
          (this.sample = t), (this.timestampS = e)
        }),
        (i.prototype.copy = function(t) {
          this.set(t.sample, t.timestampS)
        }),
        (e.exports = i)
      },
      {}
    ],
    51: [
      function(t, e, n) {
        function i(t) {
          var e = void 0 !== t ? t : window
          e.addEventListener('touchstart', this.onTouchStart_.bind(this)),
          e.addEventListener('touchmove', this.onTouchMove_.bind(this)),
          e.addEventListener('touchend', this.onTouchEnd_.bind(this)),
          (this.isTouching = !1),
          (this.rotateStart = new THREE.Vector2()),
          (this.rotateEnd = new THREE.Vector2()),
          (this.rotateDelta = new THREE.Vector2()),
          (this.theta = 0),
          (this.orientation = new THREE.Quaternion())
        }
        var r = t('52'),
          o = 0.5;
        (i.prototype.getOrientation = (function() {
          var t = new THREE.Euler(0, 0, 0, 'XYZ')
          return function() {
            return (
              t.set(0, 0, this.theta),
              this.orientation.setFromEuler(t),
              this.orientation
            )
          }
        })()),
        (i.prototype.resetSensor = function() {
          this.theta = 0
        }),
        (i.prototype.onTouchStart_ = function(t) {
          t.touches.length == 1 &&
              (this.rotateStart.set(t.touches[0].pageX, t.touches[0].pageY),
                (this.isTouching = !0))
        }),
        (i.prototype.onTouchMove_ = function(t) {
          if (this.isTouching) {
            this.rotateEnd.set(t.touches[0].pageX, t.touches[0].pageY),
            this.rotateDelta.subVectors(this.rotateEnd, this.rotateStart),
            this.rotateStart.copy(this.rotateEnd),
            r.isIOS() && (this.rotateDelta.x *= -1)
            var e = document.body;
            (this.theta +=
                ((2 * Math.PI * this.rotateDelta.x) / e.clientWidth) * o),
            t.preventDefault()
          }
        }),
        (i.prototype.setRotationAngle = function(t) {
          this.theta = t
        }),
        (i.prototype.onTouchEnd_ = function(t) {
          this.isTouching = !1
        }),
        (e.exports = i)
      },
      { 52: 52 }
    ],
    52: [
      function(t, e, n) {
        var i = window.Util || {};
        (i.MIN_TIMESTEP = 0.001),
        (i.MAX_TIMESTEP = 1),
        (i.isIOS = (function() {
          var t = /iPad|iPhone|iPod/.test(navigator.platform)
          return function() {
            return t
          };
        })()),
        (i.isSafari = (function() {
          var t = /^((?!chrome|android).)*safari/i.test(navigator.userAgent)
          return function() {
            return t
          };
        })()),
        (i.isFirefoxAndroid = (function() {
          var t =
              navigator.userAgent.indexOf('Firefox') !== -1 &&
              navigator.userAgent.indexOf('Android') !== -1
          return function() {
            return t
          };
        })()),
        (i.isLandscapeMode = function() {
          return window.orientation == 90 || window.orientation == -90
        }),
        (i.isTimestampDeltaValid = function(t) {
          return isNaN(t)
            ? !1
            : t <= i.MIN_TIMESTEP
              ? !1
              : !(t > i.MAX_TIMESTEP)
        }),
        (e.exports = i)
      },
      {}
    ],
    53: [
      function(t, e, n) {
        function i(t, e) {
          (this.camera = t), (this.sensor = new r(e))
        }
        var r = t('48');
        (i.prototype = {}),
        (i.prototype.update = function() {
          this.camera.quaternion.copy(this.sensor.getOrientation())
        }),
        (i.prototype.reset = function() {
          this.sensor.resetPose()
        }),
        (i.prototype.setOrientationFromCamera = function() {}),
        (i.prototype.setRotationAngle = function(t) {
          this.sensor.touchPanner.setRotationAngle(t)
        }),
        (e.exports = i)
      },
      { 48: 48 }
    ],
    54: [
      function(t, e, n) {
        var i = t('14'),
          r = {
            uniforms: THREE.UniformsUtils.merge([
              THREE.UniformsLib.fog,
              {
                color: { value: new THREE.Color(5592405) },
                mirrorSampler: { value: null },
                textureMatrix: { value: new THREE.Matrix4() },
                normalSampler: { value: null },
                alpha: { value: 1 },
                time: { value: 0 },
                distortionScale: { value: 20 },
                noiseScale: { value: 1 },
                sunColor: { value: new THREE.Color(8355711) },
                sunDirection: { value: new THREE.Vector3(0.70707, 0.70707, 0) },
                eye: { value: new THREE.Vector3() }
              }
            ]),
            vertexShader: [
              'uniform mat4 textureMatrix;',
              'varying vec4 mirrorCoord;',
              'varying vec3 worldPosition;',
              'void main() {',
              'vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );',
              'vec4 worldPos = modelMatrix * vec4( position, 1.0 );',
              'mirrorCoord = textureMatrix * worldPos;',
              'worldPosition = worldPos.xyz;',
              'gl_Position = projectionMatrix * mvPosition;',
              '}'
            ].join('\n'),
            fragmentShader: [
              'precision highp float;',
              'uniform sampler2D mirrorSampler;',
              'uniform float alpha;',
              'uniform float time;',
              'uniform float distortionScale;',
              'uniform sampler2D normalSampler;',
              'uniform vec3 sunColor;',
              'uniform vec3 sunDirection;',
              'uniform vec3 eye;',
              'uniform vec3 color;',
              'varying vec4 mirrorCoord;',
              'varying vec3 worldPosition;',
              'vec4 getNoise( vec2 uv )',
              '{',
              'float uvScale = 0.5;',
              'float t = time * uvScale;',
              '	vec2 uv0 = ( uv / 20.0 ) + vec2(t / 17.0, t / 29.0);',
              '	vec2 uv1 = (uv / 30.0) - vec2( t / -19.0, t / 31.0 );',
              '	vec2 uv2 = uv / vec2( 9.0, 18.0 ) + vec2( t / 101.0, t / 97.0 );',
              '	vec2 uv3 = uv / vec2( 13.0, 20.0 ) - vec2( t / 109.0, t / -113.0 );',
              'uv0 /= uvScale;',
              'uv1 /= uvScale;',
              'uv2 /= uvScale;',
              'uv3 /= uvScale;',
              '	vec4 noise = texture2D( normalSampler, uv0 ) + texture2D( normalSampler, uv1 ) + texture2D(normalSampler, uv2) + texture2D(normalSampler, uv3);',
              '	return noise * 0.5 - 1.0;',
              '}',
              'void sunLight( const vec3 surfaceNormal, const vec3 eyeDirection, float shiny, float spec, float diffuse, inout vec3 diffuseColor, inout vec3 specularColor )',
              '{',
              '	vec3 reflection = normalize( reflect( -sunDirection, surfaceNormal ) );',
              '	float direction = max( 0.0, dot( eyeDirection, reflection ) );',
              '	specularColor += pow( direction, shiny ) * sunColor * spec;',
              '	diffuseColor += max( dot( sunDirection, surfaceNormal ), 0.0 ) * sunColor * diffuse;',
              '}',
              THREE.ShaderChunk.common,
              THREE.ShaderChunk.fog_pars_fragment,
              'float blendOverlay(float base, float blend) {',
              'return( base < 0.5 ? ( 2.0 * base * blend ) : (1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );',
              '}',
              'void main()',
              '{',
              '	vec4 noise = getNoise( worldPosition.xz );',
              '	vec3 surfaceNormal = normalize( noise.xzy * vec3( 1.5, 1.0, 1.5 ) );',
              '	vec3 diffuseLight = vec3(0.0);',
              '	vec3 specularLight = vec3(0.0);',
              '	vec3 worldToEye = eye - worldPosition;',
              '	vec3 eyeDirection = normalize( worldToEye );',
              '	sunLight( surfaceNormal, eyeDirection, 200.0, 1.5, 0.5, diffuseLight, specularLight );',
              '	float distance = length(worldToEye);',
              '	vec2 distortion = surfaceNormal.xz * ( 0.001 + 1.0 / distance ) * distortionScale;',
              ' vec4 mirrorDistord = mirrorCoord;',
              ' mirrorDistord.x += distortion.x;',
              ' mirrorDistord.w += distortion.y;',
              '	vec3 reflectionSample = texture2DProj( mirrorSampler, mirrorDistord ).rgb;',
              'reflectionSample = vec3(0.565, 0.714, 0.831);',
              '	float theta = max( dot( eyeDirection, surfaceNormal ), 0.0 );',
              '	float rf0 = 0.3;',
              ' float d = 1.0 - clamp(distance / 1500.0, 0.0, 1.0);',
              '	float reflectance = d * clamp(rf0 + ( 1.0 - rf0 ) * pow( ( 1.0 - theta ), 5.0 ), 0.0, 1.0);',
              ' reflectance = 1.0;',
              '	vec3 scatter = max( 0.0, dot( surfaceNormal, eyeDirection ) ) * color;',
              '	vec3 albedo = mix( sunColor * diffuseLight * 0.3 + scatter, ( mix(scatter, reflectionSample, 0.75) + reflectionSample * specularLight ), reflectance );',
              '	vec3 outgoingLight = albedo;',
              THREE.ShaderChunk.fog_fragment,
              '	gl_FragColor = vec4( outgoingLight, max(alpha, specularLight.r) );',
              '}'
            ].join('\n')
          },
          o = function(t, e, n) {
            function r(t, e) {
              return void 0 !== t ? t : e
            }
            (this.clipBias = r(n.clipBias, 0)),
            (this.alpha = r(n.alpha, 1)),
            (this.time = r(n.time, 0)),
            (this.normalSampler = r(n.waterNormals, null)),
            (this.sunDirection = r(
              n.sunDirection,
              new THREE.Vector3(0.70707, 0.70707, 0)
            )),
            (this.sunColor = new THREE.Color(r(n.sunColor, 16777215))),
            (this.eye = r(n.eye, new THREE.Vector3(0, 0, 0))),
            (this.distortionScale = r(n.distortionScale, 10)),
            (this.side = r(n.side, THREE.DoubleSide)),
            (this.fog = r(n.fog, !1)),
            i.apply(this, arguments),
            n.transparent && (this.material.transparent = n.transparent),
            (this.material.uniforms.alpha.value = this.alpha),
            (this.material.uniforms.time.value = this.time),
            (this.material.uniforms.normalSampler.value = this.normalSampler),
            (this.material.uniforms.sunColor.value = this.sunColor),
            (this.material.uniforms.sunDirection.value = this.sunDirection),
            (this.material.uniforms.distortionScale.value = this.distortionScale),
            (this.material.uniforms.eye.value = this.eye)
          };
        (o.prototype = Object.create(i.prototype)),
        (o.prototype.constructor = o),
        (o.prototype.initMaterial = function() {
          var t = THREE.UniformsUtils.clone(r.uniforms)
          this.material = new THREE.ShaderMaterial({
            fragmentShader: r.fragmentShader,
            vertexShader: r.vertexShader,
            uniforms: t,
            side: this.side,
            fog: this.fog
          })
        }),
        (o.prototype.updateTextureMatrix = function() {
          i.prototype.updateTextureMatrix.call(this)
          var t = new THREE.Vector3()
          t.setFromMatrixPosition(this.camera.matrixWorld),
          (this.eye = t),
          (this.material.uniforms.eye.value = this.eye)
        }),
        (o.prototype.update = (function() {
          var t = new THREE.Vector3()
          return function(e) {
            this.updateMatrixWorld(),
            this.camera.updateMatrixWorld(),
            t.setFromMatrixPosition(this.camera.matrixWorld),
            (this.eye = t),
            (this.material.uniforms.eye.value = this.eye)
          };
        })()),
        (e.exports = o)
      },
      { 14: 14 }
    ],
    55: [
      function(t, e, n) {
        var i = t('3'),
          r = t('65'),
          o = t('64'),
          a = t('16'),
          s = function(t) {
            (this.scene = new THREE.Scene()),
            (this.camera = new THREE.OrthographicCamera(
              window.innerWidth / -2,
              window.innerWidth / 2,
              window.innerHeight / 2,
              window.innerHeight / -2,
              -1e4,
              1e4
            )),
            (this.width = this.camera.right - this.camera.left),
            (this.height = this.camera.top - this.camera.bottom),
            (this.size = { width: this.width, height: this.height }),
            (this.maxScale = 0.05 * this.width),
            this.scene.add(this.camera),
            this.camera.position.set(0, 0, 1e3),
            this.camera.lookAt(this.scene.position),
            (this.palettes = {}),
            (this.pickables = []),
            this.createPalettes(t.scene, t.configurables, t.vr),
            this.hideAllPalettes(),
            this.createPanels(t.scene, t.configurables, t.vr),
            (this.visible = !1)
          };
        (s.prototype = {
          createPanels: function(t, e, n) {
            var i = a.getTexture('textures/corner-gradient.png');
            (this.panels = {}),
            _.each(
              e,
              function(e) {
                var o = t.getObjectByName('ui_panel').clone(),
                  a = new r({
                    referenceObject: o,
                    data: e.panel_data,
                    hudSize: { width: this.width, height: this.height },
                    gradientMap: i,
                    showGradient: !n
                  })
                this.scene.add(a),
                (a.visible = !1),
                (this.panels[e.name] = a)
              },
              this
            )
          },
          createPalettes: function(t, e, n) {
            e.forEach(function(e) {
              var i = e.name,
                r = t.getObjectByName(i),
                a = this.getMaterialsForObject(r),
                s = new o({
                  hudSize: this.size,
                  maxScale: this.maxScale,
                  materials: a,
                  exposureBoost: !n
                });
              (this.palettes[i] = s),
              this.scene.add(s),
              s.children.forEach(function(t) {
                this.pickables.push(t)
              }, this),
              (s.name = i + '_palette')
            }, this)
          },
          getMaterialsForObject: function(t) {
            if (t) {
              var e = t.getObjectByName('materials')
              if (e) { return _.map(e.children, function(t) {
                return t.material
                });
}
            }
          },
          showAllPalettes: function(t) {
            _.each(
              this.palettes,
              function(e) {
                e.show(t)
              },
              this
            )
          },
          hideAllPalettes: function() {
            _.each(
              this.palettes,
              function(t) {
                t.hide()
              },
              this
            ),
            (this.currentPalette = null)
          },
          showAllPanels: function() {
            _.each(
              this.panels,
              function(t) {
                t.show(!1)
              },
              this
            )
          },
          hideAllPanels: function() {
            _.each(
              this.panels,
              function(t) {
                t.hide()
              },
              this
            )
          },
          setPanel: function(t, e) {
            this.currentPanel && this.currentPanel.fadeOut(),
            (this.currentPanel = this.panels[t]),
            this.currentPanel.show(e)
          },
          setPalette: function(t, e) {
            var n = function() {
              this.currentPalette && this.currentPalette.show()
            }.bind(this)
            this.currentPalette
              ? this.currentPalette.fadeOut()
              : this.hideAllPalettes(),
            (this.currentPalette = this.palettes[t]),
            e ? setTimeout(n, e) : n()
          },
          getPickables: function() {
            return this.pickables
          },
          show: function() {
            this.visible = !0
          },
          hide: function() {
            this.currentPalette.fadeOut(
              function() {
                (this.visible = !1), (this.currentPalette = null)
              }.bind(this)
            ),
            this.currentPanel.fadeOut(
              function() {
                this.currentPanel = null
              }.bind(this)
            )
          },
          enter: function(t) {
            var e = t.tweenValue
            t.tween
              .reset(e)
              .to({ scale: 1.2 * this.maxScale }, 250)
              .easing(TWEEN.Easing.Quartic.Out)
              .onUpdate(function() {
                t.scale.set(e.scale, e.scale, e.scale)
              })
              .start(),
            (this.hoveredObject = t)
          },
          leave: function(t) {
            var e = t.tweenValue
            t.tween
              .reset(e)
              .to({ scale: this.maxScale }, 250)
              .easing(TWEEN.Easing.Quartic.Out)
              .onUpdate(function() {
                t.scale.setScalar(e.scale)
              })
              .start(),
            (this.hoveredObject = null)
          },
          select: (function() {
            var t = new TWEEN.Tween(),
              e = { scale: 1, opacity: 0.35 }
            return function(n) {
              n.current ||
                (_.contains(this.currentPalette.children, n) &&
                  this.trigger(
                    'selectMaterial',
                    this.currentPalette.children.indexOf(n)
                  ),
                  t
                    .reset(e)
                    .to({ scale: 1.3, opacity: 0 }, 400)
                    .easing(TWEEN.Easing.Quadratic.Out)
                    .onUpdate(function() {
                      n.ripple.scale.set(e.scale, e.scale, e.scale),
                      (n.ripple.material.opacity = e.opacity)
                    })
                    .onComplete(function() {
                      (e.scale = 1.05), (e.opacity = 0.35)
                    })
                    .start())
            }
          })(),
          render: function(t) {
            this.visible && t.render(this.scene, this.camera)
          },
          update: function(t) {
            this.hoveredObject && (this.hoveredObject.rotation.y += t.delta)
          },
          setCurrent: function(t) {
            var e = this.currentPalette.children[t]
            this.currentPalette.children.forEach(function(t) {
              (t.current = !1), (t.stroke.visible = !1)
            }),
            (e.current = !0),
            (e.stroke.visible = !0),
            this.currentPanel.setMaterial(t)
          },
          resize: function() {
            (this.camera.left = window.innerWidth / -2),
            (this.camera.right = window.innerWidth / 2),
            (this.camera.top = window.innerHeight / 2),
            (this.camera.bottom = window.innerHeight / -2),
            this.camera.updateProjectionMatrix(),
            (this.size.width = this.camera.right - this.camera.left),
            (this.size.height = this.camera.top - this.camera.bottom),
            (this.maxScale =
                this.size.width > this.size.height
                  ? 0.05 * this.size.width
                  : 0.05 * this.size.height),
            _.invoke(this.panels, 'resize', this.size),
            _.invoke(this.palettes, 'resize', this.size, this.maxScale)
          }
        }),
        s.mixin(i),
        (e.exports = s)
      },
      { 16: 16, 3: 3, 64: 64, 65: 65 }
    ],
    56: [
      function(t, e, n) {
        var i = t('3'),
          r = function() {
            (this.shouldPoll = !0),
            (this.buttonPressed = null),
            $(document).on(
              'keypress',
              function(t) {
                t.keyCode == 32 && this.trigger('press')
              }.bind(this)
            )
          };
        (r.prototype = {
          poll: function() {
            this.shouldPoll && (this.gamepads = navigator.getGamepads())
          },
          update: function() {
            this.poll(),
            _.each(
              this.gamepads,
              function(t) {
                if (t)
                  {for (var e = 0; e < t.buttons.length; e++) {
                    var n = t.buttons[e]
                      n.pressed
                      ? (this.buttonPressed = e)
                      : this.buttonPressed != null &&
                          this.buttonPressed === e &&
                          (this.trigger('press'), (this.buttonPressed = null))
                    }}
              },
              this
            )
          }
        }),
        r.mixin(i),
        (e.exports = r)
      },
      { 3: 3 }
    ],
    57: [
      function(t, e, n) {
        !(function(t, e) {
          'use strict'
          var n,
            i,
            r,
            o = '._tap',
            a = '._tapActive',
            s = 'tap',
            c = 'clientX clientY screenX screenY pageX pageY'.split(' '),
            u = { count: 0, event: 0 },
            l = function(t, n) {
              var i = n.originalEvent,
                r = e.Event(i)
              r.type = t
              for (var o = 0, a = c.length; a > o; o++) r[c[o]] = n[c[o]]
              return r
            },
            h = function(t) {
              if (t.isTrigger) return !1
              var n = u.event,
                i = Math.abs(t.pageX - n.pageX),
                r = Math.abs(t.pageY - n.pageY),
                o = Math.max(i, r)
              return (
                t.timeStamp - n.timeStamp < e.tap.TIME_DELTA &&
                o < e.tap.POSITION_DELTA &&
                (!n.touches || u.count === 1) &&
                d.isTracking
              )
            },
            f = function(t) {
              if (!r) return !1
              var n = Math.abs(t.pageX - r.pageX),
                i = Math.abs(t.pageY - r.pageY),
                o = Math.max(n, i)
              return (
                Math.abs(t.timeStamp - r.timeStamp) < 750 &&
                o < e.tap.POSITION_DELTA
              )
            },
            p = function(t) {
              if (t.type.indexOf('touch') === 0) {
                t.touches = t.originalEvent.changedTouches
                for (var e = t.touches[0], n = 0, i = c.length; i > n; n++) { t[c[n]] = e[c[n]]}
              }
              t.timeStamp = Date.now ? Date.now() : +new Date()
            },
            d = {
              isEnabled: !1,
              isTracking: !1,
              enable: function() {
                d.isEnabled ||
                  ((d.isEnabled = !0),
                    (n = e(t.body)
                      .on('touchstart' + o, d.onStart)
                      .on('mousedown' + o, d.onStart)
                      .on('click' + o, d.onClick)))
              },
              disable: function() {
                d.isEnabled && ((d.isEnabled = !1), n.off(o))
              },
              onStart: function(t) {
                t.isTrigger ||
                  (p(t),
                    (e.tap.LEFT_BUTTON_ONLY && !t.touches && t.which !== 1) ||
                    (t.touches && (u.count = t.touches.length),
                      d.isTracking ||
                      (!t.touches && f(t)) ||
                      ((d.isTracking = !0),
                        (u.event = t),
                        t.touches
                          ? ((r = t),
                            n
                              .on('touchend' + o + a, d.onEnd)
                              .on('touchcancel' + o + a, d.onCancel))
                          : n.on('mouseup' + o + a, d.onEnd))))
              },
              onEnd: function(t) {
                var n
                t.isTrigger ||
                  (p(t),
                    h(t) &&
                    ((n = l(s, t)), (i = n), e(u.event.target).trigger(n)),
                    d.onCancel(t))
              },
              onCancel: function(t) {
                t && t.type === 'touchcancel' && t.preventDefault(),
                (d.isTracking = !1),
                n.off(a)
              },
              onClick: function(t) {
                return !t.isTrigger &&
                  i &&
                  i.isDefaultPrevented() &&
                  i.target === t.target &&
                  i.pageX === t.pageX &&
                  i.pageY === t.pageY &&
                  t.timeStamp - i.timeStamp < 750
                  ? ((i = null), !1)
                  : void 0
              }
            }
          e(t).ready(d.enable),
          (e.tap = {
            POSITION_DELTA: 10,
            TIME_DELTA: 400,
            LEFT_BUTTON_ONLY: !0
          })
        })(document, jQuery)
      },
      {}
    ],
    58: [
      function(t, e, n) {
        function i() {
          P.removeClass('visible'),
          setTimeout(function() {
            L.addClass('visible')
          }, 400)
        }
        function r(t, e, n) {
          var i = ($(window).width() - e) / 2,
            r = ($(window).height() - n) / 2,
            o =
              'status=1,width=' +
              e +
              ',height=' +
              n +
              ',top=' +
              r +
              ',left=' +
              i
          return window.open(t, 'share', o), !1
        }
        function o() {
          window.isMobile &&
            _.defer(function() {
              var t = D.outerHeight(!0) - I.height(),
                e = N.outerHeight(),
                n = window.innerHeight
                  ? window.innerHeight
                  : $(window).height(),
                i = n - (t + e)
              I.css('height', i)
            })
        }
        function a(t) {
          (l = new m({
            vr: void 0 !== t,
            vrDisplay: t,
            preserveDrawingBuffer: void 0 !== t,
            maxPixelRatio: 1.5,
            fps: !1,
            logCalls: !1
          })),
          l.renderer.setClearColor(16777215),
          c()
        }
        function s(t) {
          return (
            (p.texturePath = x + t + '/'), d.loadScene(t, x + 'scenes/', l, y)
          )
        }
        function c() {
          C.show(), o()
          var t = 'room',
            e = {
              geometries: [E, b, w],
              sh: ['room', 'studio'],
              textures: [
                'textures/white.png',
                'textures/normal.png',
                'textures/waternormals.jpg',
                'textures/marker.png',
                'textures/circle.png',
                'textures/corner-gradient.png',
                'textures/flare.png'
              ]
            }
          THREE.Extensions.get('EXT_shader_texture_lod')
            ? (e.cubemaps = [t + '/cubemap.bin'])
            : (e.panoramas = [t + '/panorama.bin']),
          (p.environmentPath = x + 'environments'),
          (p.geometryPath = x + 'scenes/data/')
          var n = new f(e)
          n.load().then(function(t) {
            s(w).then(function() {
              s(b).then(function() {
                s(E).then(function() {
                  l.init(),
                  _.defer(function() {
                    A.show(), C.hide()
                  }),
                  h.AUTOSTART &&
                      !VRenabled &&
                      ((U = !0), u(), L.addClass('visible'))
                })
              })
            })
          })
        }
        function u() {
          V && l.enterVR(),
          l.start(),
          O.hide(),
          k.addClass('started'),
          R.addClass('state-about in-app'),
          P.removeClass('hidden'),
          window.isMobile || P.show(),
          $(window).trigger('resize'),
          L.addClass('visible'),
          setTimeout(function() {
            j.remove()
          }, 200)
        }
        t('22'), t('57')
        var l,
          h = t('39'),
          f = t('15'),
          p = t('16'),
          d = t('18'),
          m = t('36'),
          v = t('21'),
          g = t('37'),
          y = t('41'),
          E = 'interior2',
          b = 'exterior2',
          w = 'start',
          x = window.isMobile ? 'assets_mobile/' : 'assets/',
          T = $('[data-ref="sharing"]'),
          R = $('[data-ref="panel_container"]'),
          M = $('[data-ref="about_link"]'),
          S = $('[data-ref="close_about"]'),
          P = $('[data-ref="panel"]'),
          O = $('[data-ref="border"]'),
          C = $('[data-ref="progress"]'),
          A = $('[data-ref="start"]'),
          k = $('.loading'),
          j = $('.loading .background'),
          F = $('.percentage'),
          H = $('.warning'),
          L = $('[data-ref="about_button"]'),
          D = $('[data-ref="titlescreen_main"]'),
          I = $('[data-ref="titlescreen_illustration"]'),
          N = $('[data-ref="titlescreen_footer"]'),
          U = !1,
          V = !1;
        (p.manager.onProgress = function(t, e, n) {
          F.html(Math.round((e / h.ASSET_COUNT) * 100)), o()
        }),
        THREE.MaterialLoader.setShaders(g),
        (window.VRenabled = v.isAvailable())
        var B = v.isLatestAvailable()
        VRenabled
          ? B ||
            H.html(
              "<img src='img/missing-headset.png'>Your version of WebVR is out of date. <a href='http://webvr.info'>Fix this</a>"
            )
          : H.html(
            "<img src='img/missing-headset.png'>You browser does not support WebVR. <br/>Falling back to non-VR mode."
          ),
        VRenabled && navigator.getVRDisplays
          ? navigator
            .getVRDisplays()
            .then(
              function(t) {
                t.length > 0
                  ? (a(t[0]), (V = !0))
                  : (console.error('No VR display'),
                    H.html(
                      "<img src='img/missing-headset.png'>Your browser supports WebVR, but we couldn't find your headset. Falling back to non-VR mode."
                    ),
                    a())
              }
            )
            ['catch'](function() {
              console.error('No VR display')
            })
          : a(),
        $('document').ready(function() {
          o(),
          window.isMobile && $('body').addClass('mobile'),
          T.on('tap', function() {
            var t = $(this).data('href'),
              e = $(this).data('width'),
              n = $(this).data('height')
            r(t, e, n)
          }),
          M.on('tap', function() {
            R.addClass('state-about')
          }),
          S.on('tap', function() {
            U ? i() : R.removeClass('state-about')
          }),
          A.on('tap', function() {
            U ||
                  ((U = !0),
                    VRenabled || window.isMobile
                      ? (P.hide(), u())
                      : (P.addClass('hidden'),
                        setTimeout(function() {
                          P.hide(),
                          O.addClass('hidden'),
                          setTimeout(function() {
                            u()
                          }, 400)
                        }, 700)))
          }),
          L.on('tap', function(t) {
            L.removeClass('visible'), P.addClass('visible')
          }),
          l.on('closeAbout', function() {
            i()
          }),
          P.on('mouseenter', function() {
            $('body').removeClass('hovering')
          }),
          $(window).on('resize', o)
        })
      },
      {
        15: 15,
        16: 16,
        18: 18,
        21: 21,
        22: 22,
        36: 36,
        37: 37,
        39: 39,
        41: 41,
        57: 57
      }
    ],
    59: [
      function(t, e, n) {
        var i = ['brown_leather', 'fine_touch_leather 1', 'yellow_leather'],
          r = function(t) {
            (this.scene = t.scenes[2]),
            (this.scenes = t.scenes),
            (this.configurables = t.configurables),
            this.initMaterials(),
            this.initObjects(),
            this.initSpecialProperties()
          };
        (r.prototype = {
          initSpecialProperties: function() {
            var t = this.getMaterial('Plant_ALB')
            t && (t.side = THREE.DoubleSide)
            var e = this.getMaterial('glass')
            e &&
              ((e.side = THREE.DoubleSide),
                (e.f0Factor = 1),
                (e.depthWrite = !1))
            var n = this.getMaterial('palm_leaves')
            n &&
              ((n.side = THREE.DoubleSide),
                (n.depthWrite = !0),
                (n.f0Factor = 1))
            var i = this.getMaterial('tabwood')
            i && (i.f0Factor = 1),
            _.each(this.scene.materials, function(t) {
              t.pbr && (t.f0Factor = 1)
            })
            var r = this.getMaterial('sansevieria')
            r && (r.side = THREE.DoubleSide)
            var o = this.getMaterial('tripod_lamp')
            o && (o.side = THREE.DoubleSide)
            var a = ['coffee_table_feet', 'chair_feet', 'door_handle']
            _.each(this.scenes, function(t) {
              _.each(t.materials, function(t) {
                !t.pbr ||
                  a.indexOf(t.name) > -1 ||
                  (t.defines.OCCLUDE_SPECULAR = !0)
              })
            })
            var s = this.getMaterial('pool_interior')
            s && (s.exposure = 1.25),
            _.each(
              this.scenes[1].materials,
              function(t) {
                t.pbr && (t.exposure = 1.2)
              },
              this
            )
          },
          initMaterials: function() {
            (this.materials = {}),
            this.configurables.forEach(function(t) {
              var e = t.name,
                n = this.scene.getObjectByName(e),
                r = this.getMaterialsForObject(n),
                o = n.getObjectByName(t.linkedObjects[0]).material,
                a = o.uniforms.sTextureLightMap.value,
                s = o.uniforms.sTextureLightMapM.value,
                c = o.uniforms.sTextureAOMap2.value,
                u = o.uniforms.sTextureNormalMap2.value,
                l = n.getObjectByName('materials');
              (this.materials[e] = r),
              r.forEach(function(t) {
                (this.scene.materials[t.uuid] = t),
                a &&
                        ((t.lightMap = a),
                          (t.lightMapM = s),
                          (t.defines.USE_LIGHTMAP = !0)),
                c &&
                        ((t.uniforms.sTextureAOMap2.value = c),
                          (t.defines.USE_AOMAP2 = !0)),
                u &&
                        ((t.uniforms.sTextureNormalMap2.value = u),
                          (t.defines.USE_NORMALMAP2 = !0)),
                (t.needsUpdate = !0),
                i.indexOf(t.name) < 0 && (t.ignoreDirLight = !0)
              }, this),
              i.indexOf(o.name) < 0 && (o.ignoreDirLight = !0),
              l.traverse(function(t) {
                t.visible = !1
              })
            }, this)
          },
          initObjects: function() {
            (this.objects = {}),
            this.configurables.forEach(function(t) {
              (this.objects[t.name] = []),
              t.linkedObjects.forEach(function(e) {
                var n = this.getChildByName(
                  this.scene.getObjectByName(t.name),
                  e
                )
                this.objects[t.name] = this.objects[t.name].concat(n)
              }, this)
            }, this)
          },
          setObjectMaterial: function(t, e) {
            var n = this.materials[t.name][e]
            this.crossFadeMaterial(this.objects[t.name], n)
          },
          crossFadeMaterial: (function() {
            var t = new TWEEN.Tween(),
              e = { opacity: 0 }
            return function(n, i) {
              if (this.crossFade) {
return void this.crossFade.onComplete(
                function() {
                  n.forEach(function(t) {
                    (t.material = this.currentFadingMaterial),
                    t.parent.remove(t.materialClone),
                    (t.materialClone = null)
                    }, this),
                  (this.currentFadingMaterial.transparent = !1),
                  (this.currentFadingMaterial.depthWrite = !0),
                  (e.opacity = 0),
                  (this.crossFade = null),
                  i !== this.currentFadingMaterial &&
                        this.crossFadeMaterial(n, i)
                  }.bind(this)
              ); }
              (this.currentFadingMaterial = i),
              n.forEach(function(t) {
                var e = t.clone()
                t.parent.add(e),
                (t.materialClone = e),
                (t.targetMaterial = i),
                (e.material = i)
              }),
              (i.transparent = !0),
              (i.depthWrite = !1),
              (i.opacity = 0)
              var r = function() {
                n.forEach(function(t) {
                  (t.material = i),
                  t.parent.remove(t.materialClone),
                  (t.materialClone = null)
                }),
                (e.opacity = 0),
                (i.transparent = !1),
                (i.depthWrite = !0),
                (this.crossFade = null)
              }
              this.crossFade = t
                .reset(e)
                .to({ opacity: 1 }, 300)
                .easing(TWEEN.Easing.Linear.None)
                .onUpdate(function() {
                  i.opacity = e.opacity
                })
                .onComplete(r.bind(this))
                .onStop(r.bind(this))
                .start()
            }
          })(),
          getMaterial: function(t) {
            for (
              var e, n = 0;
              n < this.scenes.length &&
              !(e = _.find(this.scenes[n].materials, function(e) {
                return e.name === t
              }));
              n++
            );
            return e
          },
          getMaterialsForObject: function(t) {
            if (t) {
              var e = t.getObjectByName('materials')
              if (e) { return _.map(e.children, function(t) {
                var e
                  return (e =
                    t.children.length > 0
                      ? t.children[0].material.clone()
                      : t.material.clone())
                });
}
            }
          },
          getChildByName: function(t, e) {
            var n = []
            return (
              t.traverse(function(t) {
                t.name === e && n.push(t)
              }),
              n
            )
          },
          getObjectsByName: function(t, e) {
            var n = []
            return (
              t.traverse(function(t) {
                t.name === e && n.push(t)
              }),
              n
            )
          }
        }),
        (e.exports = r)
      },
      {}
    ],
    60: [
      function(t, e, n) {
        var i = t('25'),
          r = t('37'),
          o = (t('19'),
            function(t) {
              (t = Object.assign(
                {
                  vertexShader: r['clipspace.vs'],
                  fragmentShader: r['basic.fs'],
                  uniforms: {
                    diffuse: { type: 'c', value: new THREE.Color(16777215) },
                    map: { type: 't', value: null },
                    offsetRepeat: {
                      type: 'v4',
                      value: new THREE.Vector4(0, 0, 1, 1)
                    },
                    opacity: { type: 'f', value: 1 },
                    bias: { type: 'f', value: 0 }
                  }
                },
                t
              )),
              i.call(this, t),
              Object.keys(this.uniforms).forEach(function(t) {
                this.onPropertyChange(t, function(e) {
                  this.uniforms[t].value = e
                })
              }, this),
              (this.transparent = t.transparent)
            })
        o.inherit(i), (e.exports = o)
      },
      { 19: 19, 25: 25, 37: 37 }
    ],
    61: [
      function(t, e, n) {
        var i = t('25'),
          r = t('37'),
          o = (t('19'),
            t('16'),
            function(t) {
              (t = Object.assign(
                {
                  vertexShader: r['highlights.vs'],
                  fragmentShader: r['highlights.fs'],
                  uniforms: {
                    diffuse: { type: 'c', value: new THREE.Color(16777215) },
                    map: { type: 't', value: null },
                    offsetRepeat: {
                      type: 'v4',
                      value: new THREE.Vector4(0, 0, 1, 1)
                    },
                    opacity: { type: 'f', value: 1 },
                    threshold: { type: 'f', value: 0 },
                    range: { type: 'f', value: 0.1 },
                    noiseMap: { type: 't', value: null }
                  }
                },
                t
              )),
              i.call(this, t),
              Object.keys(this.uniforms).forEach(function(t) {
                this.onPropertyChange(t, function(e) {
                  this.uniforms[t].value = e
                })
              }, this),
              (this.threshold = 0),
              (this.sign = 1),
              (this.lastUpdate = 0)
            })
        o.inherit(i, {
          clone: function(t) {
            var e = t || new o()
            return (
              i.prototype.clone.call(this, e),
              (e.name = this.name),
              (e.transparent = this.transparent),
              _.each(
                this.uniforms,
                function(t, n) {
                  var i = t.type
                  'v2' === i || i === 'm4'
                    ? e.uniforms[n].value.copy(t.value)
                    : (e.uniforms[n].value = t.value)
                },
                this
              ),
              e
            )
          },
          updateUniforms: function(t) {
            var e = 0.35
            this.uniforms.threshold.value += t.delta * e
          }
        }),
        (e.exports = o)
      },
      { 16: 16, 19: 19, 25: 25, 37: 37 }
    ],
    62: [
      function(t, e, n) {
        var i = t('25'),
          r = t('37'),
          o = function(t) {
            (t = Object.assign(
              {
                vertexShader: r['stroke.vs'],
                fragmentShader: r['stroke.fs'],
                uniforms: {
                  diffuse: { type: 'c', value: new THREE.Color(16777215) },
                  opacity: { type: 'f', value: 1 },
                  objectScale: { type: 'f', value: 1 }
                }
              },
              t
            )),
            i.call(this, t),
            Object.keys(this.uniforms).forEach(function(t) {
              this.onPropertyChange(t, function(e) {
                this.uniforms[t].value = e
              })
            }, this),
            (this.depthWrite = !1)
          }
        o.inherit(i, {
          clone: function(t) {
            var e = t || new o()
            return (
              i.prototype.clone.call(this, e),
              (e.name = this.name),
              (e.transparent = this.transparent),
              _.each(
                this.uniforms,
                function(t, n) {
                  var i = t.type
                  'v2' === i || i === 'm4'
                    ? e.uniforms[n].value.copy(t.value)
                    : (e.uniforms[n].value = t.value)
                },
                this
              ),
              e
            )
          }
        }),
        (e.exports = o)
      },
      { 25: 25, 37: 37 }
    ],
    63: [
      function(t, e, n) {
        var i = t('37'),
          r = function() {
            (this.target = new THREE.WebGLRenderTarget(512, 512, {
              minFilter: THREE.NearestFilter,
              magFilter: THREE.NearestFilter,
              format: THREE.RGBFormat
            })),
            (this.target.texture.generateMipmaps = !1),
            (this.material = new THREE.ShaderMaterial({
              vertexShader: i['noise.vs'],
              fragmentShader: i['noise.fs']
            })),
            (this.scene = new THREE.Scene()),
            (this.camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0, 1))
            var t = new THREE.Mesh(
              new THREE.PlaneGeometry(2, 2),
              this.material
            )
            this.scene.add(t)
          };
        (r.prototype = {
          render: function(t) {
            t.render(this.scene, this.camera, this.target)
          }
        }),
        (e.exports = r)
      },
      { 37: 37 }
    ],
    64: [
      function(t, e, n) {
        var i = t('16'),
          r = function(t) {
            return (
              THREE.Object3D.call(this),
              (this.strokeMaterial = new THREE.MeshBasicMaterial({
                color: 16777215,
                side: THREE.BackSide,
                transparent: !0
              })),
              (this.rippleMaterial = this.strokeMaterial.clone()),
              (this.rippleMaterial.opacity = 0),
              (this.materials = t.materials),
              (this.itemCount = this.materials.length),
              (this.maxScale = t.maxScale),
              (this.exposureBoost = t.exposureBoost),
              this.initLayout(t.hudSize),
              this
            )
          }
        r.inherit(THREE.Object3D, {
          initLayout: function(t) {
            if (this.materials) {
              var e = t.width > t.height,
                n = e
                  ? t.width * (0.125 * this.itemCount)
                  : t.width * (0.16 * this.itemCount),
                i = 0.3 * -t.height
              this.materials.forEach(function(t, e) {
                var r = -(n / 2) + (n / (this.itemCount - 1)) * e,
                  o = this.createSphere(r, i, t, 1)
                this.add(o), (o.name = 'material_' + e)
              }, this),
              (this.children[0].current = !0),
              (this.children[0].stroke.visible = !0)
            }
          },
          resize: function(t, e) {
            var n = t.width > t.height,
              i = n
                ? t.width * (0.125 * this.itemCount)
                : t.width * (0.16 * this.itemCount),
              r = n ? 0.3 * -t.height : 0.35 * -t.height;
            (this.maxScale = e),
            this.children.forEach(function(t, e) {
              var n = -(i / 2) + (i / (this.itemCount - 1)) * e
              t.position.setX(n),
              t.position.setY(r),
              t.scale.setScalar(this.maxScale),
              (t.tweenValue.scale = this.maxScale)
            }, this)
          },
          createSphere: function(t, e, n, r) {
            var o = new THREE.Mesh(
              new THREE.SphereGeometry(1, 32, 32),
              n.clone()
            )
            o.scale.setScalar(r)
            var a = o.clone(),
              s = a.clone();
            (o.rotation.x = 0.25),
            o.position.setX(t),
            o.position.setY(e),
            a.scale.setScalar(1.05),
            (a.material = this.strokeMaterial),
            o.add(a),
            (o.stroke = a),
            (a.visible = !1),
            (o.ripple = s),
            (s.material = this.rippleMaterial),
            a.add(s),
            (o.material.transparent = !0),
            (o.material.defines.USE_DIR_LIGHT = !0)
            var c = i.getSH('studio')
            return (
              (o.material.uDiffuseSPH = new Float32Array(c, 27)),
              this.exposureBoost && (o.material.uEnvironmentExposure = 1.5),
              (o.tween = new TWEEN.Tween()),
              (o.tweenValue = { scale: this.maxScale }),
              (o.material.defines.USE_AOMAP2 = !1),
              (o.material.defines.USE_NORMALMAP2 = !1),
              o
            )
          },
          hide: function() {
            (this.visible = !1),
            this.children.forEach(function(t) {
              t.pickable = !1
            })
          },
          show: (function() {
            var t = 1e-5
            return function(e) {
              (e = void 0 === e ? !0 : e),
              this.children.forEach(function(t) {
                (t.material.opacity = 1), (t.stroke.material.opacity = 1)
              }),
              e
                ? ((this.visible = !0),
                  this.children.forEach(
                    function(e, n) {
                      var i = { scale: t }
                      e.scale.set(t, t, t),
                      (e.pickable = !0),
                      setTimeout(
                        function() {
                          e.tween
                            .reset(i)
                            .to({ scale: e.tweenValue.scale }, 1e3)
                            .easing(TWEEN.Easing.Elastic.Out)
                            .onUpdate(
                              function() {
                                this.hoveredObject !== e &&
                                      e.scale.setScalar(i.scale)
                              }.bind(this)
                            )
                            .start()
                        }.bind(this),
                        125 * n
                      )
                    }.bind(this)
                  ))
                : ((this.visible = !0),
                  this.children.forEach(function(t) {
                    (t.pickable = !0), t.scale.setScalar(this.maxScale)
                  }, this))
            }
          })(),
          fadeOut: (function() {
            var t = new TWEEN.Tween(),
              e = { opacity: 1 }
            return function(n) {
              t.reset(e)
                .to({ opacity: 0 }, 350)
                .easing(TWEEN.Easing.Quadratic.Out)
                .onUpdate(
                  function(t) {
                    this.children.forEach(function(t) {
                      (t.material.opacity = e.opacity),
                      (t.stroke.material.opacity = e.opacity)
                    })
                  }.bind(this)
                )
                .onComplete(
                  function() {
                    (e.opacity = 1),
                    this.children.forEach(function(t) {
                      (t.material.opacity = e.opacity),
                      (t.stroke.material.opacity = e.opacity)
                    }),
                    this.hide(),
                    n && n()
                  }.bind(this)
                )
                .start()
            }
          })()
        }),
        (e.exports = r)
      },
      { 16: 16 }
    ],
    65: [
      function(t, e, n) {
        function i(t) {
          var e = new o(),
            n = e.canvas
          switch ((e.resize(512, 512), t)) {
            case 'name':
              e.draw(arguments[1], '96px "AlternateGothic3"', 'white', 2)
              break
            case 'dimensions':
              e.draw(arguments[1], '24px "Work Sans"', 'white', 2)
              break
            case 'material':
              e.draw(arguments[1], '36px "Work Sans"', 'white', 2)
          }
          new THREE.Texture(n)
          return new THREE.Texture(n)
        }
        function r(t, e) {
          t.offset.copy(e.material.map.offset),
          t.repeat.copy(e.material.map.repeat),
          (t.wrapS = t.WrapT = THREE.ClampToEdgeWrapping),
          (t.minFilter = THREE.LinearFilter),
          (t.needsUpdate = !0),
          (e.material.map = t),
          (e.material.needsUpdate = !0)
        }
        var o = t('42'),
          a = function(t) {
            THREE.Object3D.call(this)
            var e = t.data;
            (this.showGradient = t.showGradient),
            (this.gradientMap = t.gradientMap),
            this.initLayout(t.referenceObject, t.hudSize),
            (this.materialTextures = [])
            var n = i('name', e.type),
              o = i('dimensions', e.dimensions)
            return (
              e.materials.forEach(function(t) {
                var e = i('material', t)
                this.materialTextures.push(e)
              }, this),
              r(n, this.nameObj),
              r(o, this.dimensionsObj),
              r(this.materialTextures[0], this.materialObj),
              this
            )
          }
        a.inherit(THREE.Object3D, {
          initLayout: function(t, e) {
            var n = e.width > e.height,
              i = n ? 0.075 * e.height : 0.08 * e.width,
              r = n ? e.width / 1880 : e.height / 1400,
              o = t.getObjectByName('name'),
              a = t.getObjectByName('line'),
              s = t.getObjectByName('dimensions'),
              c = t.getObjectByName('material');
            (this.innerContainer = new THREE.Object3D()),
            this.innerContainer.position.set(
              e.width * -0.5 + i,
              0.5 * e.height - i,
              0
            ),
            this.add(this.innerContainer),
            this.innerContainer.scale.setScalar(r),
            (this.nameObj = this.addElement(o, 0, 0)),
            (this.lineObj = this.addElement(a, -205, 100)),
            (this.dimensionsObj = this.addElement(s, 0, 125)),
            (this.materialObj = this.addElement(c, 0, 110)),
            this.showGradient && this.initGradient(i),
            (a.children[0].material.polygonOffset = !0),
            (a.children[0].material.polygonOffsetFactor = -0.1)
          },
          initGradient: function(t) {
            var e = new THREE.MeshBasicMaterial({
                transparent: !0,
                map: this.gradientMap,
                opacity: 0
              }),
              n = new THREE.Mesh(
                new THREE.PlaneBufferGeometry(512, 512, 1, 1),
                e
              )
            this.innerContainer.add(n),
            n.scale.setScalar((512 + t) / 512),
            n.position.set(256 - t / 2, -256 + t / 2, 0),
            (n.renderOrder = 0),
            (this.gradient = n),
            (this.gradient.maxOpacity = window.isMobile ? 0.2 : 0.3),
            (this.gradient.animation = {
              tween: new TWEEN.Tween(),
              opacity: 0
            })
          },
          resize: function(t) {
            var e = t.width > t.height,
              n = e ? 0.075 * t.height : 0.08 * t.width,
              i = e ? t.width / 1880 : t.height / 1400
            this.innerContainer.position.set(
              t.width * -0.5 + n,
              0.5 * t.height - n,
              0
            ),
            this.innerContainer.scale.setScalar(i),
            this.gradient.scale.setScalar((512 + n) / 512),
            this.gradient.position.set(256 - n / 2, -256 + n / 2, 0)
          },
          show: function(t) {
            (t = void 0 === t ? !0 : t),
            (this.visible = !0),
            (this.innerContainer.visible = !0),
            t &&
                ((this.nameObj.visible = !1),
                  (this.materialObj.visible = !1),
                  (this.dimensionsObj.visible = !1),
                  this.animateLine(),
                  setTimeout(this.animateUpperElement.bind(this), 300),
                  setTimeout(this.animateLowerElement.bind(this), 500)),
            this.showGradient && this.fadeInGradient()
          },
          fadeInGradient: function() {
            (this.gradient.material.opacity = 0),
            (this.gradient.animation.opacity = 0),
            this.gradient.animation.tween
              .reset(this.gradient.animation)
              .to({ opacity: this.gradient.maxOpacity }, 1e3)
              .onUpdate(
                function() {
                  this.gradient.material.opacity = this.gradient.animation.opacity
                }.bind(this)
              )
              .start()
          },
          fadeOutGradient: function() {
            this.gradient.animation.tween
              .reset(this.gradient.animation)
              .to({ opacity: 0 }, 350)
              .onUpdate(
                function() {
                  this.gradient.material.opacity = this.gradient.animation.opacity
                }.bind(this)
              )
              .start()
          },
          hide: function() {
            this.visible = !1
          },
          addElement: (function(t, e, n) {
            var i = new THREE.Box3()
            return function(t, e, n) {
              this.add(t),
              i.setFromObject(t),
              this.innerContainer.add(t),
              (t.height = i.max.y - i.min.y),
              (t.width = i.max.x - i.min.x)
              var r = -(t.height / this.scale.y / 2) - n,
                o = t.width / this.scale.x / 2 + e
              return (
                t.position.set(o, r, 0),
                t.material &&
                  ((t.material = t.material.clone()),
                    (t.material.depthTest = !1)),
                t.traverse(function(t) {
                  t.renderOrder = 1
                }),
                t
              )
            }
          })(),
          setMaterial: (function() {
            var t = new TWEEN.Tween(),
              e = 0,
              n = 0,
              i = 200,
              o = { offset: n, progress: e }
            return function(a) {
              if (this.materialTween) { return void this.materialTween.onComplete(
                function() {
                  (o.offset = n),
                  (o.progress = e),
                  this.innerContainer.remove(this.materialObj),
                  (this.materialObj = this.clone),
                  (this.materialTween = null),
                  this.setMaterial(a)
                  }.bind(this)
              );
}
              var s = this.materialTextures[a],
                c = this.materialObj.clone()
              if (
                ((this.clone = c),
                  this.innerContainer.add(c),
                  c.position.copy(this.materialObj.position),
                  (c.position.x -= i),
                  c.material &&
                  ((c.material = c.material.clone()),
                    (c.material.depthTest = !1)),
                  c.traverse(function(t) {
                    t.renderOrder = 1
                  }),
                  !s)
              ) { return void console.warn(
                "Missing material texture. Panel cannot display current material name."
              );
}
              r(s, c), (c.material.opacity = 0)
              var u = this.materialObj.position.x,
                l = c.position.x,
                h = function() {
                  (o.offset = n),
                  (o.progress = e),
                  this.innerContainer.remove(this.materialObj),
                  (this.materialObj = c),
                  this.materialObj.position.setX(u + o.offset),
                  (this.materialTween = null)
                }
              this.materialTween = t
                .reset(o)
                .to({ offset: i }, 500)
                .easing(TWEEN.Easing.Quadratic.InOut)
                .onUpdate(
                  function(t) {
                    this.materialObj.position.setX(u + o.offset),
                    c.position.setX(l + o.offset),
                    (this.materialObj.material.opacity = 1 - t),
                    (c.material.opacity = t)
                  }.bind(this)
                )
                .onComplete(h.bind(this))
                .onStop(h.bind(this))
                .start()
            }
          })(),
          animateLine: (function() {
            var t = new TWEEN.Tween(),
              e = { x: 0 }
            return function() {
              var n = this.lineObj,
                i = n.scale.x;
              (e.y = n.scale.y),
              (e.z = n.scale.z),
              n.scale.setX(1e-5),
              t
                .reset(e)
                .to({ x: i }, 1e3)
                .easing(TWEEN.Easing.Quartic.InOut)
                .onUpdate(function() {
                  n.scale.set(e.x, e.y, e.z)
                })
                .onComplete(function() {
                  e.x = 1e-5
                })
                .start()
            }
          })(),
          animateUpperElement: (function() {
            var t = new TWEEN.Tween(),
              e = { offset: 1, opacity: 0 }
            return function() {
              var n = this.nameObj,
                i = n.material.map,
                r = i.offset.y;
              (n.visible = !0),
              i.offset.setY(e.offset),
              t
                .reset(e)
                .to({ offset: r, opacity: 1 }, 1e3)
                .easing(TWEEN.Easing.Quartic.InOut)
                .onUpdate(function() {
                  i.offset.setY(e.offset), (n.material.opacity = e.opacity)
                })
                .onComplete(function() {
                  (e.offset = 1), (e.opacity = 0)
                })
                .start()
            }
          })(),
          animateLowerElement: (function() {
            var t = new TWEEN.Tween(),
              e = 0.73,
              n = 0.8,
              i = 0,
              r = { offset1: e, offset2: n, opacity: i }
            return function() {
              var o = this.materialObj,
                a = o.material.map,
                s = a.offset.y,
                c = this.dimensionsObj,
                u = c.material.map,
                l = u.offset.y;
              (o.visible = !0),
              (c.visible = !0),
              (o.material.opacity = 0),
              (c.material.opacity = 0),
              a.offset.setY(r.offset1),
              u.offset.setY(r.offset2),
              t
                .reset(r)
                .to({ offset1: s, offset2: l, opacity: 1 }, 1e3)
                .easing(TWEEN.Easing.Quartic.InOut)
                .onUpdate(function() {
                  a.offset.setY(r.offset1),
                  u.offset.setY(r.offset2),
                  (o.material.opacity = r.opacity),
                  (c.material.opacity = r.opacity)
                })
                .onComplete(function() {
                  (r.offset1 = e), (r.offset2 = n), (r.opacity = i)
                })
                .start()
            }
          })(),
          fadeOut: (function() {
            var t = new TWEEN.Tween(),
              e = { opacity: 1 }
            return function(n) {
              t
                .reset(e)
                .to({ opacity: 0 }, 350)
                .easing(TWEEN.Easing.Quadratic.Out)
                .onUpdate(
                  function(t) {
                    this.traverse(
                      function(t) {
                        t.material && (t.material.opacity = e.opacity)
                      }
                    )
                  }.bind(this)
                )
                .onComplete(
                  function() {
                    (e.opacity = 1),
                    this.traverse(function(t) {
                      t.material && (t.material.opacity = e.opacity)
                    }),
                    this.hide(),
                    n && n()
                  }.bind(this)
                )
                .start(),
              this.materialTween && this.materialTween.stop(),
              this.showGradient && this.fadeOutGradient()
            }
          })()
        }),
        (e.exports = a)
      },
      { 42: 42 }
    ],
    66: [
      function(t, e, n) {
        var i = t('16'),
          r = t('19'),
          o = t('3'),
          a = t('62'),
          s = (window.innerWidth,
            window.innerHeight,
            function(t) {
              (this.scene = t.scene),
              (this.camera = t.camera),
              (this.configurables = t.configurables),
              (this.$container = t.container),
              (this.vr = t.vr),
              (this.$lookInstructions = $('[data-ref="look_instructions"]')),
              (this.$materialInstructions = $(
                '[data-ref="material_instructions"]'
              )),
              (this.$moveInstructions = $('[data-ref="move_instructions"]')),
              (this.tweens = { marker: new TWEEN.Tween() }),
              (this.values = { markerOpacity: 1 }),
              this.initStrokes(),
              this.initMarker(),
              this.vr && this.initVRInstructions()
            });
        (s.prototype = {
          initVRInstructions: function() {
            (this.VRMoveInstructions = this.scene.getObjectByName(
              'move_instructions'
            )),
            this.VRMoveInstructions &&
                ((this.VRMoveInstructions.position.z = -0.75),
                  (this.VRMoveInstructions.position.y = -0.25),
                  this.camera.add(this.VRMoveInstructions)),
            (this.VRConfigureInstructions = this.scene.getObjectByName(
              'configure_instructions'
            )),
            this.VRConfigureInstructions &&
                ((this.VRConfigureInstructions.position.z = -0.75),
                  (this.VRConfigureInstructions.position.y = -0.25),
                  this.camera.add(this.VRConfigureInstructions))
          },
          initStrokes: function() {
            this.configurables.forEach(function(t) {
              var e = t.name,
                n = this.scene.getObjectByName(e),
                i = this.scene.getObjectByName(n.name + '_stroke'),
                r = this.scene.getObjectByName('hovergroup_' + e)
              return void 0 === i
                ? void console.warn('Missing stroke mesh for ' + e)
                : ((i.renderOrder = 1),
                  r
                    ? (r.traverse(function(t) {
                      t.renderOrder = 2
                    }),
                      (n.group = r))
                    : n.traverse(function(t) {
                      t.renderOrder = 2
                    }),
                  n.add(i),
                  i.position.set(0, 0, 0),
                  i.rotation.set(0, 0, 0),
                  i.scale.set(1, 1, 1),
                  (i.material = new a()),
                  (i.material.objectScale = n.scale.x),
                  void (n.stroke = i))
            }, this)
          },
          highlightObject: function(t) {
            (t.stroke.visible = !0),
            (this.currentHighlighted = t),
            this.onEnterObject(),
            this.vr &&
                (this.VRConfigureInstructions &&
                  (this.VRConfigureInstructions.visible = !0),
                  this.VRMoveInstructions &&
                  (this.VRMoveInstructions.visible = !1))
          },
          clearHighlight: function() {
            this.currentHighlighted &&
              ((this.currentHighlighted.stroke.visible = !1),
                (this.currentHighlighted = null)),
            this.onLeaveObject(),
            this.vr &&
                this.VRConfigureInstructions &&
                (this.VRConfigureInstructions.visible = !1)
          },
          onEnterObject: function() {
            this.$container.addClass('hovering')
          },
          onLeaveObject: function() {
            this.$container.removeClass('hovering')
          },
          initMarker: function() {
            (this.marker = new THREE.Mesh(
              new THREE.PlaneGeometry(0.4, 0.4, 1, 1),
              new THREE.MeshBasicMaterial({
                color: 16777215,
                map: i.getTexture('textures/marker.png'),
                transparent: !0,
                opacity: 0.5,
                depthWrite: !1
              })
            )),
            (this.marker.material.map.anisotropy = 16),
            this.scene.add(this.marker)
            var t = this.marker.clone();
            (t.material = new THREE.MeshBasicMaterial({
              transparent: !0,
              map: i.getTexture('textures/circle.png'),
              depthWrite: !1,
              opacity: 0,
              blending: THREE.AdditiveBlending
            })),
            this.marker.add(t),
            (this.marker.ripple = t),
            (this.marker.rotation.x = -Math.PI / 2),
            this.marker.position.setY(0.05),
            (this.marker.visible = !0),
            this.hideMarker()
          },
          freezeMarker: function() {
            this.marker.frozen = !0
          },
          unfreezeMarker: function() {
            this.marker.frozen = !1
          },
          updateMarker: function(t) {
            t &&
              ((this.marker.position.x = t.x), (this.marker.position.z = t.z)),
            this.marker.visible &&
                !this.$container.hasClass('hovering') &&
                this.$container.addClass('hovering')
          },
          showMarker: function() {
            (this.marker.visible = !0),
            this.$container.addClass('hovering'),
            this.vr &&
                this.VRMoveInstructions &&
                (this.VRMoveInstructions.visible = !0)
          },
          hideMarker: function() {
            (this.marker.visible = !1), this.$container.removeClass('hovering')
          },
          fadeInMarker: function() {
            this.tweens.marker
              .reset(this.values)
              .to({ markerOpacity: 1 }, 500)
              .easing(TWEEN.Easing.Quadratic.Out)
              .onUpdate(
                function() {
                  this.marker.material.opacity = this.values.markerOpacity
                }.bind(this)
              )
              .start()
          },
          fadeOutMarker: function() {
            this.tweens.marker
              .reset(this.values)
              .to({ markerOpacity: 0 }, 300)
              .easing(TWEEN.Easing.Quadratic.Out)
              .onUpdate(
                function() {
                  this.marker.material.opacity = this.values.markerOpacity
                }.bind(this)
              )
              .start()
          },
          activateMarker: function() {
            r.tween(500, TWEEN.Easing.Quadratic.Out).onUpdate(
              function(t) {
                (this.marker.material.opacity = 0.5 + 0.5 * (1 - t)),
                (this.marker.ripple.material.opacity = 1 - t),
                this.marker.ripple.scale.set(1 + t / 2, 1 + t / 2, 1 + t / 2)
              }.bind(this)
            )
          },
          showMaterialInstructions: function() {
            this.$materialInstructions.addClass('visible')
          },
          hideMaterialInstructions: function() {
            this.$materialInstructions.addClass('fadeout'),
            setTimeout(
              function() {
                this.$materialInstructions.removeClass('fadeout visible'),
                this.$materialInstructions.hide()
              }.bind(this),
              500
            )
          },
          showLookInstructions: function() {
            this.$lookInstructions.addClass('visible')
          },
          hideLookInstructions: function() {
            this.$lookInstructions.addClass('fadeout'),
            setTimeout(
              function() {
                this.$lookInstructions.removeClass('fadeout visible'),
                this.$lookInstructions.hide()
              }.bind(this),
              500
            )
          },
          hideConfigureInstructions: function() {
            this.vr &&
              this.VRConfigureInstructions &&
              (this.camera.remove(this.VRConfigureInstructions),
                (this.VRConfigureInstructions = null))
          },
          showMoveInstructions: function() {
            this.$moveInstructions.addClass('visible')
          },
          hideMoveInstructions: function() {
            this.$moveInstructions.addClass('fadeout'),
            setTimeout(
              function() {
                this.$moveInstructions.removeClass('fadeout visible'),
                this.$moveInstructions.hide()
              }.bind(this),
              500
            ),
            this.vr &&
                this.VRMoveInstructions &&
                (this.camera.remove(this.VRMoveInstructions),
                  (this.VRMoveInstructions = null))
          },
          update: function(t) {
            this.marker.frozen || this.updateMarker(t)
          }
        }),
        s.mixin(o),
        (e.exports = s)
      },
      { 16: 16, 19: 19, 3: 3, 62: 62 }
    ],
    67: [
      function(t, e, n) {
        function i(t) {
          var e = o.getTexture('textures/waternormals.jpg')
          e.wrapS = e.wrapT = THREE.RepeatWrapping
          var n = new THREE.Vector3()
          t.light && t.light instanceof THREE.Light
            ? n.copy(t.light.position)
            : n.set(-0.2, 0.3, -0.5),
          (this.effect = new r(t.renderer, t.camera, {
            color: 16777215,
            waterNormals: e,
            transparent: void 0 !== t.transparent ? t.transparent : !1,
            sunDirection: n,
            sunColor: 16777215,
            shininess: 500,
            alpha: 0.35
          })),
          t.object
            ? (THREE.Mesh.call(this, t.object.geometry, this.effect.material),
              this.position.copy(t.object.position),
              this.rotation.copy(t.object.rotation),
              this.scale.copy(t.object.scale))
            : (THREE.Mesh.call(
              this,
              new THREE.PlaneBufferGeometry(2e3, 2e3, 10, 10),
              this.effect.material
            ),
              (this.rotation.x = 0.5 * -Math.PI),
              (this.position.y -= 20)),
          this.add(this.effect)
        }
        var r = t('54'),
          o = t('16')
        i.inherit(THREE.Mesh, {
          update: function(t) {
            this.effect.material.uniforms.time &&
              (this.effect.material.uniforms.time.value += 0.25 * t.delta),
            this.effect.update()
          },
          render: function() {
            this.effect.render(this.effect.renderer, this.effect.camera)
          }
        }),
        (e.exports = i)
      },
      { 16: 16, 54: 54 }
    ]
  },
  {},
  [58]
)
